<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="noodp" />
    <title class="pjax-title">ä¸ºä»€ä¹ˆæˆ‘çš„ Nebula-Spark-Connectorã€Nebula-Algorithm è¿ä¸ä¸Š K8s éƒ¨ç½²çš„ Nebula Graph é›†ç¾¤ï¼Ÿ - siwei.io</title><meta name="Description" content="ä¸€æ–‡äº†è§£ K8s éƒ¨ç½²çš„ Nebula Graph é›†ç¾¤çš„ Nebula-Algorithm ä½¿ç”¨æ–¹æ³•ã€‚"><meta property="og:title" content="ä¸ºä»€ä¹ˆæˆ‘çš„ Nebula-Spark-Connectorã€Nebula-Algorithm è¿ä¸ä¸Š K8s éƒ¨ç½²çš„ Nebula Graph é›†ç¾¤ï¼Ÿ" />
<meta property="og:description" content="ä¸€æ–‡äº†è§£ K8s éƒ¨ç½²çš„ Nebula Graph é›†ç¾¤çš„ Nebula-Algorithm ä½¿ç”¨æ–¹æ³•ã€‚" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://siwei.io/nebula-algo-spark-k8s/" /><meta property="og:image" content="https://siwei.io/nebula-algo-spark-k8s/featured-image.webp"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-02-14T18:47:53+08:00" />
<meta property="article:modified_time" content="2022-02-16T10:35:24+08:00" /><meta property="og:site_name" content="siwei.io" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://siwei.io/nebula-algo-spark-k8s/featured-image.webp"/>
<meta name="twitter:title" content="ä¸ºä»€ä¹ˆæˆ‘çš„ Nebula-Spark-Connectorã€Nebula-Algorithm è¿ä¸ä¸Š K8s éƒ¨ç½²çš„ Nebula Graph é›†ç¾¤ï¼Ÿ"/>
<meta name="twitter:description" content="ä¸€æ–‡äº†è§£ K8s éƒ¨ç½²çš„ Nebula Graph é›†ç¾¤çš„ Nebula-Algorithm ä½¿ç”¨æ–¹æ³•ã€‚"/>
<meta name="application-name" content="siwei.io">
<meta name="apple-mobile-web-app-title" content="siwei.io">

<meta name="theme-color" content="#f8f8f8"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://siwei.io/nebula-algo-spark-k8s/" /><link rel="prev" href="https://siwei.io/siwi/" /><link rel="next" href="https://siwei.io/nebula-index-explained/" /><link rel="stylesheet" href="/lib/normalize/normalize.min.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="preload" as="style" onload="this.onload=null;this.rel='stylesheet'" href="/lib/fontawesome-free/all.min.css">
        <noscript><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"></noscript><link rel="preload" as="style" onload="this.onload=null;this.rel='stylesheet'" href="/lib/animate/animate.min.css">
        <noscript><link rel="stylesheet" href="/lib/animate/animate.min.css"></noscript>
    
    
    
    <meta name="baidu-site-verification" content="code-4R67zl7SwH" /><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "ä¸ºä»€ä¹ˆæˆ‘çš„ Nebula-Spark-Connectorã€Nebula-Algorithm è¿ä¸ä¸Š K8s éƒ¨ç½²çš„ Nebula Graph é›†ç¾¤ï¼Ÿ",
        "inLanguage": "zh-CN",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/siwei.io\/nebula-algo-spark-k8s\/"
        },"image": ["https:\/\/siwei.io\/images\/site-feature-image.webp"],"genre": "posts","keywords": "Nebula Graph, å›¾æ•°æ®åº“, Spark-Connector, Nebula-Algorithm, k8s, nebula-operator","wordcount":  2215 ,
        "url": "https:\/\/siwei.io\/nebula-algo-spark-k8s\/","datePublished": "2022-02-14T18:47:53+08:00","dateModified": "2022-02-16T10:35:24+08:00","publisher": {
            "@type": "Organization",
            "name": "Wey Gu","logo": "https:\/\/siwei.io\/images\/site-feature-image.webp"},"author": {
                "@type": "Person",
                "name": "Wey Gu"
            },"description": "ä¸€æ–‡äº†è§£ K8s éƒ¨ç½²çš„ Nebula Graph é›†ç¾¤çš„ Nebula-Algorithm ä½¿ç”¨æ–¹æ³•ã€‚"
    }
    </script></head>

<body header-desktop="fixed" header-mobile="auto"><script type="text/javascript">
        function setTheme(theme) {document.body.setAttribute('theme', theme); document.documentElement.style.setProperty('color-scheme', theme === 'light' ? 'light' : 'dark');}
        function saveTheme(theme) {window.localStorage && localStorage.setItem('theme', theme);}
        function getMeta(metaName) {const metas = document.getElementsByTagName('meta'); for (let i = 0; i < metas.length; i++) if (metas[i].getAttribute('name') === metaName) return metas[i]; return '';}
        if (window.localStorage && localStorage.getItem('theme')) {let theme = localStorage.getItem('theme');theme === 'light' || theme === 'dark' || theme === 'black' ? setTheme(theme) : (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? setTheme('dark') : setTheme('light')); } else { if ('auto' === 'light' || 'auto' === 'dark' || 'auto' === 'black') setTheme('auto'), saveTheme('auto'); else saveTheme('auto'), window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? setTheme('dark') : setTheme('light');}
        let metaColors = {'light': '#f8f8f8','dark': '#252627','black': '#000000'}
        getMeta('theme-color').content = metaColors[document.body.getAttribute('theme')];
    </script>
    <div id="back-to-top"></div>
    <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="siwei.io"><span class="header-title-pre"><i class="fas fa-code-branch"></i></span>siwei.io</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/about/"> å…³äº </a><a class="menu-item" href="/projects/"> é¡¹ç›® </a><a class="menu-item" href="/sketch-notes/"> æ‰‹ç»˜ </a><a class="menu-item" href="/posts/"> åšå®¢ </a><a class="menu-item" href="/talk/"> æ¼”è®² </a><a class="menu-item" href="/cources/"> è¯¾ç¨‹ </a><a class="menu-item" href="https://vesoft.com/cn/careers/" rel="noopener noreferrer" target="_blank"> æ‹›è˜ </a><a class="menu-item" href="/about/#%E8%81%94%E7%B3%BB%E6%88%91"> è”ç³» </a><a class="menu-item" href="/path/"> å­¦ä¹ è·¯å¾„ </a><span class="menu-item delimiter"></span><a href="#" onclick="return false;" class="menu-item language" title="é€‰æ‹©è¯­è¨€">ğŸŒ Chinese<i class="fas fa-chevron-right fa-fw"></i>
                        <select class="language-select" title="Select Language" id="language-select-desktop" onchange="location = this.value;"><option value="/nebula-algo-spark-k8s/" selected>ğŸŒ Chinese</option></select>
                    </a><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="æœç´¢æ–‡ç« æ ‡é¢˜æˆ–å†…å®¹..." id="search-input-desktop">
                        <a href="#" onclick="return false;" class="search-button search-toggle" id="search-toggle-desktop" title="æœç´¢">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="#" onclick="return false;" class="search-button search-clear" id="search-clear-desktop" title="æ¸…ç©º">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </span><a href="#" onclick="return false;" class="menu-item theme-select" title="åˆ‡æ¢ä¸»é¢˜">
                    <i class="fas fa-adjust fa-fw"></i>
                    <select class="color-theme-select" id="theme-select-desktop" title="åˆ‡æ¢ä¸»é¢˜">
                        <option value="light">æµ…è‰²</option>
                        <option value="dark">æ·±è‰²</option>
                        <option value="black">é»‘è‰²</option>
                        <option value="auto">è·Ÿéšç³»ç»Ÿ</option>
                    </select>
                </a></div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="siwei.io"><span class="header-title-pre"><i class="fas fa-code-branch"></i></span>siwei.io</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="æœç´¢æ–‡ç« æ ‡é¢˜æˆ–å†…å®¹..." id="search-input-mobile">
                        <a href="#" onclick="return false;" class="search-button search-toggle" id="search-toggle-mobile" title="æœç´¢">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="#" onclick="return false;" class="search-button search-clear" id="search-clear-mobile" title="æ¸…ç©º">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </div>
                    <a href="#" onclick="return false;" class="search-cancel" id="search-cancel-mobile">
                        å–æ¶ˆ
                    </a>
                </div><a class="menu-item" href="/about/" title="">å…³äº</a><a class="menu-item" href="/projects/" title="">é¡¹ç›®</a><a class="menu-item" href="/sketch-notes/" title="">æ‰‹ç»˜</a><a class="menu-item" href="/posts/" title="">åšå®¢</a><a class="menu-item" href="/talk/" title="">æ¼”è®²</a><a class="menu-item" href="/cources/" title="">è¯¾ç¨‹</a><a class="menu-item" href="https://vesoft.com/cn/careers/" title="" rel="noopener noreferrer" target="_blank">æ‹›è˜</a><a class="menu-item" href="/about/#%E8%81%94%E7%B3%BB%E6%88%91" title="">è”ç³»</a><a class="menu-item" href="/path/" title="">å­¦ä¹ è·¯å¾„</a><a href="#" onclick="return false;" class="menu-item theme-select" title="åˆ‡æ¢ä¸»é¢˜">
                <i class="fas fa-adjust fa-fw"></i>
                <select class="color-theme-select" id="theme-select-mobile" title="åˆ‡æ¢ä¸»é¢˜">
                    <option value="light">æµ…è‰²</option>
                    <option value="dark">æ·±è‰²</option>
                    <option value="black">é»‘è‰²</option>
                    <option value="auto">è·Ÿéšç³»ç»Ÿ</option>
                </select>
            </a><a href="#" onclick="return false;" class="menu-item" title="é€‰æ‹©è¯­è¨€">ğŸŒ Chinese<i class="fas fa-chevron-right fa-fw"></i>
                    <select class="language-select" title="Select Language" onchange="location = this.value;"><option value="/nebula-algo-spark-k8s/" selected>ğŸŒ Chinese</option></select>
                </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
            <div class="container"><div class="toc" id="toc-auto">
        <h2 class="toc-title">ç›®å½•</h2>
        <div class="toc-content always-active" id="toc-content-auto"><nav id="TableOfContents">
  <ol>
    <li><a href="#æ­¥éª¤">æ­¥éª¤</a>
      <ol>
        <li><a href="#å®¹æ˜“å¿½ç•¥çš„é—®é¢˜">å®¹æ˜“å¿½ç•¥çš„é—®é¢˜</a></li>
        <li><a href="#èƒŒæ™¯çŸ¥è¯†">èƒŒæ™¯çŸ¥è¯†</a></li>
      </ol>
    </li>
    <li><a href="#bonusä¸€é”®ä½“éªŒ-nebula-algorithm--nebula-operator">Bonusï¼šä¸€é”®ä½“éªŒ nebula-algorithm + nebula-operator</a></li>
  </ol>
</nav></div>
    </div><script>document.getElementsByTagName("main")[0].setAttribute("pageStyle", "normal")</script><script>document.getElementsByTagName("main")[0].setAttribute("autoTOC", "true")</script><article class="page single"><h1 class="single-title animate__animated animate__flipInX">ä¸ºä»€ä¹ˆæˆ‘çš„ Nebula-Spark-Connectorã€Nebula-Algorithm è¿ä¸ä¸Š K8s éƒ¨ç½²çš„ Nebula Graph é›†ç¾¤ï¼Ÿ</h1><div class="post-meta">
            <div class="post-meta-line">
                <span class="post-author"><i class="author fas fa-user-circle fa-fw"></i><a href="https://siwei.io" title="Author" target="_blank" rel="noopener noreferrer author" class="author">Wey Gu</a>
                </span>&nbsp;<span class="post-category">æ”¶å½•äº </span>&nbsp;<span class="post-category">ç±»åˆ« <a href="/categories/nebula-graph/"><i class="far fa-folder fa-fw"></i>Nebula Graph</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="2022-02-14">2022-02-14</time>&nbsp;<i class="far fa-edit fa-fw"></i>&nbsp;<time datetime="2022-02-16">2022-02-16</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;çº¦ 2215 å­—&nbsp;
                <i class="far fa-clock fa-fw"></i>&nbsp;é¢„è®¡é˜…è¯» 5 åˆ†é’Ÿ&nbsp;</div>
        </div><div class="featured-image"><img
        class="lazyload"
        data-src="/nebula-algo-spark-k8s/featured-image.webp"
        data-srcset="/nebula-algo-spark-k8s/featured-image.webp, /nebula-algo-spark-k8s/featured-image.webp 1.5x, /nebula-algo-spark-k8s/featured-image.webp 2x"
        data-sizes="auto"
        alt="/nebula-algo-spark-k8s/featured-image.webp"
        title="ä¸€æ–‡äº†è§£ K8s éƒ¨ç½²çš„ Nebula Graph é›†ç¾¤çš„ Nebula-Algorithm ä½¿ç”¨æ–¹æ³•ã€‚" height="892" width="1740"></div><div class="details toc" id="toc-static"  kept="">
                <div class="details-summary toc-title">
                    <span>ç›®å½•</span>
                    <span><i class="details-icon fas fa-angle-right"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ol>
    <li><a href="#æ­¥éª¤">æ­¥éª¤</a>
      <ol>
        <li><a href="#å®¹æ˜“å¿½ç•¥çš„é—®é¢˜">å®¹æ˜“å¿½ç•¥çš„é—®é¢˜</a></li>
        <li><a href="#èƒŒæ™¯çŸ¥è¯†">èƒŒæ™¯çŸ¥è¯†</a></li>
      </ol>
    </li>
    <li><a href="#bonusä¸€é”®ä½“éªŒ-nebula-algorithm--nebula-operator">Bonusï¼šä¸€é”®ä½“éªŒ nebula-algorithm + nebula-operator</a></li>
  </ol>
</nav></div>
            </div><div class="content" id="content"><blockquote>
<p>ä¸€æ–‡äº†è§£ K8s éƒ¨ç½²çš„ Nebula Graph é›†ç¾¤çš„ Nebula-Algorithm ä½¿ç”¨æ–¹æ³•ã€‚</p>
</blockquote>
<h2 id="æ­¥éª¤" class="headerLink">
    <a href="#%e6%ad%a5%e9%aa%a4" class="header-mark"></a>1 æ­¥éª¤</h2><p>æœ€æ–¹ä¾¿çš„æ–¹æ³•æ˜¯å°† Nebula Algorithm/ Spark è¿è¡Œåœ¨ä¸ Nebula-Operator ç›¸åŒçš„ç½‘ç»œå‘½åç©ºé—´é‡Œï¼Œå°† <code>show hosts meta</code> çš„ MetaD <code>åŸŸå:ç«¯å£</code> æ ¼å¼çš„åœ°å€å¡«è¿›é…ç½®é‡Œå°±å¯ä»¥äº†ã€‚</p>
<blockquote>
<p>æ³¨ï¼šéœ€è¦ 2.6.2 æˆ–è€…æ›´æ–°çš„ç‰ˆæœ¬ï¼ŒSpark-Connector/Algorithm æ‰æ”¯æŒåŸŸåå½¢å¼çš„ MetaD åœ°å€ã€‚</p>
</blockquote>
<ul>
<li>è·å– MetaD åœ°å€</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">(</span>root@nebula<span class="o">)</span> <span class="o">[(</span>none<span class="o">)]</span>&gt; show hosts meta
</span></span><span class="line"><span class="cl">+------------------------------------------------------------------+------+----------+--------+--------------+---------+
</span></span><span class="line"><span class="cl"><span class="p">|</span> Host                                                             <span class="p">|</span> Port <span class="p">|</span> Status   <span class="p">|</span> Role   <span class="p">|</span> Git Info Sha <span class="p">|</span> Version <span class="p">|</span>
</span></span><span class="line"><span class="cl">+------------------------------------------------------------------+------+----------+--------+--------------+---------+
</span></span><span class="line"><span class="cl"><span class="p">|</span> <span class="s2">&#34;nebula-metad-0.nebula-metad-headless.default.svc.cluster.local&#34;</span> <span class="p">|</span> <span class="m">9559</span> <span class="p">|</span> <span class="s2">&#34;ONLINE&#34;</span> <span class="p">|</span> <span class="s2">&#34;META&#34;</span> <span class="p">|</span> <span class="s2">&#34;d113f4a&#34;</span>    <span class="p">|</span> <span class="s2">&#34;2.6.2&#34;</span> <span class="p">|</span>
</span></span><span class="line"><span class="cl">+------------------------------------------------------------------+------+----------+--------+--------------+---------+
</span></span><span class="line"><span class="cl">Got <span class="m">1</span> rows <span class="o">(</span><span class="nb">time</span> spent 1378/2598 us<span class="o">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Mon, <span class="m">14</span> Feb <span class="m">2022</span> 08:22:33 UTC
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>å¡«å†™ Algorithm çš„é…ç½®æ–‡ä»¶</li>
</ul>
<blockquote>
<p>Ref: <a href="https://github.com/vesoft-inc/nebula-algorithm/blob/master/nebula-algorithm/src/main/resources/application.conf" target="_blank" rel="noopener noreferrer">https://github.com/vesoft-inc/nebula-algorithm/blob/master/nebula-algorithm/src/main/resources/application.conf</a></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-toml" data-lang="toml"><span class="line"><span class="cl"><span class="c"># ...</span>
</span></span><span class="line"><span class="cl">  <span class="nx">nebula</span><span class="err">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c"># algo&#39;s data source from Nebula. If data.source is nebula, then this nebula.read config can be valid.</span>
</span></span><span class="line"><span class="cl">    <span class="nx">read</span><span class="err">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c"># Nebula metad server address, multiple addresses are split by English comma</span>
</span></span><span class="line"><span class="cl">        <span class="nx">metaAddress</span><span class="err">:</span> <span class="s2">&#34;nebula-metad-0.nebula-metad-headless.default.svc.cluster.local:9559&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c">#...</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>æˆ–è€…æ˜¯è°ƒç”¨ spark-connector çš„ä»£ç </li>
</ul>
<blockquote>
<p>Ref: <a href="https://github.com/vesoft-inc/nebula-spark-connector" target="_blank" rel="noopener noreferrer">https://github.com/vesoft-inc/nebula-spark-connector</a></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-scala" data-lang="scala"><span class="line"><span class="cl">  <span class="k">val</span> <span class="n">config</span> <span class="k">=</span> <span class="nc">NebulaConnectionConfig</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">builder</span><span class="o">()</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">withMetaAddress</span><span class="o">(</span><span class="s">&#34;nebula-metad-0.nebula-metad-headless.default.svc.cluster.local:9559&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">withConenctionRetry</span><span class="o">(</span><span class="mi">2</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">build</span><span class="o">()</span>
</span></span><span class="line"><span class="cl">  <span class="k">val</span> <span class="n">nebulaReadVertexConfig</span><span class="k">:</span> <span class="kt">ReadNebulaConfig</span> <span class="o">=</span> <span class="nc">ReadNebulaConfig</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">builder</span><span class="o">()</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">withSpace</span><span class="o">(</span><span class="s">&#34;foo_bar_space&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">withLabel</span><span class="o">(</span><span class="s">&#34;person&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">withNoColumn</span><span class="o">(</span><span class="kc">false</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">withReturnCols</span><span class="o">(</span><span class="nc">List</span><span class="o">(</span><span class="s">&#34;birthday&#34;</span><span class="o">))</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">withLimit</span><span class="o">(</span><span class="mi">10</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">withPartitionNum</span><span class="o">(</span><span class="mi">10</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">build</span><span class="o">()</span>
</span></span><span class="line"><span class="cl">  <span class="k">val</span> <span class="n">vertex</span> <span class="k">=</span> <span class="n">spark</span><span class="o">.</span><span class="n">read</span><span class="o">.</span><span class="n">nebula</span><span class="o">(</span><span class="n">config</span><span class="o">,</span> <span class="n">nebulaReadVertexConfig</span><span class="o">).</span><span class="n">loadVerticesToDF</span><span class="o">()</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>çœ‹èµ·æ¥éå¸¸ç®€å•ï¼Œé‚£ä¹ˆï¼Œä¸ºä»€ä¹ˆè¿™ä¹ˆç®€å•çš„è¿‡ç¨‹å´å€¼å¾—ä¸€ç¯‡æ–‡ç« å‘¢ï¼Ÿ</p>
<h3 id="å®¹æ˜“å¿½ç•¥çš„é—®é¢˜" class="headerLink">
    <a href="#%e5%ae%b9%e6%98%93%e5%bf%bd%e7%95%a5%e7%9a%84%e9%97%ae%e9%a2%98" class="header-mark"></a>1.1 å®¹æ˜“å¿½ç•¥çš„é—®é¢˜</h3><p>è¿™é‡Œçš„é—®é¢˜åœ¨äºï¼š</p>
<p>a. å®ƒéšå«åœ°éœ€è¦ä¿è¯ StorageD çš„åœ°å€èƒ½è¢« spark ç¯å¢ƒè®¿é—®ï¼›</p>
<p>b. ä½†æ˜¯è¿™äº› StorageD åœ°å€æ˜¯ä» MetaD è·å–çš„ï¼›</p>
<p>c. Nebula K8s Operator é‡Œï¼ŒMetaD ä¸­å­˜å‚¨çš„ StorageD åœ°å€ï¼ˆæœåŠ¡å‘ç°ï¼‰çš„æ¥æºæ˜¯ StorageD çš„é…ç½®æ–‡ä»¶ï¼Œè€Œå®ƒæ˜¯ k8s çš„å†…éƒ¨åœ°å€ã€‚</p>
<h3 id="èƒŒæ™¯çŸ¥è¯†" class="headerLink">
    <a href="#%e8%83%8c%e6%99%af%e7%9f%a5%e8%af%86" class="header-mark"></a>1.2 èƒŒæ™¯çŸ¥è¯†</h3><p><strong>a.</strong> çš„ç†ç”±æ¯”è¾ƒç›´æ¥ï¼Œå’Œ nebula çš„æ¶æ„æœ‰å…³ï¼šå›¾çš„æ•°æ®éƒ½å­˜åœ¨ Storage Service ä¹‹ä¸­ï¼Œé€šå¸¸ç”¨è¯­å¥çš„æŸ¥è¯¢æ˜¯é€è¿‡ Graph Service æ¥é€ä¼ ï¼Œåªéœ€è¦ GraphD çš„è¿æ¥å°±è¶³å¤Ÿï¼Œè€Œ Spark-Connector ä½¿ç”¨ Nebula Graph çš„åœºæ™¯æ˜¯æ‰«æå…¨å›¾æˆ–è€…å­å›¾ï¼Œè¿™æ—¶å€™è®¡ç®—å­˜å‚¨åˆ†ç¦»çš„è®¾è®¡ä½¿å¾—æˆ‘ä»¬å¯ä»¥ç»•è¿‡æŸ¥è¯¢ã€è®¡ç®—å±‚ç›´æ¥é«˜æ•ˆè¯»å–å›¾æ•°æ®ã€‚</p>
<p>é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œä¸ºä»€ä¹ˆéœ€è¦ã€ä¸”åªéœ€è¦ MetaD çš„åœ°å€å‘¢ï¼Ÿ</p>
<p>è¿™ä¹Ÿæ˜¯å’Œæ¶æ„æœ‰å…³ï¼ŒMeta Service é‡ŒåŒ…å«äº†å…¨å›¾çš„åˆ†å¸ƒæ•°æ®ä¸åˆ†å¸ƒå¼çš„ Storage Service çš„å„ä¸ªåˆ†ç‰‡å’Œå®ä¾‹çš„åˆ†å¸ƒï¼Œæ‰€ä»¥ä¸€æ–¹é¢å› ä¸ºåªæœ‰ Meta æ‰æœ‰å…¨å›¾çš„ä¿¡æ¯ï¼ˆéœ€è¦ï¼‰ï¼Œå¦ä¸€æ–¹é¢å› ä¸ºä» Meta å¯ä»¥è·å¾—è¿™éƒ¨åˆ†ä¿¡æ¯ï¼ˆåªéœ€è¦ï¼‰ã€‚åˆ°è¿™é‡Œ <strong>b.</strong> çš„ç­”æ¡ˆä¹Ÿæœ‰äº†ã€‚</p>
<ul>
<li>è¯¦ç»†çš„ Nebula Graph æ¶æ„ä¿¡æ¯å¯ä»¥å‚è€ƒåšå®¢ç³»åˆ—æ–‡ç« ï¼š<a href="https://nebula-graph.com.cn/tags/%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/" target="_blank" rel="noopener noreferrer">nebula-graph.com.cn/tags/æ¶æ„è®¾è®¡</a></li>
<li>å¦å¤–è¯·ç¡®ä¿æ‚¨å·²ç»è¯»äº†æ¶æ„ä»‹ç»çš„æ–‡æ¡£å“¦ï¼š<a href="https://docs.nebula-graph.com.cn/3.0.0/1.introduction/3.nebula-graph-architecture/1.architecture-overview/" target="_blank" rel="noopener noreferrer">Nebula æ¶æ„æ€»è§ˆ</a></li>
</ul>
<p><a class="lightgallery" href="https://docs-cdn.nebula-graph.com.cn/docs-2.0/1.introduction/2.nebula-graph-architecture/nebula-graph-architecture-1.png" title="https://docs-cdn.nebula-graph.com.cn/docs-2.0/1.introduction/2.nebula-graph-architecture/nebula-graph-architecture-1.png" data-thumbnail="https://docs-cdn.nebula-graph.com.cn/docs-2.0/1.introduction/2.nebula-graph-architecture/nebula-graph-architecture-1.png">
        <img
            class="lazyload"
            data-src="https://docs-cdn.nebula-graph.com.cn/docs-2.0/1.introduction/2.nebula-graph-architecture/nebula-graph-architecture-1.png"
            data-srcset="https://docs-cdn.nebula-graph.com.cn/docs-2.0/1.introduction/2.nebula-graph-architecture/nebula-graph-architecture-1.png, https://docs-cdn.nebula-graph.com.cn/docs-2.0/1.introduction/2.nebula-graph-architecture/nebula-graph-architecture-1.png 1.5x, https://docs-cdn.nebula-graph.com.cn/docs-2.0/1.introduction/2.nebula-graph-architecture/nebula-graph-architecture-1.png 2x"
            data-sizes="auto"
            alt="https://docs-cdn.nebula-graph.com.cn/docs-2.0/1.introduction/2.nebula-graph-architecture/nebula-graph-architecture-1.png">
    </a></p>
<p>ä¸‹é¢æˆ‘ä»¬çœ‹çœ‹ <strong>c.</strong></p>
<blockquote>
<p>c. Nebula K8s Operator é‡Œï¼ŒMetaD ä¸­å­˜å‚¨çš„ StorageD åœ°å€ï¼ˆæœåŠ¡å‘ç°ï¼‰çš„æ¥æºæ˜¯ StorageD çš„é…ç½®æ–‡ä»¶ï¼Œè€Œå®ƒæ˜¯ k8s çš„å†…éƒ¨åœ°å€ã€‚</p>
</blockquote>
<p>è¿™å’Œ Nebula Graph é‡Œçš„æœåŠ¡å‘ç°æœºåˆ¶æœ‰å…³ï¼šåœ¨ Nebula Graph é›†ç¾¤ä¸­ï¼ŒGraph Service å’Œ Storage Service éƒ½æ˜¯é€šè¿‡å¿ƒè·³å°†è‡ªå·±çš„ä¿¡æ¯ä¸ŠæŠ¥ç»™ Meta Service çš„ï¼Œè€Œè¿™å…¶ä¸­æœåŠ¡è‡ªèº«çš„åœ°å€çš„æ¥æºåˆ™æ¥è‡ªäºä»–ä»¬ç›¸åº”çš„é…ç½®æ–‡ä»¶ä¸­çš„ç½‘ç»œé…ç½®ã€‚</p>
<ul>
<li>
<p>å…³äºæœåŠ¡è‡ªèº«çš„åœ°å€é…ç½®è¯·å‚è€ƒæ–‡æ¡£ï¼š<a href="https://docs.nebula-graph.com.cn/3.0.0/5.configurations-and-logs/1.configurations/4.storage-config/#networking" target="_blank" rel="noopener noreferrer">Storage networking é…ç½®</a></p>
</li>
<li>
<p>å…³äºæœåŠ¡å‘ç°è¯¦ç»†çš„ä¿¡æ¯è¯·å‚è€ƒå››ç‹çš„æ–‡ç« ï¼š<a href="https://nebula-graph.com.cn/posts/cluster-communication-heartbeat/" target="_blank" rel="noopener noreferrer">å›¾æ•°æ®åº“ Nebula Graph é›†ç¾¤é€šä¿¡ï¼šä»å¿ƒè·³è¯´èµ·</a>ã€‚</p>
</li>
</ul>
<p><a class="lightgallery" href="https://www-cdn.nebula-graph.com.cn/nebula-blog/nebula-graph-metad-storaged-graphd-v-r-family.png" title="metad storaged graphd é€šä¿¡" data-thumbnail="https://www-cdn.nebula-graph.com.cn/nebula-blog/nebula-graph-metad-storaged-graphd-v-r-family.png">
        <img
            class="lazyload"
            data-src="https://www-cdn.nebula-graph.com.cn/nebula-blog/nebula-graph-metad-storaged-graphd-v-r-family.png"
            data-srcset="https://www-cdn.nebula-graph.com.cn/nebula-blog/nebula-graph-metad-storaged-graphd-v-r-family.png, https://www-cdn.nebula-graph.com.cn/nebula-blog/nebula-graph-metad-storaged-graphd-v-r-family.png 1.5x, https://www-cdn.nebula-graph.com.cn/nebula-blog/nebula-graph-metad-storaged-graphd-v-r-family.png 2x"
            data-sizes="auto"
            alt="https://www-cdn.nebula-graph.com.cn/nebula-blog/nebula-graph-metad-storaged-graphd-v-r-family.png">
    </a></p>
<p>æœ€åï¼Œæˆ‘ä»¬çŸ¥é“ Nebula Operator æ˜¯ä¸€ä¸ªåœ¨ K8s é›†ç¾¤ä¸­æŒ‰ç…§é…ç½®ï¼Œè‡ªåŠ¨åˆ›å»ºã€ç»´æŠ¤ã€æ‰©ç¼©å®¹ Nebula é›†ç¾¤çš„ K8s æ§åˆ¶é¢çš„åº”ç”¨ï¼Œå®ƒéœ€è¦æŠ½è±¡ä¸€éƒ¨åˆ†å†…éƒ¨èµ„æºç›¸å…³çš„é…ç½®ï¼Œè¿™å°±åŒ…æ‹¬äº† GraphD å’Œ StorageD å®ä¾‹çš„å®é™…åœ°å€ï¼Œä»–ä»¬æ˜¯è¢«é…ç½®çš„åœ°å€å®é™…ä¸Šæ˜¯ <a href="https://kubernetes.io/zh/docs/concepts/services-networking/service/#headless-services" target="_blank" rel="noopener noreferrer">headless service åœ°å€</a>ã€‚</p>
<p>è€Œè¿™äº›åœ°å€ï¼ˆå¦‚ä¸‹ï¼‰é»˜è®¤æ˜¯æ²¡æ³•è¢« k8s å¤–éƒ¨ç½‘ç»œè®¿é—®çš„ï¼Œæ‰€ä»¥é’ˆå¯¹ GraphDã€MetaD æˆ‘ä»¬å¯ä»¥æ–¹ä¾¿åˆ›å»ºæœåŠ¡å°†å…¶æš´éœ²å‡ºæ¥ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="p">(</span><span class="n">root</span><span class="o">@</span><span class="n">nebula</span><span class="p">)</span><span class="w"> </span><span class="p">[(</span><span class="k">none</span><span class="p">)]</span><span class="o">&gt;</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="n">hosts</span><span class="w"> </span><span class="n">meta</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">+</span><span class="c1">------------------------------------------------------------------+------+----------+--------+--------------+---------+
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="k">Host</span><span class="w">                                                             </span><span class="o">|</span><span class="w"> </span><span class="n">Port</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Status</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="k">Role</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">Git</span><span class="w"> </span><span class="n">Info</span><span class="w"> </span><span class="n">Sha</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Version</span><span class="w"> </span><span class="o">|</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">+</span><span class="c1">------------------------------------------------------------------+------+----------+--------+--------------+---------+
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="s2">&#34;nebula-metad-0.nebula-metad-headless.default.svc.cluster.local&#34;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">9559</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s2">&#34;ONLINE&#34;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s2">&#34;META&#34;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s2">&#34;d113f4a&#34;</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="s2">&#34;2.6.2&#34;</span><span class="w"> </span><span class="o">|</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">+</span><span class="c1">------------------------------------------------------------------+------+----------+--------+--------------+---------+
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">Got</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="p">(</span><span class="n">time</span><span class="w"> </span><span class="n">spent</span><span class="w"> </span><span class="mi">1378</span><span class="o">/</span><span class="mi">2598</span><span class="w"> </span><span class="n">us</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">Mon</span><span class="p">,</span><span class="w"> </span><span class="mi">14</span><span class="w"> </span><span class="n">Feb</span><span class="w"> </span><span class="mi">2022</span><span class="w"> </span><span class="mi">09</span><span class="p">:</span><span class="mi">22</span><span class="p">:</span><span class="mi">33</span><span class="w"> </span><span class="n">UTC</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">(</span><span class="n">root</span><span class="o">@</span><span class="n">nebula</span><span class="p">)</span><span class="w"> </span><span class="p">[(</span><span class="k">none</span><span class="p">)]</span><span class="o">&gt;</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="n">hosts</span><span class="w"> </span><span class="n">graph</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">+</span><span class="c1">---------------------------------------------------------------+------+----------+---------+--------------+---------+
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="k">Host</span><span class="w">                                                          </span><span class="o">|</span><span class="w"> </span><span class="n">Port</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Status</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="k">Role</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">Git</span><span class="w"> </span><span class="n">Info</span><span class="w"> </span><span class="n">Sha</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Version</span><span class="w"> </span><span class="o">|</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">+</span><span class="c1">---------------------------------------------------------------+------+----------+---------+--------------+---------+
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="s2">&#34;nebula-graphd-0.nebula-graphd-svc.default.svc.cluster.local&#34;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">9669</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s2">&#34;ONLINE&#34;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s2">&#34;GRAPH&#34;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s2">&#34;d113f4a&#34;</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="s2">&#34;2.6.2&#34;</span><span class="w"> </span><span class="o">|</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">+</span><span class="c1">---------------------------------------------------------------+------+----------+---------+--------------+---------+
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">Got</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="p">(</span><span class="n">time</span><span class="w"> </span><span class="n">spent</span><span class="w"> </span><span class="mi">2072</span><span class="o">/</span><span class="mi">3403</span><span class="w"> </span><span class="n">us</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">Mon</span><span class="p">,</span><span class="w"> </span><span class="mi">14</span><span class="w"> </span><span class="n">Feb</span><span class="w"> </span><span class="mi">2022</span><span class="w"> </span><span class="mi">10</span><span class="p">:</span><span class="mi">03</span><span class="p">:</span><span class="mi">58</span><span class="w"> </span><span class="n">UTC</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">(</span><span class="n">root</span><span class="o">@</span><span class="n">nebula</span><span class="p">)</span><span class="w"> </span><span class="p">[(</span><span class="k">none</span><span class="p">)]</span><span class="o">&gt;</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="n">hosts</span><span class="w"> </span><span class="k">storage</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">+</span><span class="c1">------------------------------------------------------------------------+------+----------+-----------+--------------+---------+
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="k">Host</span><span class="w">                                                                   </span><span class="o">|</span><span class="w"> </span><span class="n">Port</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Status</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="k">Role</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">Git</span><span class="w"> </span><span class="n">Info</span><span class="w"> </span><span class="n">Sha</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Version</span><span class="w"> </span><span class="o">|</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">+</span><span class="c1">------------------------------------------------------------------------+------+----------+-----------+--------------+---------+
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="s2">&#34;nebula-storaged-0.nebula-storaged-headless.default.svc.cluster.local&#34;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">9779</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s2">&#34;ONLINE&#34;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s2">&#34;STORAGE&#34;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s2">&#34;d113f4a&#34;</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="s2">&#34;2.6.2&#34;</span><span class="w"> </span><span class="o">|</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="s2">&#34;nebula-storaged-1.nebula-storaged-headless.default.svc.cluster.local&#34;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">9779</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s2">&#34;ONLINE&#34;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s2">&#34;STORAGE&#34;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s2">&#34;d113f4a&#34;</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="s2">&#34;2.6.2&#34;</span><span class="w"> </span><span class="o">|</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="s2">&#34;nebula-storaged-2.nebula-storaged-headless.default.svc.cluster.local&#34;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">9779</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s2">&#34;ONLINE&#34;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s2">&#34;STORAGE&#34;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s2">&#34;d113f4a&#34;</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="s2">&#34;2.6.2&#34;</span><span class="w"> </span><span class="o">|</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">+</span><span class="c1">------------------------------------------------------------------------+------+----------+-----------+--------------+---------+
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">Got</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="p">(</span><span class="n">time</span><span class="w"> </span><span class="n">spent</span><span class="w"> </span><span class="mi">1603</span><span class="o">/</span><span class="mi">2979</span><span class="w"> </span><span class="n">us</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">Mon</span><span class="p">,</span><span class="w"> </span><span class="mi">14</span><span class="w"> </span><span class="n">Feb</span><span class="w"> </span><span class="mi">2022</span><span class="w"> </span><span class="mi">10</span><span class="p">:</span><span class="mi">05</span><span class="p">:</span><span class="mi">24</span><span class="w"> </span><span class="n">UTC</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>ç„¶è€Œï¼Œå› ä¸ºå‰è¾¹æåˆ°çš„ Spark-Connector é€šè¿‡ Meta Service å»è·å– StorageD çš„åœ°å€ï¼Œä¸”è¿™ä¸ªåœ°å€æ˜¯æœåŠ¡å‘ç°è€Œå¾—ï¼Œæ‰€ä»¥ Spark-Connector å®é™…ä¸Šè·å–çš„ StorageD åœ°å€å°±æ˜¯ä¸Šè¾¹çš„è¿™ç§ headless çš„æœåŠ¡åœ°å€ï¼Œæ²¡æ³•ç›´æ¥ä»å¤–éƒ¨è®¿é—®ã€‚</p>
<p>æ‰€ä»¥ï¼Œæˆ‘ä»¬åœ¨æœ‰æ¡ä»¶çš„æƒ…å†µä¸‹ï¼Œåªéœ€è¦è®© Spark è¿è¡Œåœ¨å’Œ Nebula Cluster ç›¸åŒçš„ K8s ç½‘ç»œé‡Œï¼Œä¸€åˆ‡å°±è¿åˆƒè€Œè§£äº†ï¼Œå¦åˆ™ï¼Œæˆ‘ä»¬éœ€è¦ï¼š</p>
<ol>
<li>
<p>å°† MetaD å’Œ StorageD çš„åœ°å€åˆ©ç”¨ Ingress ç­‰æ–¹å¼å°†å…¶ L4ï¼ˆTCPï¼‰æš´éœ²å‡ºæ¥ã€‚</p>
<p>å¯ä»¥å‚è€ƒ Nebula Operator çš„æ–‡æ¡£ï¼š<a href="doc/user/client_service.md" rel="">doc/user/client_service.md</a></p>
</li>
<li>
<p>é€šè¿‡åå‘ä»£ç†å’ŒDNSè®©è¿™äº› headless æœåŠ¡èƒ½è¢«è§£æåˆ°ç›¸åº”çš„ StorageDã€‚</p>
<p>å‚è€ƒï¼šTBD</p>
</li>
</ol>
<p>é‚£ä¹ˆï¼Œæœ‰æ²¡æœ‰æ›´æ–¹ä¾¿çš„æ–¹å¼ï¼Ÿ</p>
<p>éå¸¸æŠ±æ­‰çš„æ˜¯ï¼Œç›®å‰æœ€æ–¹ä¾¿çš„æ–¹å¼ä¾ç„¶æ˜¯å¦‚æ–‡ç« æœ€å¼€å¤´æ‰€ä»‹ç»ï¼šè®© Spark è¿è¡Œåœ¨ Nebula Cluster å†…éƒ¨ã€‚å®é™…ä¸Šï¼Œæˆ‘åœ¨åŠªåŠ›æ¨è¿› Nebula Spark ç¤¾åŒºå»æ”¯æŒå¯ä»¥é…ç½®çš„ StorageAddresses é€‰é¡¹ï¼Œæœ‰äº†å®ƒä¹‹åï¼Œå‰è¾¹æåˆ°çš„ <strong>2.</strong> å°±æ˜¯ä¸å¿…è¦çš„äº†ã€‚</p>
<h2 id="bonusä¸€é”®ä½“éªŒ-nebula-algorithm--nebula-operator" class="headerLink">
    <a href="#bonus%e4%b8%80%e9%94%ae%e4%bd%93%e9%aa%8c-nebula-algorithm--nebula-operator" class="header-mark"></a>2 Bonusï¼šä¸€é”®ä½“éªŒ nebula-algorithm + nebula-operator</h2><p>ä¸ºäº†æ–¹ä¾¿åœ¨ k8s ä¸Šå°é²œ nebula-graph nebula-algorithm çš„åŒå­¦ï¼Œè¿™é‡Œæˆ‘è¦å†æ¬¡å®‰åˆ©ä¸€ä¸‹æˆ‘å†™çš„ä¸€ä¸ªå°å·¥å…· <a href="https://github.com/wey-gu/nebula-operator-kind" target="_blank" rel="noopener noreferrer">Neubla-Operator-KinD</a>ï¼Œå®ƒæ˜¯ä¸€ä¸ªä¸€é”®åœ¨ Docker ç¯å¢ƒå†…éƒ¨å•ç‹¬éƒ¨ç½²ä¸€ä¸ª k8s é›†ç¾¤å¹¶åœ¨å…¶ä¸­éƒ¨ç½² Nebula Operator ä»¥åŠæ‰€æœ‰ä¾èµ–ï¼ˆåŒ…æ‹¬ storage providerï¼‰å¹¶éƒ¨ç½²ä¸€ä¸ªå° Nebula Cluster çš„å·¥å…·ã€‚æœ‰ç‚¹ç»•ï¼Œä¸è¿‡å¯ä»¥çœ‹ä¸‹è¾¹çš„æ­¥éª¤å“ˆï¼š</p>
<p>ç¬¬ä¸€æ­¥ï¼Œéƒ¨ç½² K8s+Nebula-Operator+Nebula Clusterï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -sL nebula-kind.siwei.io/install.sh <span class="p">|</span> bash
</span></span></code></pre></td></tr></table>
</div>
</div><p><a class="lightgallery" href="https://github.com/wey-gu/nebula-operator-kind/raw/main/images/install_success.webp" title="install_success" data-thumbnail="https://github.com/wey-gu/nebula-operator-kind/raw/main/images/install_success.webp">
        <img
            class="lazyload"
            data-src="https://github.com/wey-gu/nebula-operator-kind/raw/main/images/install_success.webp"
            data-srcset="https://github.com/wey-gu/nebula-operator-kind/raw/main/images/install_success.webp, https://github.com/wey-gu/nebula-operator-kind/raw/main/images/install_success.webp 1.5x, https://github.com/wey-gu/nebula-operator-kind/raw/main/images/install_success.webp 2x"
            data-sizes="auto"
            alt="https://github.com/wey-gu/nebula-operator-kind/raw/main/images/install_success.webp">
    </a></p>
<p>ç¬¬äºŒæ­¥ï¼Œç…§ç€å·¥å…·æ–‡æ¡£é‡Œçš„ <a href="https://github.com/wey-gu/nebula-operator-kind#whats-next" target="_blank" rel="noopener noreferrer">what&rsquo;s next</a></p>
<p>a. ç”¨ console è¿æ¥é›†ç¾¤ï¼Œå¹¶åŠ è½½ç¤ºä¾‹æ•°æ®é›†</p>
<p>b. <a href="https://github.com/wey-gu/nebula-operator-kind/blob/main/README.md#try-nebula-algorithm" target="_blank" rel="noopener noreferrer">åœ¨è¿™ä¸ª k8s é‡Œè·‘ä¸€ä¸ªå›¾ç®—æ³•</a></p>
<ul>
<li>åˆ›å»ºä¸€ä¸ª Spark ç¯å¢ƒ</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">kubectl create -f http://nebula-kind.siwei.io/deployment/spark.yaml
</span></span><span class="line"><span class="cl">kubectl wait pod --timeout=-1s --for=condition=Ready -l &#39;!job-name&#39;
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>ç­‰ä¸Šè¾¹çš„ wait éƒ½ ready ä¹‹åï¼Œè¿›å…¥ spark çš„ podã€‚</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">kubectl exec -it deploy/spark-deployment -- bash
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>ä¸‹è½½ nebula-algorithm æ¯”å¦‚ <code>2.6.2</code> è¿™ä¸ªç‰ˆæœ¬ï¼Œæ›´å¤šç‰ˆæœ¬è¯·å‚è€ƒ <a href="https://github.com/vesoft-inc/nebula-algorithm/" target="_blank" rel="noopener noreferrer">https://github.com/vesoft-inc/nebula-algorithm/</a>ã€‚</li>
</ul>
<blockquote>
<p>æ³¨æ„ï¼š</p>
<ul>
<li>å®˜æ–¹å‘å¸ƒçš„ç‰ˆæœ¬åœ¨è¿™é‡Œå¯ä»¥è·å–ï¼šhttps://repo1.maven.org/maven2/com/vesoft/nebula-algorithm/</li>
<li>å› ä¸ºè¿™ä¸ªé—®é¢˜ <a href="https://github.com/vesoft-inc/nebula-algorithm/issues/42" target="_blank" rel="noopener noreferrer">https://github.com/vesoft-inc/nebula-algorithm/issues/42</a> åªæœ‰ <code>2.6.2</code> æˆ–è€…æ›´æ–°çš„ç‰ˆæœ¬æ‰æ”¯æŒåŸŸåè®¿é—® MetaDã€‚</li>
</ul>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># ä¸‹è½½ nebula-algorithm-2.6.2.jar
</span></span><span class="line"><span class="cl">wget https://repo1.maven.org/maven2/com/vesoft/nebula-algorithm/2.6.2/nebula-algorithm-2.6.2.jar
</span></span><span class="line"><span class="cl"># ä¸‹è½½ nebula-algorthm é…ç½®æ–‡ä»¶
</span></span><span class="line"><span class="cl">wget https://github.com/vesoft-inc/nebula-algorithm/raw/v2.6/nebula-algorithm/src/main/resources/application.conf
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>ä¿®æ”¹Then we could change the config file of nebula-algorithm on meta and graph addresses:</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">sed -i &#39;/^        metaAddress/c\        metaAddress: \&#34;nebula-metad-0.nebula-metad-headless.default.svc.cluster.local:9559\&#34;&#39; application.conf
</span></span><span class="line"><span class="cl">sed -i &#39;/^        graphAddress/c\        graphAddress: \&#34;nebula-graphd-0.nebula-graphd-svc.default.svc.cluster.local:9669\&#34;&#39; application.conf
</span></span><span class="line"><span class="cl">##### change space
</span></span><span class="line"><span class="cl">sed -i &#39;/^        space/c\        space: basketballplayer&#39; application.conf
</span></span><span class="line"><span class="cl">##### read data from nebula graph
</span></span><span class="line"><span class="cl">sed -i &#39;/^    source/c\    source: nebula&#39; application.conf
</span></span><span class="line"><span class="cl">##### execute algorithm: labelpropagation
</span></span><span class="line"><span class="cl">sed -i &#39;/^    executeAlgo/c\    executeAlgo: labelpropagation&#39; application.conf
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>æ‰§è¡Œ LPA ç®—æ³•åœ¨  basketballplayer å›¾ç©ºé—´</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">/spark/bin/spark-submit --master &#34;local&#34; --conf spark.rpc.askTimeout=6000s \
</span></span><span class="line"><span class="cl">    --class com.vesoft.nebula.algorithm.Main \
</span></span><span class="line"><span class="cl">    nebula-algorithm-2.6.2.jar \
</span></span><span class="line"><span class="cl">    -p application.conf
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>ç»“æœå¦‚ä¸‹ï¼š</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">bash-5.0# ls /tmp/count/
</span></span><span class="line"><span class="cl">_SUCCESS                                                  part-00000-5475f9f4-66b9-426b-b0c2-704f946e54d3-c000.csv
</span></span><span class="line"><span class="cl">bash-5.0# head /tmp/count/part-00000-5475f9f4-66b9-426b-b0c2-704f946e54d3-c000.csv
</span></span><span class="line"><span class="cl">_id,lpa
</span></span><span class="line"><span class="cl">1100,1104
</span></span><span class="line"><span class="cl">2200,2200
</span></span><span class="line"><span class="cl">2201,2201
</span></span><span class="line"><span class="cl">1101,1104
</span></span><span class="line"><span class="cl">2202,2202
</span></span></code></pre></td></tr></table>
</div>
</div><p>Happy Graphing!</p>
<blockquote>
<p>Picture Credit: <a href="https://unsplash.com/photos/yx20mpDyr2I" target="_blank" rel="noopener noreferrer">Timelab Pro</a></p>
</blockquote></div>

        


<h2>ç›¸å…³å†…å®¹</h2>
<div class="related-container">
    <div class="related-item-container">
            <div class="related-image">
                <a href="/nebulagraph-sns/"><img
        class="lazyload"
        data-src="/nebulagraph-sns/featured-image.webp"
        data-srcset="/nebulagraph-sns/featured-image.webp, /nebulagraph-sns/featured-image.webp 1.5x, /nebulagraph-sns/featured-image.webp 2x"
        data-sizes="auto"
        alt="/nebulagraph-sns/featured-image.webp"
        title="ä¸€æ–‡äº†è§£ K8s éƒ¨ç½²çš„ Nebula Graph é›†ç¾¤çš„ Nebula-Algorithm ä½¿ç”¨æ–¹æ³•ã€‚" height="200" width="400"></a>
            </div><h2 class="related-title">
                <a href="/nebulagraph-sns/">å›¾æ•°æ®åº“çš„ç¤¾äº¤ç½‘ç»œåº”ç”¨</a>
            </h2>
        </div>
    <div class="related-item-container">
            <div class="related-image">
                <a href="/chatgpt-and-nebulagraph-predict-fifa-world-cup/"><img
        class="lazyload"
        data-src="/chatgpt-and-nebulagraph-predict-fifa-world-cup/featured-image.webp"
        data-srcset="/chatgpt-and-nebulagraph-predict-fifa-world-cup/featured-image.webp, /chatgpt-and-nebulagraph-predict-fifa-world-cup/featured-image.webp 1.5x, /chatgpt-and-nebulagraph-predict-fifa-world-cup/featured-image.webp 2x"
        data-sizes="auto"
        alt="/chatgpt-and-nebulagraph-predict-fifa-world-cup/featured-image.webp"
        title="ä¸€æ–‡äº†è§£ K8s éƒ¨ç½²çš„ Nebula Graph é›†ç¾¤çš„ Nebula-Algorithm ä½¿ç”¨æ–¹æ³•ã€‚" height="200" width="400"></a>
            </div><h2 class="related-title">
                <a href="/chatgpt-and-nebulagraph-predict-fifa-world-cup/">chatGPT åŠ  NebulaGraph é¢„æµ‹ 2022 ä¸–ç•Œæ¯å† å†›çƒé˜Ÿ</a>
            </h2>
        </div>
    <div class="related-item-container">
            <div class="related-image">
                <a href="/data-lineage-oss-ref-solution/"><img
        class="lazyload"
        data-src="/data-lineage-oss-ref-solution/featured-image.webp"
        data-srcset="/data-lineage-oss-ref-solution/featured-image.webp, /data-lineage-oss-ref-solution/featured-image.webp 1.5x, /data-lineage-oss-ref-solution/featured-image.webp 2x"
        data-sizes="auto"
        alt="/data-lineage-oss-ref-solution/featured-image.webp"
        title="ä¸€æ–‡äº†è§£ K8s éƒ¨ç½²çš„ Nebula Graph é›†ç¾¤çš„ Nebula-Algorithm ä½¿ç”¨æ–¹æ³•ã€‚" height="200" width="400"></a>
            </div><h2 class="related-title">
                <a href="/data-lineage-oss-ref-solution/">åŸºäºå¼€æºæŠ€æœ¯æ ˆçš„æ•°æ®è¡€ç¼˜ã€æ²»ç†å‚è€ƒè§£å†³æ–¹æ¡ˆ</a>
            </h2>
        </div>
    <div class="related-item-container">
            <div class="related-image">
                <a href="/apisix-and-nebulagraph/"><img
        class="lazyload"
        data-src="/apisix-and-nebulagraph/featured-image.webp"
        data-srcset="/apisix-and-nebulagraph/featured-image.webp, /apisix-and-nebulagraph/featured-image.webp 1.5x, /apisix-and-nebulagraph/featured-image.webp 2x"
        data-sizes="auto"
        alt="/apisix-and-nebulagraph/featured-image.webp"
        title="ä¸€æ–‡äº†è§£ K8s éƒ¨ç½²çš„ Nebula Graph é›†ç¾¤çš„ Nebula-Algorithm ä½¿ç”¨æ–¹æ³•ã€‚" height="200" width="400"></a>
            </div><h2 class="related-title">
                <a href="/apisix-and-nebulagraph/">NebulaGraph çš„äº‘åŸç”Ÿ API ç½‘å…³æœ€ä½³å®è·µ</a>
            </h2>
        </div>
    <div class="related-item-container">
            <div class="related-image">
                <a href="/nebulagraph-etl-dbt/"><img
        class="lazyload"
        data-src="/nebulagraph-etl-dbt/featured-image.webp"
        data-srcset="/nebulagraph-etl-dbt/featured-image.webp, /nebulagraph-etl-dbt/featured-image.webp 1.5x, /nebulagraph-etl-dbt/featured-image.webp 2x"
        data-sizes="auto"
        alt="/nebulagraph-etl-dbt/featured-image.webp"
        title="ä¸€æ–‡äº†è§£ K8s éƒ¨ç½²çš„ Nebula Graph é›†ç¾¤çš„ Nebula-Algorithm ä½¿ç”¨æ–¹æ³•ã€‚" height="200" width="400"></a>
            </div><h2 class="related-title">
                <a href="/nebulagraph-etl-dbt/">åˆ©ç”¨ dbtï¼ŒåŸºäºè¡¨ç»“æ„çš„ Nebulagraph å›¾å»ºæ¨¡ä¸ ETL</a>
            </h2>
        </div>
    

</div>

<div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>æ›´æ–°äº 2022-02-16&nbsp;<a class="git-hash" href="github.com/siwei-io/siwei-io.github.io/commit/de58cce18f3bbd09e590ff10d7334044f08b369b" target="_blank" title="commit by wey-gu(1651790&#43;wey-gu@users.noreply.github.com) de58cce18f3bbd09e590ff10d7334044f08b369b: blog update" rel="noopener noreferrer">
                                    <i class="fas fa-hashtag fa-fw"></i>de58cce</a></span>
            </div>
            <div class="post-info-license"></div>
        </div>
        <div class="post-info-line">
            <div class="post-info-md"><span><a class="link-to-mardown" href=/nebula-algo-spark-k8s/index.md target="_blank" rel="noopener noreferrer">é˜…è¯»åŸå§‹æ–‡æ¡£</a>
                    </span></div>
            <div class="post-info-share">
                <span><a href="#" onclick="return false;" title="åˆ†äº«åˆ° Twitter" data-sharer="twitter" data-url="https://siwei.io/nebula-algo-spark-k8s/" data-title="ä¸ºä»€ä¹ˆæˆ‘çš„ Nebula-Spark-Connectorã€Nebula-Algorithm è¿ä¸ä¸Š K8s éƒ¨ç½²çš„ Nebula Graph é›†ç¾¤ï¼Ÿ" data-via="wey_gu" data-hashtags="Nebula Graph,å›¾æ•°æ®åº“,Spark-Connector,Nebula-Algorithm,k8s,nebula-operator"><i class="fab fa-twitter fa-fw"></i></a><a href="#" onclick="return false;" title="åˆ†äº«åˆ° Facebook" data-sharer="facebook" data-url="https://siwei.io/nebula-algo-spark-k8s/" data-hashtag="Nebula Graph"><i class="fab fa-facebook-square fa-fw"></i></a><a href="#" onclick="return false;" title="åˆ†äº«åˆ° WhatsApp" data-sharer="whatsapp" data-url="https://siwei.io/nebula-algo-spark-k8s/" data-title="ä¸ºä»€ä¹ˆæˆ‘çš„ Nebula-Spark-Connectorã€Nebula-Algorithm è¿ä¸ä¸Š K8s éƒ¨ç½²çš„ Nebula Graph é›†ç¾¤ï¼Ÿ" data-web><i class="fab fa-whatsapp fa-fw"></i></a><a href="#" onclick="return false;" title="åˆ†äº«åˆ° Line" data-sharer="line" data-url="https://siwei.io/nebula-algo-spark-k8s/" data-title="ä¸ºä»€ä¹ˆæˆ‘çš„ Nebula-Spark-Connectorã€Nebula-Algorithm è¿ä¸ä¸Š K8s éƒ¨ç½²çš„ Nebula Graph é›†ç¾¤ï¼Ÿ"><i data-svg-src="/lib/simple-icons/icons/line.min.svg"></i></a><a href="#" onclick="return false;" title="åˆ†äº«åˆ° å¾®åš" data-sharer="weibo" data-url="https://siwei.io/nebula-algo-spark-k8s/" data-title="ä¸ºä»€ä¹ˆæˆ‘çš„ Nebula-Spark-Connectorã€Nebula-Algorithm è¿ä¸ä¸Š K8s éƒ¨ç½²çš„ Nebula Graph é›†ç¾¤ï¼Ÿ" data-image="featured-image.webp" data-ralateuid="siweigu"><i class="fab fa-weibo fa-fw"></i></a><a href="#" onclick="return false;" title="åˆ†äº«åˆ° Myspace" data-sharer="myspace" data-url="https://siwei.io/nebula-algo-spark-k8s/" data-title="ä¸ºä»€ä¹ˆæˆ‘çš„ Nebula-Spark-Connectorã€Nebula-Algorithm è¿ä¸ä¸Š K8s éƒ¨ç½²çš„ Nebula Graph é›†ç¾¤ï¼Ÿ" data-description="ä¸€æ–‡äº†è§£ K8s éƒ¨ç½²çš„ Nebula Graph é›†ç¾¤çš„ Nebula-Algorithm ä½¿ç”¨æ–¹æ³•ã€‚"><i data-svg-src="/lib/simple-icons/icons/myspace.min.svg"></i></a><a href="#" onclick="return false;" title="åˆ†äº«åˆ° Blogger" data-sharer="blogger" data-url="https://siwei.io/nebula-algo-spark-k8s/" data-title="ä¸ºä»€ä¹ˆæˆ‘çš„ Nebula-Spark-Connectorã€Nebula-Algorithm è¿ä¸ä¸Š K8s éƒ¨ç½²çš„ Nebula Graph é›†ç¾¤ï¼Ÿ" data-description="ä¸€æ–‡äº†è§£ K8s éƒ¨ç½²çš„ Nebula Graph é›†ç¾¤çš„ Nebula-Algorithm ä½¿ç”¨æ–¹æ³•ã€‚"><i class="fab fa-blogger fa-fw"></i></a><a href="#" onclick="return false;" title="åˆ†äº«åˆ° Evernote" data-sharer="evernote" data-url="https://siwei.io/nebula-algo-spark-k8s/" data-title="ä¸ºä»€ä¹ˆæˆ‘çš„ Nebula-Spark-Connectorã€Nebula-Algorithm è¿ä¸ä¸Š K8s éƒ¨ç½²çš„ Nebula Graph é›†ç¾¤ï¼Ÿ"><i class="fab fa-evernote fa-fw"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/nebula-graph/">Nebula Graph</a>,&nbsp;<a href="/tags/%E5%9B%BE%E6%95%B0%E6%8D%AE%E5%BA%93/">å›¾æ•°æ®åº“</a>,&nbsp;<a href="/tags/spark-connector/">Spark-Connector</a>,&nbsp;<a href="/tags/nebula-algorithm/">Nebula-Algorithm</a>,&nbsp;<a href="/tags/k8s/">k8s</a>,&nbsp;<a href="/tags/nebula-operator/">nebula-operator</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">è¿”å›</a></span>&nbsp;|&nbsp;<span><a href="/">ä¸»é¡µ</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/siwi/" class="prev" rel="prev" title="ä»é›¶åˆ°ä¸€ï¼šå¦‚ä½•æ„å»ºä¸€ä¸ªåŸºäºçŸ¥è¯†å›¾è°±çš„æ™ºèƒ½é—®ç­”åŠ©æ‰‹ï¼Ÿ"><i class="fas fa-angle-left fa-fw"></i>ä»é›¶åˆ°ä¸€ï¼šå¦‚ä½•æ„å»ºä¸€ä¸ªåŸºäºçŸ¥è¯†å›¾è°±çš„æ™ºèƒ½é—®ç­”åŠ©æ‰‹ï¼Ÿ</a>
            <a href="/nebula-index-explained/" class="next" rel="next" title="Nebula Graph ç´¢å¼•è¯¦è§£">Nebula Graph ç´¢å¼•è¯¦è§£<i class="fas fa-angle-right fa-fw"></i></a></div>
</div>
<div id="comments"><div id="giscus"></div><noscript>
                Please enable JavaScript to view the comments powered by <a href="https://giscus.app/">giscus</a>.
            </noscript></div></article></div>
        </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">
                    ç”± <a href="https://gohugo.io/" target="_blank" rel="noopener noreferrer" title="Hugo 0.107.0">Hugo</a> å¼ºåŠ›é©±åŠ¨&nbsp;|&nbsp;ä¸»é¢˜ - <a href="https://github.com/HEIGE-PCloud/DoIt" target="_blank" rel="noopener noreferrer" title="DoIt 0.2.13"><i class="far fa-edit fa-fw"></i> DoIt</a>
                </div><div class="footer-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2018 - 2023</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="https://siwei.io" target="_blank" rel="noopener noreferrer">Wey Gu</a></span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
            <div class="footer-line"></div>
            <div class="footer-line">
            </div>
        </div><script>
                    if('serviceWorker' in navigator) {
                        navigator.serviceWorker
                            .register('/sw.min.js', { scope: '/' })
                            .then(function(registration) {
                            });
                
                        navigator.serviceWorker
                            .ready
                            .then(function(registration) {
                            });
                    }
                </script></footer></div>

    <div id="fixed-buttons"><a href="#back-to-top" id="back-to-top-button" class="fixed-button" title="å›åˆ°é¡¶éƒ¨">
            <i class="fas fa-arrow-up fa-fw"></i>
        </a><a href="#" id="view-comments" class="fixed-button" title="æŸ¥çœ‹è¯„è®º">
            <i class="fas fa-comment fa-fw"></i>
        </a>
    </div><div class="assets"><script type="text/javascript" src="/lib/autocomplete/autocomplete.min.js"></script><script type="text/javascript" src="/lib/fuse/fuse.min.js"></script><script type="text/javascript" src="/lib/lazysizes/lazysizes.min.js"></script><script type="text/javascript" src="/lib/tablesort/tablesort.min.js"></script><script type="text/javascript" src="/lib/topbar/topbar.min.js"></script><script type="text/javascript" src="/lib/pjax/pjax.min.js"></script><script type="text/javascript" src="/js/theme.min.js" defer></script><script type="text/javascript">
            window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());
            gtag('config', 'UA-659952-4', { 'anonymize_ip': true });
        </script><script type="text/javascript" src="https://www.googletagmanager.com/gtag/js?id=UA-659952-4" async></script></div>

<div class="pjax-assets"><script type="text/javascript">window.config={"code":{"copyTitle":"å¤åˆ¶åˆ°å‰ªè´´æ¿","maxShownLines":10},"comment":{"giscus":{"darkTheme":"dark","dataCategory":"Comments","dataCategoryId":"DIC_kwDOFhiy8c4CQeuu","dataEmitMetadata":"1","dataInputPosition":"bottom","dataLang":"en","dataMapping":"title","dataReactionsEnabled":"1","dataRepo":"siwei-io/siwei-io.github.io","dataRepoId":"MDEwOlJlcG9zaXRvcnkzNzA3MTc0MjU=","dataStrict":"1","lightTheme":"light"}},"lightGallery":{"actualSize":false,"exThumbImage":"data-thumbnail","hideBarsDelay":2000,"selector":".lightgallery","speed":400,"thumbContHeight":80,"thumbWidth":80,"thumbnail":true},"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false},"search":{"distance":100,"findAllMatches":true,"fuseIndexURL":"/index.json","highlightTag":"em","ignoreFieldNorm":false,"ignoreLocation":false,"isCaseSensitive":false,"location":0,"maxResultLength":10,"minMatchCharLength":2,"noResultsFound":"æ²¡æœ‰æ‰¾åˆ°ç»“æœ","snippetLength":50,"threshold":0.3,"type":"fuse","useExtendedSearch":false},"sharerjs":true,"table":{"sort":true}};</script><script type="text/javascript" src="/js/giscus.min.js" defer></script><script type="text/javascript" src="/lib/lightgallery/lightgallery.min.js"></script><script type="text/javascript" src="/lib/lightgallery/lg-thumbnail.min.js"></script><script type="text/javascript" src="/lib/lightgallery/lg-zoom.min.js"></script><script type="text/javascript" src="/lib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="/lib/sharer/sharer.min.js"></script><script type="text/javascript" src="/lib/katex/katex.min.js" defer></script><script type="text/javascript" src="/lib/katex/auto-render.min.js" defer></script><script type="text/javascript" src="/lib/katex/copy-tex.min.js" defer></script><script type="text/javascript" src="/lib/katex/mhchem.min.js" defer></script><script type="text/javascript" src="/js/katex.min.js" defer></script><link rel="stylesheet" href="/lib/lightgallery/lightgallery.min.css"><link rel="stylesheet" href="/lib/katex/katex.min.css"><link rel="preload" as="style" onload="this.onload=null;this.rel='stylesheet'" href="/lib/katex/copy-tex.min.css">
        <noscript><link rel="stylesheet" href="/lib/katex/copy-tex.min.css"></noscript></div>
</body>

</html>
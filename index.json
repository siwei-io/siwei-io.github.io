[{"categories":["Nebula Graph"],"content":"Dialog System With Graph Database Backed Knowledge Graph. åŸºäºå›¾æ•°æ®åº“çš„æ™ºèƒ½é—®ç­”åŠ©æ‰‹","date":"2021-09-18","objectID":"/nebula-siwi/","series":null,"tags":["Nebula Graph","Know How","Intelligent assistant","å›¾æ•°æ®åº“åº”ç”¨","æ™ºèƒ½åŠ©æ‰‹"],"title":"Nebula Siwiï¼ŒåŸºäºå›¾æ•°æ®åº“çš„æ™ºèƒ½é—®ç­”åŠ©æ‰‹","uri":"/nebula-siwi/"},{"categories":["Nebula Graph"],"content":" ä» 0 åˆ° 1 æ‰“é€ ä¸€ä¸ªåŸºäºå›¾æ•°æ®åº“çš„æ™ºèƒ½é—®ç­”åŠ©æ‰‹ã€‚ a PoC of Dialog System With Graph Database Backed Knowledge Graph. Related GitHub Repo: https://github.com/wey-gu/nebula-siwi/ è¿™ä¸ªé¡¹ç›®æˆ‘ä¹Ÿåšæˆäº†äº’åŠ¨æ•™ç¨‹ï¼Œå¯ä»¥æŒ‰ç…§è¿™é‡Œçš„æ­¥éª¤æ­å»ºèµ·æ¥ ğŸ‘‰ğŸ» https://siwei.io/cources/ I created the Katacoda Interactive Env for this project ğŸ‘‰ğŸ» https://siwei.io/cources/ æ‚¨ä¹Ÿå¯ä»¥åœ¨ Nebula Playground ä¸Šç›´æ¥ç©è¿™ä¸ªæ•°æ®é›†å•¦ï¼šhttps://nebula-graph.com.cn/demo/ Now you can play with the data on Nebula Playground: https://nebula-graph.io/demo/ ","date":"2021-09-18","objectID":"/nebula-siwi/:0:0","series":null,"tags":["Nebula Graph","Know How","Intelligent assistant","å›¾æ•°æ®åº“åº”ç”¨","æ™ºèƒ½åŠ©æ‰‹"],"title":"Nebula Siwiï¼ŒåŸºäºå›¾æ•°æ®åº“çš„æ™ºèƒ½é—®ç­”åŠ©æ‰‹","uri":"/nebula-siwi/#"},{"categories":["Nebula Graph"],"content":"Siwi the voice assistant Siwi (/ËˆsÉªwi/) is a PoC of Dialog System With Graph Database Backed Knowledge Graph. For now, itâ€™s a demo for task-driven(not general purpose) dialog bots with KG(Knowledge Graph) leveraging Nebula Graph with the minimal/sample dataset from Nebula Graph Manual/ NGä¸­æ–‡æ‰‹å†Œ. Tips: Now you can play with the graph online without installing yourself! Nebula Playground | Nebula Playground - China Mainland Supported queries: relation: What is the relationship between Yao Ming and Lakers? How does Yao Ming and Lakers connected? serving: Which team had Yao Ming served? friendship: Whom does Tim Duncan follow? Who are Yao Mingâ€™s friends? ","date":"2021-09-18","objectID":"/nebula-siwi/:0:0","series":null,"tags":["Nebula Graph","Know How","Intelligent assistant","å›¾æ•°æ®åº“åº”ç”¨","æ™ºèƒ½åŠ©æ‰‹"],"title":"Nebula Siwiï¼ŒåŸºäºå›¾æ•°æ®åº“çš„æ™ºèƒ½é—®ç­”åŠ©æ‰‹","uri":"/nebula-siwi/#siwi-the-voice-assistant"},{"categories":["Nebula Graph"],"content":"Deploy and Try TBD (leveraging docker and nebula-up) ","date":"2021-09-18","objectID":"/nebula-siwi/:1:0","series":null,"tags":["Nebula Graph","Know How","Intelligent assistant","å›¾æ•°æ®åº“åº”ç”¨","æ™ºèƒ½åŠ©æ‰‹"],"title":"Nebula Siwiï¼ŒåŸºäºå›¾æ•°æ®åº“çš„æ™ºèƒ½é—®ç­”åŠ©æ‰‹","uri":"/nebula-siwi/#deploy-and-try"},{"categories":["Nebula Graph"],"content":"How does it work? This is one of the most naive pipeline for a specific domain/ single purpose chat bot built on a Knowledge Graph. ","date":"2021-09-18","objectID":"/nebula-siwi/:2:0","series":null,"tags":["Nebula Graph","Know How","Intelligent assistant","å›¾æ•°æ®åº“åº”ç”¨","æ™ºèƒ½åŠ©æ‰‹"],"title":"Nebula Siwiï¼ŒåŸºäºå›¾æ•°æ®åº“çš„æ™ºèƒ½é—®ç­”åŠ©æ‰‹","uri":"/nebula-siwi/#how-does-it-work"},{"categories":["Nebula Graph"],"content":"Backend The Backend(Siwi API) is a Flask based API server: Flask API server takes questions in HTTP POST, and calls the bot API. In bot API part there are classfier(Symentic Parsing, Intent Matching, Slot Filling), and question actors(Call corresponding actions to query Knowledge Graph with intents and slots). Knowledge Graph is built on an Open-Source Graph Database: Nebula Graph ","date":"2021-09-18","objectID":"/nebula-siwi/:2:1","series":null,"tags":["Nebula Graph","Know How","Intelligent assistant","å›¾æ•°æ®åº“åº”ç”¨","æ™ºèƒ½åŠ©æ‰‹"],"title":"Nebula Siwiï¼ŒåŸºäºå›¾æ•°æ®åº“çš„æ™ºèƒ½é—®ç­”åŠ©æ‰‹","uri":"/nebula-siwi/#backend"},{"categories":["Nebula Graph"],"content":"Frontend The Frontend is a VueJS Single Page Applicaiton(SPA): I reused a Vue Bot UI to showcase a chat window in this human-agent interaction, typing is supported. In addtion, leverating Chromeâ€™s Web Speech API, a button to listen to human voice is introduced ","date":"2021-09-18","objectID":"/nebula-siwi/:2:2","series":null,"tags":["Nebula Graph","Know How","Intelligent assistant","å›¾æ•°æ®åº“åº”ç”¨","æ™ºèƒ½åŠ©æ‰‹"],"title":"Nebula Siwiï¼ŒåŸºäºå›¾æ•°æ®åº“çš„æ™ºèƒ½é—®ç­”åŠ©æ‰‹","uri":"/nebula-siwi/#frontend"},{"categories":["Nebula Graph"],"content":"A Query Flow â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚ â”‚ â”‚ Speech â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚ Frontend â”‚ Siwi, /ËˆsÉªwi/ â”‚ â”‚ â”‚ Web_Speech_API â”‚ A PoC of â”‚ â”‚ â”‚ â”‚ Dialog System â”‚ â”‚ â”‚ Vue.JS â”‚ With Graph Database â”‚ â”‚ â”‚ â”‚ Backed Knowledge Graph â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â”‚ Sentence â”‚ â”‚ â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ Backend â”‚ â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚ â”‚ â”‚ Web API, Flask â”‚ ./app/ â”‚ â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â”‚ â”‚ â”‚ Sentence ./bot/ â”‚ â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ Intent matching, â”‚ ./bot/classifierâ”‚ â”‚ â”‚ â”‚ â”‚ Symentic Processing â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â”‚ â”‚ â”‚ Intent, Entities â”‚ â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ Intent Actor â”‚ ./bot/actions â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â””â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â”‚ Graph Query â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ Graph Database â”‚ Nebula Graph â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ ","date":"2021-09-18","objectID":"/nebula-siwi/:2:3","series":null,"tags":["Nebula Graph","Know How","Intelligent assistant","å›¾æ•°æ®åº“åº”ç”¨","æ™ºèƒ½åŠ©æ‰‹"],"title":"Nebula Siwiï¼ŒåŸºäºå›¾æ•°æ®åº“çš„æ™ºèƒ½é—®ç­”åŠ©æ‰‹","uri":"/nebula-siwi/#a-query-flow"},{"categories":["Nebula Graph"],"content":"Source Code Tree . â”œâ”€â”€ README.md â”œâ”€â”€ src â”‚ â”œâ”€â”€ siwi # Siwi-API Backend â”‚ â”‚ â”œâ”€â”€ app # Web Server, take HTTP requests and calls Bot API â”‚ â”‚ â””â”€â”€ bot # Bot API â”‚ â”‚ â”œâ”€â”€ actions # Take Intent, Slots, Query Knowledge Graph here â”‚ â”‚ â”œâ”€â”€ bot # Entrypoint of the Bot API â”‚ â”‚ â”œâ”€â”€ classifier # Symentic Parsing, Intent Matching, Slot Filling â”‚ â”‚ â””â”€â”€ test # Example Data Source as equivalent/mocked module â”‚ â””â”€â”€ siwi_frontend # Browser End â”‚ â”œâ”€â”€ README.md â”‚ â”œâ”€â”€ package.json â”‚ â””â”€â”€ src â”‚ â”œâ”€â”€ App.vue # Listening to user and pass Questions to Siwi-API â”‚ â””â”€â”€ main.js â””â”€â”€ wsgi.py ","date":"2021-09-18","objectID":"/nebula-siwi/:2:4","series":null,"tags":["Nebula Graph","Know How","Intelligent assistant","å›¾æ•°æ®åº“åº”ç”¨","æ™ºèƒ½åŠ©æ‰‹"],"title":"Nebula Siwiï¼ŒåŸºäºå›¾æ•°æ®åº“çš„æ™ºèƒ½é—®ç­”åŠ©æ‰‹","uri":"/nebula-siwi/#source-code-tree"},{"categories":["Nebula Graph"],"content":"Manually Run Components ","date":"2021-09-18","objectID":"/nebula-siwi/:3:0","series":null,"tags":["Nebula Graph","Know How","Intelligent assistant","å›¾æ•°æ®åº“åº”ç”¨","æ™ºèƒ½åŠ©æ‰‹"],"title":"Nebula Siwiï¼ŒåŸºäºå›¾æ•°æ®åº“çš„æ™ºèƒ½é—®ç­”åŠ©æ‰‹","uri":"/nebula-siwi/#manually-run-components"},{"categories":["Nebula Graph"],"content":"Backend Install and run. # Install siwi backend python3 -m build # Configure Nebula Graph Endpoint export NG_ENDPOINTS=127.0.0.1:9669 # Run Backend API server gunicorn --bind :5000 wsgi --workers 1 --threads 1 --timeout 60 For OpenFunction/ KNative docker build -t weygu/siwi-api . docker run --rm --name siwi-api \\ --env=PORT=5000 \\ --env=NG_ENDPOINTS=127.0.0.1:9669 \\ --net=host \\ weygu/siwi-api Try it out Web API: $ curl --header \"Content-Type: application/json\" \\ --request POST \\ --data '{\"question\": \"What is the relationship between Yao Ming and Lakers?\"}' \\ http://192.168.8.128:5000/query | jq { \"answer\": \"There are at least 23 relations between Yao Ming and Lakers, one relation path is: Yao Ming follows Shaquille O'Neal serves Lakers.\" } Call Bot Python API: from nebula2.gclient.net import ConnectionPool from nebula2.Config import Config # define a config config = Config() config.max_connection_pool_size = 10 # init connection pool connection_pool = ConnectionPool() # if the given servers are ok, return true, else return false ok = connection_pool.init([('127.0.0.1', 9669)], config) # import siwi bot from siwi.bot import bot # instantiate a bot b = bot.SiwiBot(connection_pool) # make the question query b.query(\"Which team had Jonathon Simmons served?\") Then a response will be like this: In [4]: b.query(\"Which team had Jonathon Simmons serv ...: ed?\") [DEBUG] ServeAction intent: {'entities': {'Jonathon Simmons': 'player'}, 'intents': ('serve',)} [DEBUG] query for RelationshipAction: USE basketballplayer; MATCH p=(v)-[e:serve*1]-\u003e(v1) WHERE id(v) == \"player112\" RETURN p LIMIT 100; [2021-07-02 02:59:36,392]:Get connection to ('127.0.0.1', 9669) Out[4]: 'Jonathon Simmons had served 3 teams. Spurs from 2015 to 2015; 76ers from 2019 to 2019; Magic from 2017 to 2017; ' ","date":"2021-09-18","objectID":"/nebula-siwi/:3:1","series":null,"tags":["Nebula Graph","Know How","Intelligent assistant","å›¾æ•°æ®åº“åº”ç”¨","æ™ºèƒ½åŠ©æ‰‹"],"title":"Nebula Siwiï¼ŒåŸºäºå›¾æ•°æ®åº“çš„æ™ºèƒ½é—®ç­”åŠ©æ‰‹","uri":"/nebula-siwi/#backend-1"},{"categories":["Nebula Graph"],"content":"Frontend Referring to siwi_frontend ","date":"2021-09-18","objectID":"/nebula-siwi/:3:2","series":null,"tags":["Nebula Graph","Know How","Intelligent assistant","å›¾æ•°æ®åº“åº”ç”¨","æ™ºèƒ½åŠ©æ‰‹"],"title":"Nebula Siwiï¼ŒåŸºäºå›¾æ•°æ®åº“çš„æ™ºèƒ½é—®ç­”åŠ©æ‰‹","uri":"/nebula-siwi/#frontend-1"},{"categories":["Nebula Graph"],"content":"Further work Use NBA-API to fallback undefined pattern questions Wrap and manage sessions instead of get and release session per request, this is somehow costly actually. Use NLP methods to implement proper Symentic Parsing, Intent Matching, Slot Filling Build Graph to help with Intent Matching, especially for a general purpose bot Use larger Dataset i.e. from wyattowalsh/basketball ","date":"2021-09-18","objectID":"/nebula-siwi/:4:0","series":null,"tags":["Nebula Graph","Know How","Intelligent assistant","å›¾æ•°æ®åº“åº”ç”¨","æ™ºèƒ½åŠ©æ‰‹"],"title":"Nebula Siwiï¼ŒåŸºäºå›¾æ•°æ®åº“çš„æ™ºèƒ½é—®ç­”åŠ©æ‰‹","uri":"/nebula-siwi/#further-work"},{"categories":["Nebula Graph"],"content":"Thanks to Upstream Projects â¤ï¸ ","date":"2021-09-18","objectID":"/nebula-siwi/:5:0","series":null,"tags":["Nebula Graph","Know How","Intelligent assistant","å›¾æ•°æ®åº“åº”ç”¨","æ™ºèƒ½åŠ©æ‰‹"],"title":"Nebula Siwiï¼ŒåŸºäºå›¾æ•°æ®åº“çš„æ™ºèƒ½é—®ç­”åŠ©æ‰‹","uri":"/nebula-siwi/#thanks-to-upstream-projects-"},{"categories":["Nebula Graph"],"content":"Backend I learnt a lot from the KGQA on MedicalKG created by Huanyong Liu Flask pyahocorasick created by Wojciech MuÅ‚a PyYaml ","date":"2021-09-18","objectID":"/nebula-siwi/:5:1","series":null,"tags":["Nebula Graph","Know How","Intelligent assistant","å›¾æ•°æ®åº“åº”ç”¨","æ™ºèƒ½åŠ©æ‰‹"],"title":"Nebula Siwiï¼ŒåŸºäºå›¾æ•°æ®åº“çš„æ™ºèƒ½é—®ç­”åŠ©æ‰‹","uri":"/nebula-siwi/#backend-2"},{"categories":["Nebula Graph"],"content":"Frontend VueJS for frontend framework Vue Bot UI, as a lovely bot UI in vue Vue Web Speech, for speech API vue wrapper Axios for browser http client Solarized for color scheme Vitesome for landing page design Image credit goes to https://unsplash.com/photos/0E_vhMVqL9g ","date":"2021-09-18","objectID":"/nebula-siwi/:5:2","series":null,"tags":["Nebula Graph","Know How","Intelligent assistant","å›¾æ•°æ®åº“åº”ç”¨","æ™ºèƒ½åŠ©æ‰‹"],"title":"Nebula Siwiï¼ŒåŸºäºå›¾æ•°æ®åº“çš„æ™ºèƒ½é—®ç­”åŠ©æ‰‹","uri":"/nebula-siwi/#frontend-2"},{"categories":["Nebula Graph"],"content":"Setup Nebula Graph Dev Env with CLion and Docker æ­å»ºåŸºäº Docker çš„ Nebula Graph CLion å¼€å‘ç¯å¢ƒ","date":"2021-09-18","objectID":"/nebula-clion/","series":null,"tags":["Nebula Graph","Dev Guide"],"title":"Nebula CLionï¼Œæ­å»ºåŸºäº Docker çš„ Nebula Graph CLion å¼€å‘ç¯å¢ƒ","uri":"/nebula-clion/"},{"categories":["Nebula Graph"],"content":" ä¹‹å‰å¡æ¯”åŒå­¦å‘æˆ‘å’¨è¯¢æ­å»º CLion ç¯å¢ƒï¼Œå¼€å‘ Nebula çš„ä¸€äº›é—®é¢˜ï¼Œæˆ‘åšäº†ä¸€äº›å·¥ä½œæ–¹ä¾¿åˆ©ç”¨ Docker åœ¨æœ¬åœ°æ­å»ºè¿™æ ·ä¸€ä¸ªç¯å¢ƒï¼Œç›¸å…³çš„ä¸œè¥¿æ”¾åœ¨ï¼šhttps://github.com/wey-gu/nebula-dev-CLion ã€‚ Related GitHub Repo: https://github.com/wey-gu/nebula-dev-CLion ","date":"2021-09-18","objectID":"/nebula-clion/:0:0","series":null,"tags":["Nebula Graph","Dev Guide"],"title":"Nebula CLionï¼Œæ­å»ºåŸºäº Docker çš„ Nebula Graph CLion å¼€å‘ç¯å¢ƒ","uri":"/nebula-clion/#"},{"categories":["Nebula Graph"],"content":"Run Docker Env for Nebula-Graph with CLion Build Docker Image git clone https://github.com/wey-gu/nebula-dev-CLion.git cd nebula-dev-CLion docker build -t wey/nebula-dev-clion:v2.0 . Run Docker Container for Nebula-Dev with CLion Integration Readiness(actually mostly Rsync \u0026 SSH). cd \u003cnebula-graph-repo-you-worked-on\u003e export DOCKER_DEFAULT_PLATFORM=linux/amd64 docker run --rm -d \\ --name nebula-dev \\ --security-opt seccomp=unconfined \\ -p 2222:22 -p 2873:873 --cap-add=ALL \\ -v $PWD:/home/nebula \\ -w /home/nebula \\ wey/nebula-dev-clion:v2.0 Verify cmake with SSH. The default password is password ssh -o StrictHostKeyChecking=no root@localhost -p 2222 # in docker cd /home/nebula mkdir build \u0026\u0026 cd build cmake -DENABLE_TESTING=OFF -DCMAKE_BUILD_TYPE=Release .. Access container w/o SSH. docker exec -it nebula-dev bash mkdir -p build \u0026\u0026 cd build cmake -DENABLE_TESTING=OFF -DCMAKE_BUILD_TYPE=Release .. ","date":"2021-09-18","objectID":"/nebula-clion/:1:0","series":null,"tags":["Nebula Graph","Dev Guide"],"title":"Nebula CLionï¼Œæ­å»ºåŸºäº Docker çš„ Nebula Graph CLion å¼€å‘ç¯å¢ƒ","uri":"/nebula-clion/#run-docker-env-for-nebula-graph-with-clion"},{"categories":["Nebula Graph"],"content":"Configurations in CLion Ref: https://www.jetbrains.com/help/clion/clion-toolchains-in-docker.html#build-and-run Toolchains Add a remote host root@localhost:2222 password Put /opt/vesoft/toolset/cmake/bin/cmake as CMake CMake Toochain: Select the one created in last step Build directory: /home/nebula/build ","date":"2021-09-18","objectID":"/nebula-clion/:2:0","series":null,"tags":["Nebula Graph","Dev Guide"],"title":"Nebula CLionï¼Œæ­å»ºåŸºäº Docker çš„ Nebula Graph CLion å¼€å‘ç¯å¢ƒ","uri":"/nebula-clion/#configurations-in-clion"},{"categories":["Nebula Graph"],"content":"The appendix ","date":"2021-09-18","objectID":"/nebula-clion/:3:0","series":null,"tags":["Nebula Graph","Dev Guide"],"title":"Nebula CLionï¼Œæ­å»ºåŸºäº Docker çš„ Nebula Graph CLion å¼€å‘ç¯å¢ƒ","uri":"/nebula-clion/#the-appendix"},{"categories":["Nebula Graph"],"content":"References of CMake output: [root@4c98e3f77ce8 build]# cmake -DENABLE_TESTING=OFF -DCMAKE_BUILD_TYPE=Release .. \u003e\u003e\u003e\u003e Options of Nebula Graph \u003c\u003c\u003c\u003c -- ENABLE_ASAN : OFF (Build with AddressSanitizer) -- ENABLE_BUILD_STORAGE : OFF (Whether to build storage) -- ENABLE_CCACHE : ON (Use ccache to speed up compiling) -- ENABLE_CLANG_TIDY : OFF (Enable clang-tidy if present) -- ENABLE_COMPRESSED_DEBUG_INFO : ON (Compress debug info to reduce binary size) -- ENABLE_COVERAGE : OFF (Build with coverage report) -- ENABLE_FRAME_POINTER : OFF (Build with frame pointer) -- ENABLE_FUZZY_TESTING : OFF (Enable Fuzzy tests) -- ENABLE_GDB_SCRIPT_SECTION : OFF (Add .debug_gdb_scripts section) -- ENABLE_JEMALLOC : ON (Use jemalloc as memory allocator) -- ENABLE_MODULE_FORCE_CHECKOUT : ON (Whether checkout branch of module to same as graph.) -- ENABLE_MODULE_UPDATE : OFF (Automatically update module) -- ENABLE_PACK_ONE : ON (Whether to package into one) -- ENABLE_PIC : OFF (Build with -fPIC) -- ENABLE_STATIC_ASAN : OFF (Statically link against libasan) -- ENABLE_STATIC_UBSAN : OFF (Statically link against libubsan) -- ENABLE_STRICT_ALIASING : OFF (Build with -fstrict-aliasing) -- ENABLE_TESTING : OFF (Build unit tests) -- ENABLE_TSAN : OFF (Build with ThreadSanitizer) -- ENABLE_UBSAN : OFF (Build with UndefinedBehaviourSanitizer) -- ENABLE_VERBOSE_BISON : OFF (Enable Bison to report state) -- ENABLE_WERROR : ON (Regard warnings as errors) -- CMAKE_BUILD_TYPE : Release (Choose the type of build, options are: None Debug Release RelWithDebInfo MinSizeRel ...) -- CMAKE_INSTALL_PREFIX : /usr/local/nebula (Install path prefix, prepended onto install directories.) -- CMAKE_CXX_STANDARD : 17 -- CMAKE_CXX_COMPILER : /opt/vesoft/toolset/clang/9.0.0/bin/c++ (CXX compiler) -- CMAKE_CXX_COMPILER_ID : GNU -- NEBULA_USE_LINKER : bfd -- CCACHE_DIR : /root/.ccache \u003e\u003e\u003e\u003e Configuring third party for 'Nebula Graph' \u003c\u003c\u003c\u003c -- NEBULA_THIRDPARTY_ROOT : /opt/vesoft/third-party/2.0 -- Build info of nebula third party: Package : Nebula Third Party Version : 2.0 Date : Mon Jun 28 15:07:38 UTC 2021 glibc : 2.17 Arch : x86_64 Compiler : GCC 9.2.0 C++ ABI : 11 Vendor : VEsoft Inc. -- CMAKE_INCLUDE_PATH : /opt/vesoft/third-party/2.0/include -- CMAKE_LIBRARY_PATH : /opt/vesoft/third-party/2.0/lib64;/opt/vesoft/third-party/2.0/lib -- CMAKE_PROGRAM_PATH : /opt/vesoft/third-party/2.0/bin -- GLIBC_VERSION : 2.17 -- found krb5-config here /opt/vesoft/third-party/2.0/bin/krb5-config -- Found kerberos 5 headers: /opt/vesoft/third-party/2.0/include -- Found kerberos 5 libs: /opt/vesoft/third-party/2.0/lib/libgssapi_krb5.a;/opt/vesoft/third-party/2.0/lib/libkrb5.a;/opt/vesoft/third-party/2.0/lib/libk5crypto.a;/opt/vesoft/third-party/2.0/lib/libcom_err.a;/opt/vesoft/third-party/2.0/lib/libkrb5support.a \u003e\u003e\u003e\u003e Configuring third party for 'Nebula Graph' done \u003c\u003c\u003c\u003c -- Create the pre-commit hook -- Creating pre-commit hook done \u003e\u003e\u003e\u003e Configuring Nebula Common \u003c\u003c\u003c\u003c \u003e\u003e\u003e\u003e Options of Nebula Common \u003c\u003c\u003c\u003c -- ENABLE_ASAN : OFF (Build with AddressSanitizer) -- ENABLE_CCACHE : ON (Use ccache to speed up compiling) -- ENABLE_CLANG_TIDY : OFF (Enable clang-tidy if present) -- ENABLE_COMPRESSED_DEBUG_INFO : ON (Compress debug info to reduce binary size) -- ENABLE_COVERAGE : OFF (Build with coverage report) -- ENABLE_FRAME_POINTER : OFF (Build with frame pointer) -- ENABLE_FUZZY_TESTING : OFF (Enable Fuzzy tests) -- ENABLE_GDB_SCRIPT_SECTION : OFF (Add .debug_gdb_scripts section) -- ENABLE_JEMALLOC : ON (Use jemalloc as memory allocator) -- ENABLE_PIC : OFF (Build with -fPIC) -- ENABLE_STATIC_ASAN : OFF (Statically link against libasan) -- ENABLE_STATIC_UBSAN : OFF (Statically link against libubsan) -- ENABLE_STRICT_ALIASING : OFF (Build with -fstrict-aliasing) -- ENABLE_TESTING : OFF (Build unit tests) -- ENABLE_TSAN : OFF (Build with ThreadSanitizer) -- ENABLE_UBSAN : OFF (Build with UndefinedBehaviourSanitizer) -- ENABLE_WERROR : ON (Regard warnings as errors) -- Set D_GLIBCXX_USE_CXX11_ABI to 1 -- CMAKE_BUILD_TY","date":"2021-09-18","objectID":"/nebula-clion/:3:1","series":null,"tags":["Nebula Graph","Dev Guide"],"title":"Nebula CLionï¼Œæ­å»ºåŸºäº Docker çš„ Nebula Graph CLion å¼€å‘ç¯å¢ƒ","uri":"/nebula-clion/#references-of-cmake-output"},{"categories":["courses"],"content":"Hands-on Course: Breakdown multistage relationship of Persons and Corporations leverating the Nebula Graph Database.","date":"2021-09-04","objectID":"/learn/nebula-101-shareholding/","series":null,"tags":["Nebula Graph","katacoda","shareholding","Nebula Solution","Knowledge Graph"],"title":"ä¸Šæ‰‹å®æˆ˜å›¾æ•°æ®åº“è‚¡æƒå…³ç³»ç©¿é€","uri":"/learn/nebula-101-shareholding/"},{"categories":["courses"],"content":"Walk you through in actions to do below sections exercises! Bootstrap a Nebula Graph Cluster and Studio Web App Import a graph of dataset about shareholding Exploring the shareholding data with Nebula Importer Visually Exploring the shareholding data with Nebula Studio Run Graph Algorithm on Nebula Cluster Graph Data The dataset comes from https://github.com/wey-gu/nebula-shareholding-example/tree/main/data_sample è¯¾ç¨‹å¼€æºåœ¨ https://github.com/wey-gu/katacoda-scenarios ï¼Œæ¬¢è¿æ¥åé¦ˆï¼Œè´¡çŒ® ","date":"2021-09-04","objectID":"/learn/nebula-101-shareholding/:0:0","series":null,"tags":["Nebula Graph","katacoda","shareholding","Nebula Solution","Knowledge Graph"],"title":"ä¸Šæ‰‹å®æˆ˜å›¾æ•°æ®åº“è‚¡æƒå…³ç³»ç©¿é€","uri":"/learn/nebula-101-shareholding/#"},{"categories":null,"content":" æ‚¨å¯ä»¥é€šè¿‡è¿™ä¸ªå¯¼å›¾å¼€å§‹äº†è§£ã€å…¥é—¨å›¾æ•°æ®åº“å’Œ Nebula Graphï¼Œä¸Šè¾¹çš„åŒºåŸŸæ˜¯å…¥é—¨çš„éƒ¨åˆ†ï¼Œä¸‹è¾¹è¿˜æœ‰è¿›é˜¶çš„éƒ¨åˆ†ï¼Œæˆ‘ä»¬ä¼šæŒç»­æ›´æ–°ã€ç»´æŠ¤è¿™ä¸ªå¯¼å›¾çš„~ Tips: åŠ è½½æˆåŠŸä¹‹åï¼Œç‚¹å‡» [See the board] å¯ä»¥å¼€å§‹æµè§ˆï¼ŒåŒå‡»æ”¾å¤§ç¼©å°ã€‚Happy Graphing! ","date":"2021-09-04","objectID":"/path/:0:0","series":null,"tags":null,"title":"å›¾æ•°æ®åº“å­¦ä¹ è·¯å¾„","uri":"/path/#"},{"categories":["courses"],"content":"Hands-on Course: Setup a KGQA system from scratch with Nebula Graph, VueJS, Flask on K8s.","date":"2021-09-03","objectID":"/learn/nebula-101-siwi-kgqa/","series":null,"tags":["Nebula Graph","katacoda","Dialog System","Nebula Solution"],"title":"ä¸Šæ‰‹å®æˆ˜ä»0åˆ¶ä½œä¸€ä¸ªåŸºäºå›¾è°±çš„è¯­éŸ³æ™ºèƒ½åŠ©æ‰‹","uri":"/learn/nebula-101-siwi-kgqa/"},{"categories":["courses"],"content":"A full solution walkthrough for a Knowledge Graph Dialog System. Boostrap a Nebula Cluster in K8s Scale out the Nebula Cluster in K8s way Import the basketballplayer Dataset Siwi, the Knowledge Graph Dialog System with Nebula Graph Siwi (/ËˆsÉªwi/) is a PoC of Dialog System With Graph Database Backed Knowledge Graph. The code of Siwi is here: https://github.com/wey-gu/nebula-siwi. è¯¾ç¨‹å¼€æºåœ¨ https://github.com/wey-gu/katacoda-scenarios ï¼Œæ¬¢è¿æ¥åé¦ˆï¼Œè´¡çŒ® ","date":"2021-09-03","objectID":"/learn/nebula-101-siwi-kgqa/:0:0","series":null,"tags":["Nebula Graph","katacoda","Dialog System","Nebula Solution"],"title":"ä¸Šæ‰‹å®æˆ˜ä»0åˆ¶ä½œä¸€ä¸ªåŸºäºå›¾è°±çš„è¯­éŸ³æ™ºèƒ½åŠ©æ‰‹","uri":"/learn/nebula-101-siwi-kgqa/#"},{"categories":["Nebula Graph"],"content":"A demo of Shareholding Breakthrough with Distributed open-source Graph Database: Nebula Graph. å›¾æ•°æ®åº“åº”ç”¨ç¤ºä¾‹ï¼šè‚¡æƒå…³ç³»ç©¿é€","date":"2021-08-28","objectID":"/nebula-holdshare-dataset/","series":null,"tags":["Nebula Graph","Know How","Shareholding Relationship Analysis","å›¾æ•°æ®åº“åº”ç”¨","è‚¡æƒç©¿é€"],"title":"Nebula Holdshare Datasetï¼Œå›¾æ•°æ®åº“çš„è‚¡æƒç©¿é€","uri":"/nebula-holdshare-dataset/"},{"categories":["Nebula Graph"],"content":" A demo of Shareholding Breakthrough with Distributed open-source Graph Database: Nebula Graph. å›¾æ•°æ®åº“åº”ç”¨ç¤ºä¾‹ï¼šè‚¡æƒå…³ç³»ç©¿é€ Related GitHub Repo: https://github.com/wey-gu/nebula-shareholding-example è¿™ä¸ªé¡¹ç›®æˆ‘ä¹Ÿåšæˆäº†äº’åŠ¨æ•™ç¨‹ï¼Œå¯ä»¥æŒ‰ç…§è¿™é‡Œçš„æ­¥éª¤æ­å»ºèµ·æ¥ ğŸ‘‰ğŸ» https://siwei.io/cources/ I created the Katacoda Interactive Env for this project ğŸ‘‰ğŸ» https://siwei.io/cources/ æ‚¨ä¹Ÿå¯ä»¥åœ¨ Nebula Playground ä¸Šç›´æ¥ç©è¿™ä¸ªæ•°æ®é›†å•¦ï¼šhttps://nebula-graph.com.cn/demo/ Now you can play with the data on Nebula Playground: https://nebula-graph.io/demo/ This is a demo of Shareholding Relationship Analysis with Distributed open-source Graph Database: Nebula Graph. ","date":"2021-08-28","objectID":"/nebula-holdshare-dataset/:0:0","series":null,"tags":["Nebula Graph","Know How","Shareholding Relationship Analysis","å›¾æ•°æ®åº“åº”ç”¨","è‚¡æƒç©¿é€"],"title":"Nebula Holdshare Datasetï¼Œå›¾æ•°æ®åº“çš„è‚¡æƒç©¿é€","uri":"/nebula-holdshare-dataset/#"},{"categories":["Nebula Graph"],"content":"Data ","date":"2021-08-28","objectID":"/nebula-holdshare-dataset/:1:0","series":null,"tags":["Nebula Graph","Know How","Shareholding Relationship Analysis","å›¾æ•°æ®åº“åº”ç”¨","è‚¡æƒç©¿é€"],"title":"Nebula Holdshare Datasetï¼Œå›¾æ•°æ®åº“çš„è‚¡æƒç©¿é€","uri":"/nebula-holdshare-dataset/#data"},{"categories":["Nebula Graph"],"content":"Data Modeling There are various kinds of relationships when we checking companies' shareholding breakthrough, here letâ€™s simplify it with only two kind of entities: person and corp, and with following relationship types. person can hold a corp in {share} % person can be relative with another person corp can hold another corp in {share} % corp can be a branch of another corp person can be as a role of a corp Below is the lines to reflect this graph modele in Nebula Graph, itâ€™s quite straightforward, right? CREATETAGperson(namestring);CREATETAGcorp(namestring);CREATEEDGErole_as(rolestring);CREATEEDGEis_branch_of();CREATEEDGEhold_share(sharefloat);CREATEEDGEreletive_with(degreeint); ","date":"2021-08-28","objectID":"/nebula-holdshare-dataset/:1:1","series":null,"tags":["Nebula Graph","Know How","Shareholding Relationship Analysis","å›¾æ•°æ®åº“åº”ç”¨","è‚¡æƒç©¿é€"],"title":"Nebula Holdshare Datasetï¼Œå›¾æ•°æ®åº“çš„è‚¡æƒç©¿é€","uri":"/nebula-holdshare-dataset/#data-modeling"},{"categories":["Nebula Graph"],"content":"Data Generation We just randomly generate some data to help with this demo, you can call data_generator.py directly to generate or reuse whatâ€™s already done under data_sample folder. The generated data are records to be fit in above data model from below .csv files. $ pip install Faker==2.0.5 pydbgen==1.0.5 $ python3 data_generator.py $ ls -l data total 1688 -rw-r--r-- 1 weyl staff 23941 Jul 14 13:28 corp.csv -rw-r--r-- 1 weyl staff 1277 Jul 14 13:26 corp_rel.csv -rw-r--r-- 1 weyl staff 3048 Jul 14 13:26 corp_share.csv -rw-r--r-- 1 weyl staff 211661 Jul 14 13:26 person.csv -rw-r--r-- 1 weyl staff 179770 Jul 14 13:26 person_corp_role.csv -rw-r--r-- 1 weyl staff 322965 Jul 14 13:26 person_corp_share.csv -rw-r--r-- 1 weyl staff 17689 Jul 14 13:26 person_rel.csv ","date":"2021-08-28","objectID":"/nebula-holdshare-dataset/:1:2","series":null,"tags":["Nebula Graph","Know How","Shareholding Relationship Analysis","å›¾æ•°æ®åº“åº”ç”¨","è‚¡æƒç©¿é€"],"title":"Nebula Holdshare Datasetï¼Œå›¾æ•°æ®åº“çš„è‚¡æƒç©¿é€","uri":"/nebula-holdshare-dataset/#data-generation"},{"categories":["Nebula Graph"],"content":"Data Import With those data in .csv files, we can easily import them into a Nebula Graph Cluster with the help of Nebula-Importer. nebula-importer.yaml in this repo describes rules and configurations on how this import will be done by the importer. For Nebula Graph Database, plesae refer to Doc , Doc-CN to deploy on any Linux Servers, for study and test, you can run it via Docker following the Quick Start Chapter of the documentation. For Nebula-Importer, if you already have Docker env, you can run it as the following without installing anything. Or, if you prefer to install it, itâ€™s quite easy as itâ€™s written in Golang and you can run its single file binary quite easily, go check both Documentation and Nebula-Importer Repo: https://github.com/vesoft-inc/nebula-importer. Letâ€™s start! Below is the commands I used to import our data into a Nebula Graph Database. # put generated data \u0026 nebula-importor.yaml to nebula-importer server $ scp -r data nebula_graph_host:~ $ scp nebula-importer.yaml data nebula_graph_host:~/data $ ssh nebula_graph_host $ ls -l ${HOME}/data total 756 -rw-r--r--. 1 wei.gu wei.gu 23941 Jul 14 05:44 corp.csv -rw-r--r--. 1 wei.gu wei.gu 1277 Jul 14 05:44 corp_rel.csv -rw-r--r--. 1 wei.gu wei.gu 3048 Jul 14 05:44 corp_share.csv -rw-r--r--. 1 wei.gu wei.gu 3893 Jul 14 05:44 nebula-importer.yaml -rw-r--r--. 1 wei.gu wei.gu 211661 Jul 14 05:44 person.csv -rw-r--r--. 1 wei.gu wei.gu 179770 Jul 14 05:44 person_corp_role.csv -rw-r--r--. 1 wei.gu wei.gu 322965 Jul 14 05:44 person_corp_share.csv -rw-r--r--. 1 wei.gu wei.gu 17689 Jul 14 05:44 person_rel.csv # import data into our nebula graph database $ docker run --rm -ti \\ --network=nebula-docker-compose_nebula-net \\ -v ${HOME}/data/nebula-importer.yaml:/root/nebula-importer.yaml \\ -v ${HOME}/data:/root \\ vesoft/nebula-importer:v2 \\ --config /root/nebula-importer.yaml 2021/07/14 05:49:32 --- START OF NEBULA IMPORTER --- 2021/07/14 05:49:32 [WARN] config.go:491: Not set files[0].schema.vertex.vid.Type, reset to default value `string' ... 2021/07/14 05:49:43 [INFO] reader.go:180: Total lines of file(/root/person_corp_role.csv) is: 5000, error lines: 1287 2021/07/14 05:49:43 [INFO] statsmgr.go:61: Done(/root/person_corp_role.csv): Time(11.39s), Finished(12523), Failed(0), Latency AVG(1514us), Batches Req AVG(1824us), Rows AVG(1099.43/s) 2021/07/14 05:49:47 [INFO] statsmgr.go:61: Tick: Time(15.00s), Finished(25807), Failed(0), Latency AVG(1500us), Batches Req AVG(1805us), Rows AVG(1720.46/s) 2021/07/14 05:49:48 [INFO] reader.go:180: Total lines of file(/root/person.csv) is: 10000, error lines: 0 2021/07/14 05:49:48 [INFO] statsmgr.go:61: Done(/root/person.csv): Time(16.10s), Finished(29731), Failed(0), Latency AVG(1505us), Batches Req AVG(1810us), Rows AVG(1847.17/s) 2021/07/14 05:49:50 [INFO] reader.go:180: Total lines of file(/root/person_corp_share.csv) is: 20000, error lines: 0 2021/07/14 05:49:50 [INFO] statsmgr.go:61: Done(/root/person_corp_share.csv): Time(17.74s), Finished(36013), Failed(0), Latency AVG(1531us), Batches Req AVG(1844us), Rows AVG(2030.29/s) 2021/07/14 05:49:50 Finish import data, consume time: 18.25s 2021/07/14 05:49:51 --- END OF NEBULA IMPORTER --- ","date":"2021-08-28","objectID":"/nebula-holdshare-dataset/:1:3","series":null,"tags":["Nebula Graph","Know How","Shareholding Relationship Analysis","å›¾æ•°æ®åº“åº”ç”¨","è‚¡æƒç©¿é€"],"title":"Nebula Holdshare Datasetï¼Œå›¾æ•°æ®åº“çš„è‚¡æƒç©¿é€","uri":"/nebula-holdshare-dataset/#data-import"},{"categories":["Nebula Graph"],"content":"Corporation sharehold relationship breakthrough Query in nGQL We can query from corp: c_132 over *(all relationships) in BIDIRECT: GO1TO3STEPSFROM\"c_132\"over*BIDIRECT Below are lines I call this query in nebula-console: / # nebula-console -addr 192.168.8.128 -port 9669 -user user -password password 2021/07/14 07:07:41 [INFO] connection pool is initialized successfully Welcome to Nebula Graph! (user@nebula) [(none)]\u003e show spaces +--------------------+ | Name | +--------------------+ | \"basketballplayer\" | +--------------------+ | \"shareholding\" | +--------------------+ Got 2 rows (time spent 3851/4595 us) Wed, 14 Jul 2021 07:07:57 UTC (user@nebula) [(none)]\u003e use shareholding Execution succeeded (time spent 1822/2342 us) Wed, 14 Jul 2021 07:08:02 UTC (user@nebula) [shareholding]\u003e GO 1 TO 3 STEPS FROM \"c_132\" over * BIDIRECT +--------------+-------------------+-----------------+--------------------+ | role_as._dst | is_branch_of._dst | hold_share._dst | reletive_with._dst | +--------------+-------------------+-----------------+--------------------+ | \"p_2024\" | | | | +--------------+-------------------+-----------------+--------------------+ | \"p_4000\" | | | | +--------------+-------------------+-----------------+--------------------+ | | | \"c_245\" | | +--------------+-------------------+-----------------+--------------------+ | | | \"p_1039\" | | +--------------+-------------------+-----------------+--------------------+ | | | \"p_1399\" | | +--------------+-------------------+-----------------+--------------------+ | | | \"p_1767\" | | ... +--------------+-------------------+-----------------+--------------------+ | | | \"c_132\" | | +--------------+-------------------+-----------------+--------------------+ | | | \"c_245\" | | +--------------+-------------------+-----------------+--------------------+ | | | \"c_25\" | | +--------------+-------------------+-----------------+--------------------+ | | | \"c_649\" | | +--------------+-------------------+-----------------+--------------------+ | | | \"c_753\" | | +--------------+-------------------+-----------------+--------------------+ Got 1519 rows (time spent 12190/14702 us) Wed, 14 Jul 2021 07:08:06 UTC In a Visual Way Of course, we can also be done in a visual way: Step 1, login from Nebula Graph Studio, explore with one VID: c_132: Step2, click this explored vertex dot, then you can explore from select vertices by selecting: Edge Type Direction Steps Query Limit(Optional) note, you can click the ğŸ‘ï¸ icon to add options to show fields of the graph, Step3, after click Expand, you will see all quried relations with c_132 the Chambers LLC. ","date":"2021-08-28","objectID":"/nebula-holdshare-dataset/:2:0","series":null,"tags":["Nebula Graph","Know How","Shareholding Relationship Analysis","å›¾æ•°æ®åº“åº”ç”¨","è‚¡æƒç©¿é€"],"title":"Nebula Holdshare Datasetï¼Œå›¾æ•°æ®åº“çš„è‚¡æƒç©¿é€","uri":"/nebula-holdshare-dataset/#corporation-sharehold-relationship-breakthrough"},{"categories":["Nebula Graph"],"content":"Corporation sharehold relationship breakthrough Query in nGQL We can query from corp: c_132 over *(all relationships) in BIDIRECT: GO1TO3STEPSFROM\"c_132\"over*BIDIRECT Below are lines I call this query in nebula-console: / # nebula-console -addr 192.168.8.128 -port 9669 -user user -password password 2021/07/14 07:07:41 [INFO] connection pool is initialized successfully Welcome to Nebula Graph! (user@nebula) [(none)] show spaces +--------------------+ | Name | +--------------------+ | \"basketballplayer\" | +--------------------+ | \"shareholding\" | +--------------------+ Got 2 rows (time spent 3851/4595 us) Wed, 14 Jul 2021 07:07:57 UTC (user@nebula) [(none)] use shareholding Execution succeeded (time spent 1822/2342 us) Wed, 14 Jul 2021 07:08:02 UTC (user@nebula) [shareholding] GO 1 TO 3 STEPS FROM \"c_132\" over * BIDIRECT +--------------+-------------------+-----------------+--------------------+ | role_as._dst | is_branch_of._dst | hold_share._dst | reletive_with._dst | +--------------+-------------------+-----------------+--------------------+ | \"p_2024\" | | | | +--------------+-------------------+-----------------+--------------------+ | \"p_4000\" | | | | +--------------+-------------------+-----------------+--------------------+ | | | \"c_245\" | | +--------------+-------------------+-----------------+--------------------+ | | | \"p_1039\" | | +--------------+-------------------+-----------------+--------------------+ | | | \"p_1399\" | | +--------------+-------------------+-----------------+--------------------+ | | | \"p_1767\" | | ... +--------------+-------------------+-----------------+--------------------+ | | | \"c_132\" | | +--------------+-------------------+-----------------+--------------------+ | | | \"c_245\" | | +--------------+-------------------+-----------------+--------------------+ | | | \"c_25\" | | +--------------+-------------------+-----------------+--------------------+ | | | \"c_649\" | | +--------------+-------------------+-----------------+--------------------+ | | | \"c_753\" | | +--------------+-------------------+-----------------+--------------------+ Got 1519 rows (time spent 12190/14702 us) Wed, 14 Jul 2021 07:08:06 UTC In a Visual Way Of course, we can also be done in a visual way: Step 1, login from Nebula Graph Studio, explore with one VID: c_132: Step2, click this explored vertex dot, then you can explore from select vertices by selecting: Edge Type Direction Steps Query Limit(Optional) note, you can click the ğŸ‘ï¸ icon to add options to show fields of the graph, Step3, after click Expand, you will see all quried relations with c_132 the Chambers LLC. ","date":"2021-08-28","objectID":"/nebula-holdshare-dataset/:2:0","series":null,"tags":["Nebula Graph","Know How","Shareholding Relationship Analysis","å›¾æ•°æ®åº“åº”ç”¨","è‚¡æƒç©¿é€"],"title":"Nebula Holdshare Datasetï¼Œå›¾æ•°æ®åº“çš„è‚¡æƒç©¿é€","uri":"/nebula-holdshare-dataset/#query-in-ngql"},{"categories":["Nebula Graph"],"content":"Corporation sharehold relationship breakthrough Query in nGQL We can query from corp: c_132 over *(all relationships) in BIDIRECT: GO1TO3STEPSFROM\"c_132\"over*BIDIRECT Below are lines I call this query in nebula-console: / # nebula-console -addr 192.168.8.128 -port 9669 -user user -password password 2021/07/14 07:07:41 [INFO] connection pool is initialized successfully Welcome to Nebula Graph! (user@nebula) [(none)] show spaces +--------------------+ | Name | +--------------------+ | \"basketballplayer\" | +--------------------+ | \"shareholding\" | +--------------------+ Got 2 rows (time spent 3851/4595 us) Wed, 14 Jul 2021 07:07:57 UTC (user@nebula) [(none)] use shareholding Execution succeeded (time spent 1822/2342 us) Wed, 14 Jul 2021 07:08:02 UTC (user@nebula) [shareholding] GO 1 TO 3 STEPS FROM \"c_132\" over * BIDIRECT +--------------+-------------------+-----------------+--------------------+ | role_as._dst | is_branch_of._dst | hold_share._dst | reletive_with._dst | +--------------+-------------------+-----------------+--------------------+ | \"p_2024\" | | | | +--------------+-------------------+-----------------+--------------------+ | \"p_4000\" | | | | +--------------+-------------------+-----------------+--------------------+ | | | \"c_245\" | | +--------------+-------------------+-----------------+--------------------+ | | | \"p_1039\" | | +--------------+-------------------+-----------------+--------------------+ | | | \"p_1399\" | | +--------------+-------------------+-----------------+--------------------+ | | | \"p_1767\" | | ... +--------------+-------------------+-----------------+--------------------+ | | | \"c_132\" | | +--------------+-------------------+-----------------+--------------------+ | | | \"c_245\" | | +--------------+-------------------+-----------------+--------------------+ | | | \"c_25\" | | +--------------+-------------------+-----------------+--------------------+ | | | \"c_649\" | | +--------------+-------------------+-----------------+--------------------+ | | | \"c_753\" | | +--------------+-------------------+-----------------+--------------------+ Got 1519 rows (time spent 12190/14702 us) Wed, 14 Jul 2021 07:08:06 UTC In a Visual Way Of course, we can also be done in a visual way: Step 1, login from Nebula Graph Studio, explore with one VID: c_132: Step2, click this explored vertex dot, then you can explore from select vertices by selecting: Edge Type Direction Steps Query Limit(Optional) note, you can click the ğŸ‘ï¸ icon to add options to show fields of the graph, Step3, after click Expand, you will see all quried relations with c_132 the Chambers LLC. ","date":"2021-08-28","objectID":"/nebula-holdshare-dataset/:2:0","series":null,"tags":["Nebula Graph","Know How","Shareholding Relationship Analysis","å›¾æ•°æ®åº“åº”ç”¨","è‚¡æƒç©¿é€"],"title":"Nebula Holdshare Datasetï¼Œå›¾æ•°æ®åº“çš„è‚¡æƒç©¿é€","uri":"/nebula-holdshare-dataset/#in-a-visual-way"},{"categories":["Nebula Graph"],"content":"Thanks to Upstream Projects â¤ï¸ Python Faker https://github.com/joke2k/faker/ pydbgen https://github.com/tirthajyoti/pydbgen Nebula Graph https://github.com/vesoft-inc/nebula-graph ","date":"2021-08-28","objectID":"/nebula-holdshare-dataset/:3:0","series":null,"tags":["Nebula Graph","Know How","Shareholding Relationship Analysis","å›¾æ•°æ®åº“åº”ç”¨","è‚¡æƒç©¿é€"],"title":"Nebula Holdshare Datasetï¼Œå›¾æ•°æ®åº“çš„è‚¡æƒç©¿é€","uri":"/nebula-holdshare-dataset/#thanks-to-upstream-projects-"},{"categories":["Nebula Graph"],"content":"Tips: You can deploy nebula graph in one line with: Nebula-UP, it helps install a nebula graph with Docker Nebula-operator-KIND , it helps setup all dependencies of Nebula-K8s-Operator including a K8s in Docker, PV Provider and then install a Nebula Graph with Nebula-Operator in K8s. Image Credit goes to https://unsplash.com/photos/3fPXt37X6UQ ","date":"2021-08-28","objectID":"/nebula-holdshare-dataset/:3:1","series":null,"tags":["Nebula Graph","Know How","Shareholding Relationship Analysis","å›¾æ•°æ®åº“åº”ç”¨","è‚¡æƒç©¿é€"],"title":"Nebula Holdshare Datasetï¼Œå›¾æ•°æ®åº“çš„è‚¡æƒç©¿é€","uri":"/nebula-holdshare-dataset/#tips"},{"categories":null,"content":" è‚¡æƒç©¿é€æ•™ç¨‹ 1. ä¸Šæ‰‹å®æˆ˜å›¾æ•°æ®åº“è‚¡æƒå…³ç³»ç©¿é€ 2. ä½“éªŒ Nebula-Up ä¸€é”®éƒ¨ç½² Nebula Core + Studio é˜…è¯»å…¨æ–‡ Siwi 1. ä¸Šæ‰‹å®æˆ˜ä» 0 åˆ¶ä½œä¸€ä¸ªåŸºäºå›¾è°±çš„è¯­éŸ³æ™ºèƒ½åŠ©æ‰‹ 2. ä½“éªŒ Nebula-Kind-Operator ä¸€é”®éƒ¨ç½² K8s + Nebula Operator é˜…è¯»å…¨æ–‡ ","date":"2021-08-26","objectID":"/cources/:0:0","series":null,"tags":null,"title":"ä¸Šæ‰‹è¯¾ç¨‹","uri":"/cources/#"},{"categories":null,"content":" K8s Community Day 2021 Openfunction + GraphDB é˜…è¯»å…¨æ–‡ COScon 2021 æˆ‘çš„å¼€æºä¹‹è·¯ é˜…è¯»å…¨æ–‡ PyCon China 2021 å›¾æ•°æ®åº“è§£è°œä¸ Python çš„å›¾åº“åº”ç”¨å®è·µ é˜…è¯»å…¨æ–‡ K8s ä¸Šçš„å›¾æ•°æ®åº“ Nebula K8s Operator çš„å®ç°è§£æï¼Œå›¾æ•°æ®åº“åº”ç”¨åœ¨ K8s + OpenFunction ä¸Šçš„è½åœ°æ¼”ç¤º é˜…è¯»å…¨æ–‡ nMeetup: Nebula åº”ç”¨ä¸Šæ‰‹å®æ“ ä»å¤´å®æ“ Nebula çš„éƒ¨ç½²ï¼Œè‚¡æƒç©¿é€ï¼Œå›¾ç®—æ³•è¿ç®—ï¼Œè¯­éŸ³æ™ºèƒ½åŠ©æ‰‹ã€‚ é˜…è¯»å…¨æ–‡ How to Train your Dragon å¦‚ä½•æˆä¸ºå¼€æºå¼€å‘è€…ï¼ˆå¸ƒé“å¸ˆï¼‰ã€‚ é˜…è¯»å…¨æ–‡ ","date":"2021-08-26","objectID":"/talk/:0:0","series":null,"tags":null,"title":"My Talks","uri":"/talk/#"},{"categories":["Nebula Graph"],"content":"Import LiveJournal Dataset into Nebula Graph and Run Nebula Algorithm å¯¼å…¥ Livejournal æ•°æ®é›†åˆ° Nebula å¹¶è¿è¡Œ Nebula Algorithm å›¾ç®—æ³•","date":"2021-08-24","objectID":"/nebula-livejournal/","series":null,"tags":["Nebula Graph","LiveJournal","Nebula Algorithm","PageRank","Graph Algorithm"],"title":"Nebula LiveJournalï¼Œä¸Šæ‰‹ LiveJournal æ•°æ®é›†å¯¼å…¥ Nebula Graph ä¸å›¾ç®—æ³•æ‰§è¡Œ","uri":"/nebula-livejournal/"},{"categories":["Nebula Graph"],"content":" ä¸€ä¸ªå¯¼å…¥ Livejournal æ•°æ®é›†åˆ° Nebula Graph å›¾æ•°æ®åº“ï¼Œå¹¶æ‰§è¡Œ Nebula Algorithm å›¾ç®—æ³•çš„è¿‡ç¨‹åˆ†äº«ã€‚ Related GitHub Repo: https://github.com/wey-gu/nebula-LiveJournal ","date":"2021-08-24","objectID":"/nebula-livejournal/:0:0","series":null,"tags":["Nebula Graph","LiveJournal","Nebula Algorithm","PageRank","Graph Algorithm"],"title":"Nebula LiveJournalï¼Œä¸Šæ‰‹ LiveJournal æ•°æ®é›†å¯¼å…¥ Nebula Graph ä¸å›¾ç®—æ³•æ‰§è¡Œ","uri":"/nebula-livejournal/#"},{"categories":["Nebula Graph"],"content":"nebula-LiveJournal LiveJournal Dataset is a Social Network Dataset in one file with two columns(FromNodeId, ToNodeId). $ head soc-LiveJournal1.txt # Directed graph (each unordered pair of nodes is saved once): soc-LiveJournal1.txt # Directed LiveJournal friednship social network # Nodes: 4847571 Edges: 68993773 # FromNodeId ToNodeId 0 1 0 2 0 3 0 4 0 5 0 6 It could be accessed in https://snap.stanford.edu/data/soc-LiveJournal1.html. Dataset statistics Nodes 4847571 Edges 68993773 Nodes in largest WCC 4843953 (0.999) Edges in largest WCC 68983820 (1.000) Nodes in largest SCC 3828682 (0.790) Edges in largest SCC 65825429 (0.954) Average clustering coefficient 0.2742 Number of triangles 285730264 Fraction of closed triangles 0.04266 Diameter (longest shortest path) 16 90-percentile effective diameter 6.5 ","date":"2021-08-24","objectID":"/nebula-livejournal/:0:0","series":null,"tags":["Nebula Graph","LiveJournal","Nebula Algorithm","PageRank","Graph Algorithm"],"title":"Nebula LiveJournalï¼Œä¸Šæ‰‹ LiveJournal æ•°æ®é›†å¯¼å…¥ Nebula Graph ä¸å›¾ç®—æ³•æ‰§è¡Œ","uri":"/nebula-livejournal/#nebula-livejournal"},{"categories":["Nebula Graph"],"content":"Dataset Download and Preprocessing ","date":"2021-08-24","objectID":"/nebula-livejournal/:1:0","series":null,"tags":["Nebula Graph","LiveJournal","Nebula Algorithm","PageRank","Graph Algorithm"],"title":"Nebula LiveJournalï¼Œä¸Šæ‰‹ LiveJournal æ•°æ®é›†å¯¼å…¥ Nebula Graph ä¸å›¾ç®—æ³•æ‰§è¡Œ","uri":"/nebula-livejournal/#dataset-download-and-preprocessing"},{"categories":["Nebula Graph"],"content":"Download It is accesissiable from the official web page: $ cd nebula-livejournal/data $ wget https://snap.stanford.edu/data/soc-LiveJournal1.txt.gz Comments in data file should be removed to make the data import tool happy. ","date":"2021-08-24","objectID":"/nebula-livejournal/:1:1","series":null,"tags":["Nebula Graph","LiveJournal","Nebula Algorithm","PageRank","Graph Algorithm"],"title":"Nebula LiveJournalï¼Œä¸Šæ‰‹ LiveJournal æ•°æ®é›†å¯¼å…¥ Nebula Graph ä¸å›¾ç®—æ³•æ‰§è¡Œ","uri":"/nebula-livejournal/#download"},{"categories":["Nebula Graph"],"content":"Preprocessing $ gzip -d soc-LiveJournal1.txt.gz $ sed -i '1,4d' soc-LiveJournal1.txt ","date":"2021-08-24","objectID":"/nebula-livejournal/:1:2","series":null,"tags":["Nebula Graph","LiveJournal","Nebula Algorithm","PageRank","Graph Algorithm"],"title":"Nebula LiveJournalï¼Œä¸Šæ‰‹ LiveJournal æ•°æ®é›†å¯¼å…¥ Nebula Graph ä¸å›¾ç®—æ³•æ‰§è¡Œ","uri":"/nebula-livejournal/#preprocessing"},{"categories":["Nebula Graph"],"content":"Import dataset to Nebula Graph ","date":"2021-08-24","objectID":"/nebula-livejournal/:2:0","series":null,"tags":["Nebula Graph","LiveJournal","Nebula Algorithm","PageRank","Graph Algorithm"],"title":"Nebula LiveJournalï¼Œä¸Šæ‰‹ LiveJournal æ•°æ®é›†å¯¼å…¥ Nebula Graph ä¸å›¾ç®—æ³•æ‰§è¡Œ","uri":"/nebula-livejournal/#import-dataset-to-nebula-graph"},{"categories":["Nebula Graph"],"content":"With Nebula Importer Nebula-Importer is a Golang Headless import tool for Nebula Graph. You may need to edit the config file under nebula-importer/importer.yaml on Nebula Graphâ€™s address and credentialã€‚ Then, Nebula-Importer could be called in Docker as follow: $ cd nebula-livejournal $ docker run --rm -ti \\ --network=nebula-net \\ -v nebula-importer/importer.yaml:/root/importer.yaml \\ -v data/:/root \\ vesoft/nebula-importer:v2 \\ --config /root/importer.yaml Or if you have the binary nebula-importer locally: $ cd data $ \u003cpath_to_nebula-importer_binary\u003e --config ../nebula-importer/importer.yaml ","date":"2021-08-24","objectID":"/nebula-livejournal/:2:1","series":null,"tags":["Nebula Graph","LiveJournal","Nebula Algorithm","PageRank","Graph Algorithm"],"title":"Nebula LiveJournalï¼Œä¸Šæ‰‹ LiveJournal æ•°æ®é›†å¯¼å…¥ Nebula Graph ä¸å›¾ç®—æ³•æ‰§è¡Œ","uri":"/nebula-livejournal/#with-nebula-importer"},{"categories":["Nebula Graph"],"content":"With Nebula Exchange Nebula-Exchange is a Spark Application to enable batch and streaming data import from multiple data sources to Nebula Graph. To be done. (You can refer to https://siwei.io/nebula-exchange-sst-2.x/) ","date":"2021-08-24","objectID":"/nebula-livejournal/:2:2","series":null,"tags":["Nebula Graph","LiveJournal","Nebula Algorithm","PageRank","Graph Algorithm"],"title":"Nebula LiveJournalï¼Œä¸Šæ‰‹ LiveJournal æ•°æ®é›†å¯¼å…¥ Nebula Graph ä¸å›¾ç®—æ³•æ‰§è¡Œ","uri":"/nebula-livejournal/#with-nebula-exchange"},{"categories":["Nebula Graph"],"content":"Run Algorithms with Nebula Graph Nebula-Algorithm is a Spark/GraphX Application to run Graph Algorithms with data consumed from files or a Nebula Graph Cluster. Supported Algorithms for now: Name Use Case PageRank page ranking, important node digging Louvain community digging, hierarchical clustering KCore community detection, financial risk control LabelPropagation community detection, consultation propagation, advertising recommendation ConnectedComponent community detection, isolated island detection StronglyConnectedComponent community detection ShortestPath path plan, network plan TriangleCount network structure analysis BetweennessCentrality important node digging, node influence calculation DegreeStatic graph structure analysis ","date":"2021-08-24","objectID":"/nebula-livejournal/:3:0","series":null,"tags":["Nebula Graph","LiveJournal","Nebula Algorithm","PageRank","Graph Algorithm"],"title":"Nebula LiveJournalï¼Œä¸Šæ‰‹ LiveJournal æ•°æ®é›†å¯¼å…¥ Nebula Graph ä¸å›¾ç®—æ³•æ‰§è¡Œ","uri":"/nebula-livejournal/#run-algorithms-with-nebula-graph"},{"categories":["Nebula Graph"],"content":"Ad-hoc Spark Env setup Here I assume the Nebula Graph was bootstraped with Nebula-Up, thus nebula is running in a Docker Network named nebula-docker-compose_nebula-net. Then letâ€™s start a single server spark: docker run --name spark-master --network nebula-docker-compose_nebula-net \\ -h spark-master -e ENABLE_INIT_DAEMON=false -d \\ -v nebula-algorithm/:/root \\ bde2020/spark-master:2.4.5-hadoop2.7 Thus we could make spark application submt inside this container: docker exec -it spark-master bash cd /root/ # download Nebula-Algorithm Jar Packagem, 2.0.0 for example, for other versions, refer to nebula-algorithm github repo and documentations. wget https://repo1.maven.org/maven2/com/vesoft/nebula-algorithm/2.0.0/nebula-algorithm-2.0.0.jar ","date":"2021-08-24","objectID":"/nebula-livejournal/:3:1","series":null,"tags":["Nebula Graph","LiveJournal","Nebula Algorithm","PageRank","Graph Algorithm"],"title":"Nebula LiveJournalï¼Œä¸Šæ‰‹ LiveJournal æ•°æ®é›†å¯¼å…¥ Nebula Graph ä¸å›¾ç®—æ³•æ‰§è¡Œ","uri":"/nebula-livejournal/#ad-hoc-spark-env-setup"},{"categories":["Nebula Graph"],"content":"Run Algorithms There are many altorithms supported by Nebula-Algorithm, here some of their configuration files were put under nebula-algorithm as an example. Before using them, please first edit and change Nebula Graph Cluster Addresses and credentials. vim nebula-altorithm/algo-pagerank.conf Then we could enter the spark container and call corresponding algorithms as follow. Please adjust your --driver-memeory accordingly, i.e. pagerank altorithm: /spark/bin/spark-submit --master \"local\" --conf spark.rpc.askTimeout=6000s \\ --class com.vesoft.nebula.algorithm.Main \\ --driver-memory 16g nebula-algorithm-2.0.0.jar \\ -p pagerank.conf After the algorithm finished, the output will be under the path insdie the container defined in conf file: write:{ resultPath:/output/ } é¢˜å›¾ç‰ˆæƒï¼š@sigmund ","date":"2021-08-24","objectID":"/nebula-livejournal/:3:2","series":null,"tags":["Nebula Graph","LiveJournal","Nebula Algorithm","PageRank","Graph Algorithm"],"title":"Nebula LiveJournalï¼Œä¸Šæ‰‹ LiveJournal æ•°æ®é›†å¯¼å…¥ Nebula Graph ä¸å›¾ç®—æ³•æ‰§è¡Œ","uri":"/nebula-livejournal/#run-algorithms"},{"categories":["Nebula Graph"],"content":"è¿™ç¯‡æ–‡ç« å¸¦å¤§å®¶ä»¥æœ€å°æ–¹å¼ï¼Œå¿«é€Ÿè¶Ÿä¸€ä¸‹ Nebula Exchange ä¸­ SST å†™å…¥æ–¹å¼çš„æ­¥éª¤ã€‚","date":"2021-08-18","objectID":"/nebula-exchange-sst-2.x/","series":null,"tags":["Nebula Graph","Nebula Exchange","SST"],"title":"Nebula Exchange SST 2.x Hands-on Guide","uri":"/nebula-exchange-sst-2.x/"},{"categories":["Nebula Graph"],"content":"è¿™ç¯‡æ–‡ç« å¸¦å¤§å®¶ä»¥æœ€å°æ–¹å¼ï¼Œå¿«é€Ÿè¶Ÿä¸€ä¸‹ Nebula Exchange ä¸­ SST å†™å…¥æ–¹å¼çš„æ­¥éª¤ã€‚ ","date":"2021-08-18","objectID":"/nebula-exchange-sst-2.x/:0:0","series":null,"tags":["Nebula Graph","Nebula Exchange","SST"],"title":"Nebula Exchange SST 2.x Hands-on Guide","uri":"/nebula-exchange-sst-2.x/#"},{"categories":["Nebula Graph"],"content":"ä»€ä¹ˆæ˜¯ Nebula Exchange ? ä¹‹å‰æˆ‘åœ¨ Nebula Data Import Options ä¹‹ä¸­ä»‹ç»è¿‡ï¼ŒNebula Exchange æ˜¯ä¸€ä¸ª Nebula Graph ç¤¾åŒºå¼€æºçš„ Spark Applicaitonï¼Œå®ƒä¸“é—¨ç”¨æ¥æ”¯æŒæ‰¹é‡æˆ–è€…æµå¼åœ°æŠŠæ•°æ®å¯¼å…¥ Nebula Graph Database ä¹‹ä¸­ã€‚ Nebula Exchange æ”¯æŒå¤šç§å¤šæ ·çš„æ•°æ®æºï¼ˆä» Apache Parquet, ORC, JSON, CSV, HBase, Hive MaxCompute åˆ° Neo4j, MySQL, ClickHouse, å†æœ‰ Kafka, Pulsarï¼Œæ›´å¤šçš„æ•°æ®æºä¹Ÿåœ¨ä¸æ–­å¢åŠ ä¹‹ä¸­ï¼‰ã€‚ å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œåœ¨ Exchange å†…éƒ¨ï¼Œä»é™¤äº†ä¸åŒ Reader å¯ä»¥è¯»å–ä¸åŒæ•°æ®æºä¹‹å¤–ï¼Œåœ¨æ•°æ®ç»è¿‡ Processor å¤„ç†ä¹‹åé€šè¿‡ Writerå†™å…¥ï¼ˆsinkï¼‰ Nebula Graph å›¾æ•°æ®åº“çš„æ—¶å€™ï¼Œé™¤äº†èµ°æ­£å¸¸çš„ ServerBaseWriter çš„å†™å…¥æµç¨‹ä¹‹å¤–ï¼Œå®ƒè¿˜å¯ä»¥ç»•è¿‡æ•´ä¸ªå†™å…¥æµç¨‹ï¼Œåˆ©ç”¨ Spark çš„è®¡ç®—èƒ½åŠ›å¹¶è¡Œç”Ÿæˆåº•å±‚ RocksDB çš„ SST æ–‡ä»¶ï¼Œä»è€Œå®ç°è¶…é«˜æ€§èƒ½çš„æ•°æ®å¯¼å…¥ï¼Œè¿™ä¸ª SST æ–‡ä»¶å¯¼å…¥çš„åœºæ™¯å°±æ˜¯æœ¬æ–‡å¸¦å¤§å®¶ä¸Šæ‰‹ç†Ÿæ‚‰çš„éƒ¨åˆ†ã€‚ è¯¦ç»†ä¿¡æ¯è¯·å‚é˜…ï¼šNebula Graph æ‰‹å†Œ:ä»€ä¹ˆæ˜¯ Nebula Exchange Nebula Graph å®˜æ–¹åšå®¢ä¹Ÿæœ‰æ›´å¤š Nebula Exchange çš„å®è·µæ–‡ç«  ","date":"2021-08-18","objectID":"/nebula-exchange-sst-2.x/:1:0","series":null,"tags":["Nebula Graph","Nebula Exchange","SST"],"title":"Nebula Exchange SST 2.x Hands-on Guide","uri":"/nebula-exchange-sst-2.x/#ä»€ä¹ˆæ˜¯-nebula-exchange-"},{"categories":["Nebula Graph"],"content":"æ­¥éª¤æ¦‚è§‚ å®éªŒç¯å¢ƒ é…ç½® Exchange ç”Ÿæˆ SST æ–‡ä»¶ å†™å…¥ SST æ–‡ä»¶åˆ° Nebula Graph ","date":"2021-08-18","objectID":"/nebula-exchange-sst-2.x/:2:0","series":null,"tags":["Nebula Graph","Nebula Exchange","SST"],"title":"Nebula Exchange SST 2.x Hands-on Guide","uri":"/nebula-exchange-sst-2.x/#æ­¥éª¤æ¦‚è§‚"},{"categories":["Nebula Graph"],"content":"å®éªŒç¯å¢ƒå‡†å¤‡ ä¸ºäº†æœ€å°åŒ–ä½¿ç”¨ Nebula Exchange çš„ SST åŠŸèƒ½ï¼Œæˆ‘ä»¬éœ€è¦ï¼š æ­å»ºä¸€ä¸ª Nebula Graph é›†ç¾¤ï¼Œåˆ›å»ºå¯¼å…¥æ•°æ®çš„ Schemaï¼Œæˆ‘ä»¬é€‰æ‹©ä½¿ç”¨ Docker-Compose æ–¹å¼ã€åˆ©ç”¨ Nebula-Up å¿«é€Ÿéƒ¨ç½²ï¼Œå¹¶ç®€å•ä¿®æ”¹å…¶ç½‘ç»œï¼Œä»¥æ–¹ä¾¿åŒæ ·å®¹å™¨åŒ–çš„ Exchange ç¨‹åºå¯¹å…¶è®¿é—®ã€‚ æ­å»ºå®¹å™¨åŒ–çš„ Spark è¿è¡Œç¯å¢ƒ æ­å»ºå®¹å™¨åŒ–çš„ HDFS ","date":"2021-08-18","objectID":"/nebula-exchange-sst-2.x/:3:0","series":null,"tags":["Nebula Graph","Nebula Exchange","SST"],"title":"Nebula Exchange SST 2.x Hands-on Guide","uri":"/nebula-exchange-sst-2.x/#å®éªŒç¯å¢ƒå‡†å¤‡"},{"categories":["Nebula Graph"],"content":"1. æ­å»º Nebula Graph é›†ç¾¤ å€ŸåŠ©äº Nebula-Up æˆ‘ä»¬å¯ä»¥åœ¨ Linux ç¯å¢ƒä¸‹ä¸€é”®éƒ¨ç½²ä¸€å¥— Nebula Graph é›†ç¾¤ï¼š curl -fsSL nebula-up.siwei.io/install.sh | bash å¾…éƒ¨ç½²æˆåŠŸä¹‹åï¼Œæˆ‘ä»¬éœ€è¦å¯¹ç¯å¢ƒåšä¸€äº›ä¿®æ”¹ï¼Œè¿™é‡Œæˆ‘åšçš„ä¿®æ”¹å…¶å®å°±æ˜¯ä¸¤ç‚¹ï¼š åªä¿ç•™ä¸€ä¸ª metaD æœåŠ¡ èµ·ç”¨ Docker çš„å¤–éƒ¨ç½‘ç»œ è¯¦ç»†ä¿®æ”¹çš„éƒ¨åˆ†å‚è€ƒé™„å½•ä¸€ åº”ç”¨ docker-compose çš„ä¿®æ”¹ï¼š cd ~/.nebula-up/nebula-docker-compose vim docker-compose.yaml # å‚è€ƒé™„å½•ä¸€ docker network create nebula-net # éœ€è¦åˆ›å»ºå¤–éƒ¨ç½‘ç»œ docker-compose up -d --remove-orphans ä¹‹åï¼Œæˆ‘ä»¬æ¥åˆ›å»ºè¦æµ‹è¯•çš„å›¾ç©ºé—´ï¼Œå¹¶åˆ›å»ºå›¾çš„ Schemaï¼Œä¸ºæ­¤ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ nebula-console ï¼ŒåŒæ ·ï¼ŒNebula-Up é‡Œè‡ªå¸¦äº†å®¹å™¨åŒ–çš„ nebula-consoleã€‚ è¿›å…¥ Nebula-Console æ‰€åœ¨çš„å®¹å™¨ ~/.nebula-up/console.sh / # åœ¨ console å®¹å™¨é‡Œå‘èµ·é“¾æ¥åˆ°å›¾æ•°æ®åº“ï¼Œå…¶ä¸­ 192.168.x.y æ˜¯æˆ‘æ‰€åœ¨çš„ Linux VM çš„ç¬¬ä¸€ä¸ªç½‘å¡åœ°å€ï¼Œè¯·æ¢æˆæ‚¨çš„ / # nebula-console -addr 192.168.x.y -port 9669 -user root -p password [INFO] connection pool is initialized successfully Welcome to Nebula Graph! åˆ›å»ºå›¾ç©ºé—´ï¼ˆæˆ‘ä»¬èµ·åå­—å« sst ï¼‰ï¼Œä»¥åŠ schema createspacesst(partition_num=5,replica_factor=1,vid_type=fixed_string(32));:sleep20usesstcreatetagplayer(namestring,ageint); ç¤ºä¾‹è¾“å‡º (root@nebula)[(none)]\u003ecreatespacesst(partition_num=5,replica_factor=1,vid_type=fixed_string(32));Executionsucceeded(timespent1468/1918us)(root@nebula)[(none)]\u003e:sleep20(root@nebula)[(none)]\u003eusesstExecutionsucceeded(timespent1253/1566us)Wed,18Aug202108:18:13UTC(root@nebula)[sst]\u003ecreatetagplayer(namestring,ageint);Executionsucceeded(timespent1312/1735us)Wed,18Aug202108:18:23UTC ","date":"2021-08-18","objectID":"/nebula-exchange-sst-2.x/:3:1","series":null,"tags":["Nebula Graph","Nebula Exchange","SST"],"title":"Nebula Exchange SST 2.x Hands-on Guide","uri":"/nebula-exchange-sst-2.x/#1-æ­å»º-nebula-graph-é›†ç¾¤"},{"categories":["Nebula Graph"],"content":"2. æ­å»ºå®¹å™¨åŒ–çš„ Spark ç¯å¢ƒ åˆ©ç”¨ big data europe åšçš„å·¥ä½œï¼Œè¿™ä¸ªè¿‡ç¨‹éå¸¸å®¹æ˜“ã€‚ å€¼å¾—æ³¨æ„çš„æ˜¯ï¼š ç°åœ¨çš„ Nebula Exchange å¯¹ Spark çš„ç‰ˆæœ¬æœ‰è¦æ±‚ï¼Œåœ¨ç°åœ¨çš„ 2021 å¹´ 8 æœˆï¼Œæˆ‘æ˜¯ç”¨äº† spark-2.4.5-hadoop-2.7 çš„ç‰ˆæœ¬ã€‚ ä¸ºäº†æ–¹ä¾¿ï¼Œæˆ‘è®© Spark è¿è¡Œåœ¨ Nebula Graph ç›¸åŒçš„æœºå™¨ä¸Šï¼Œå¹¶ä¸”æŒ‡å®šäº†è¿è¡Œåœ¨åŒä¸€ä¸ª Docker ç½‘ç»œä¸‹ docker run --name spark-master --network nebula-net \\ -h spark-master -e ENABLE_INIT_DAEMON=false -d \\ bde2020/spark-master:2.4.5-hadoop2.7 ç„¶åï¼Œæˆ‘ä»¬å°±å¯ä»¥è¿›å…¥åˆ°ç¯å¢ƒä¸­äº†ï¼š docker exec -it spark-master bash è¿›åˆ° Spark å®¹å™¨ä¸­ä¹‹åï¼Œå¯ä»¥åƒè¿™æ ·å®‰è£… maven: export MAVEN_VERSION=3.5.4 export MAVEN_HOME=/usr/lib/mvn export PATH=$MAVEN_HOME/bin:$PATH wget http://archive.apache.org/dist/maven/maven-3/$MAVEN_VERSION/binaries/apache-maven-$MAVEN_VERSION-bin.tar.gz \u0026\u0026 \\ tar -zxvf apache-maven-$MAVEN_VERSION-bin.tar.gz \u0026\u0026 \\ rm apache-maven-$MAVEN_VERSION-bin.tar.gz \u0026\u0026 \\ mv apache-maven-$MAVEN_VERSION /usr/lib/mvn è¿˜å¯ä»¥è¿™æ ·åœ¨å®¹å™¨é‡Œä¸‹è½½ nebula-exchange çš„ jar åŒ…ï¼š cd ~ wget https://repo1.maven.org/maven2/com/vesoft/nebula-exchange/2.1.0/nebula-exchange-2.1.0.jar ","date":"2021-08-18","objectID":"/nebula-exchange-sst-2.x/:3:2","series":null,"tags":["Nebula Graph","Nebula Exchange","SST"],"title":"Nebula Exchange SST 2.x Hands-on Guide","uri":"/nebula-exchange-sst-2.x/#2-æ­å»ºå®¹å™¨åŒ–çš„-spark-ç¯å¢ƒ"},{"categories":["Nebula Graph"],"content":"3. æ­å»ºå®¹å™¨åŒ–çš„ HDFS åŒæ ·å€ŸåŠ© big-data-euroupe çš„å·¥ä½œï¼Œè¿™éå¸¸ç®€å•ï¼Œä¸è¿‡æˆ‘ä»¬è¦åšä¸€ç‚¹ä¿®æ”¹ï¼Œè®©å®ƒçš„ docker-compose.yml æ–‡ä»¶é‡Œä½¿ç”¨ nebula-net è¿™ä¸ªä¹‹å‰åˆ›å»ºçš„ Docker ç½‘ç»œã€‚ è¯¦ç»†ä¿®æ”¹çš„éƒ¨åˆ†å‚è€ƒé™„å½•äºŒ git clone https://github.com/big-data-europe/docker-hadoop.git cd docker-hadoop vim docker-compose.yml docker-compose up -d ","date":"2021-08-18","objectID":"/nebula-exchange-sst-2.x/:3:3","series":null,"tags":["Nebula Graph","Nebula Exchange","SST"],"title":"Nebula Exchange SST 2.x Hands-on Guide","uri":"/nebula-exchange-sst-2.x/#3-æ­å»ºå®¹å™¨åŒ–çš„-hdfs"},{"categories":["Nebula Graph"],"content":"é…ç½®Exchange è¿™ä¸ªé…ç½®ä¸»è¦å¡«å…¥çš„ä¿¡æ¯å°±æ˜¯ Nebula Graph é›†ç¾¤æœ¬èº«å’Œå°†è¦å†™å…¥æ•°æ®çš„ Space Nameï¼Œä»¥åŠæ•°æ®æºç›¸å…³çš„é…ç½®ï¼ˆè¿™é‡Œæˆ‘ä»¬ç”¨ csv ä½œä¸ºä¾‹å­ï¼‰ï¼Œæœ€åå†é…ç½®è¾“å‡ºï¼ˆsinkï¼‰ä¸º sst Nebula Graph GraphD åœ°å€ MetaD åœ°å€ credential Space Name æ•°æ®æº source: csv path fields etc. ink: sst è¯¦ç»†çš„é…ç½®å‚è€ƒé™„å½•äºŒ æ³¨æ„ï¼Œè¿™é‡Œ metaD çš„åœ°å€å¯ä»¥è¿™æ ·è·å–ï¼Œå¯ä»¥çœ‹åˆ° 0.0.0.0:49377-\u003e9559 è¡¨ç¤º 49377 æ˜¯å¤–éƒ¨çš„åœ°å€ã€‚ $ docker ps | grep meta 887740c15750 vesoft/nebula-metad:v2.0.0 \"./bin/nebula-metad â€¦\" 6 hours ago Up 6 hours (healthy) 9560/tcp, 0.0.0.0:49377-\u003e9559/tcp, :::49377-\u003e9559/tcp, 0.0.0.0:49376-\u003e19559/tcp, :::49376-\u003e19559/tcp, 0.0.0.0:49375-\u003e19560/tcp, :::49375-\u003e19560/tcp nebula-docker-compose_metad0_1 ","date":"2021-08-18","objectID":"/nebula-exchange-sst-2.x/:4:0","series":null,"tags":["Nebula Graph","Nebula Exchange","SST"],"title":"Nebula Exchange SST 2.x Hands-on Guide","uri":"/nebula-exchange-sst-2.x/#é…ç½®exchange"},{"categories":["Nebula Graph"],"content":"ç”ŸæˆSSTæ–‡ä»¶ ","date":"2021-08-18","objectID":"/nebula-exchange-sst-2.x/:5:0","series":null,"tags":["Nebula Graph","Nebula Exchange","SST"],"title":"Nebula Exchange SST 2.x Hands-on Guide","uri":"/nebula-exchange-sst-2.x/#ç”Ÿæˆsstæ–‡ä»¶"},{"categories":["Nebula Graph"],"content":"1. å‡†å¤‡æºæ–‡ä»¶ã€é…ç½®æ–‡ä»¶ docker cp exchange-sst.conf spark-master:/root/ docker cp player.csv spark-master:/root/ å…¶ä¸­ player.csv çš„ä¾‹å­ï¼š 1100,Tim Duncan,42 1101,Tony Parker,36 1102,LaMarcus Aldridge,33 1103,Rudy Gay,32 1104,Marco Belinelli,32 1105,Danny Green,31 1106,Kyle Anderson,25 1107,Aron Baynes,32 1108,Boris Diaw,36 1109,Tiago Splitter,34 1110,Cory Joseph,27 1111,David West,38 ","date":"2021-08-18","objectID":"/nebula-exchange-sst-2.x/:5:1","series":null,"tags":["Nebula Graph","Nebula Exchange","SST"],"title":"Nebula Exchange SST 2.x Hands-on Guide","uri":"/nebula-exchange-sst-2.x/#1-å‡†å¤‡æºæ–‡ä»¶é…ç½®æ–‡ä»¶"},{"categories":["Nebula Graph"],"content":"2. æ‰§è¡Œ exchange ç¨‹åº è¿›å…¥ spark-master å®¹å™¨ï¼Œæäº¤æ‰§è¡Œ exchange åº”ç”¨ã€‚ docker exec -it spark-master bash cd /root/ /spark/bin/spark-submit --master local \\ --class com.vesoft.nebula.exchange.Exchange nebula-exchange-2.1.0.jar\\ -c exchange-sst.conf æ£€æŸ¥æ‰§è¡Œç»“æœï¼š spark-submit è¾“å‡ºï¼š 21/08/17 03:37:43 INFO TaskSetManager: Finished task 31.0 in stage 2.0 (TID 33) in 1093 ms on localhost (executor driver) (32/32) 21/08/17 03:37:43 INFO TaskSchedulerImpl: Removed TaskSet 2.0, whose tasks have all completed, from pool 21/08/17 03:37:43 INFO DAGScheduler: ResultStage 2 (foreachPartition at VerticesProcessor.scala:179) finished in 22.336 s 21/08/17 03:37:43 INFO DAGScheduler: Job 1 finished: foreachPartition at VerticesProcessor.scala:179, took 22.500639 s 21/08/17 03:37:43 INFO Exchange$: SST-Import: failure.player: 0 21/08/17 03:37:43 WARN Exchange$: Edge is not defined 21/08/17 03:37:43 INFO SparkUI: Stopped Spark web UI at http://spark-master:4040 21/08/17 03:37:43 INFO MapOutputTrackerMasterEndpoint: MapOutputTrackerMasterEndpoint stopped! éªŒè¯ HDFS ä¸Šç”Ÿæˆçš„ SST æ–‡ä»¶ï¼š docker exec -it namenode /bin/bash root@2db58903fb53:/# hdfs dfs -ls /sst Found 10 items drwxr-xr-x - root supergroup 0 2021-08-17 03:37 /sst/1 drwxr-xr-x - root supergroup 0 2021-08-17 03:37 /sst/10 drwxr-xr-x - root supergroup 0 2021-08-17 03:37 /sst/2 drwxr-xr-x - root supergroup 0 2021-08-17 03:37 /sst/3 drwxr-xr-x - root supergroup 0 2021-08-17 03:37 /sst/4 drwxr-xr-x - root supergroup 0 2021-08-17 03:37 /sst/5 drwxr-xr-x - root supergroup 0 2021-08-17 03:37 /sst/6 drwxr-xr-x - root supergroup 0 2021-08-17 03:37 /sst/7 drwxr-xr-x - root supergroup 0 2021-08-17 03:37 /sst/8 drwxr-xr-x - root supergroup 0 2021-08-17 03:37 /sst/9 ","date":"2021-08-18","objectID":"/nebula-exchange-sst-2.x/:5:2","series":null,"tags":["Nebula Graph","Nebula Exchange","SST"],"title":"Nebula Exchange SST 2.x Hands-on Guide","uri":"/nebula-exchange-sst-2.x/#2-æ‰§è¡Œ-exchange-ç¨‹åº"},{"categories":["Nebula Graph"],"content":"å†™å…¥SSTåˆ°NebulaGraph è¿™é‡Œçš„æ“ä½œå®é™…ä¸Šéƒ½æ˜¯å‚è€ƒæ–‡æ¡£ï¼šSST å¯¼å…¥ï¼Œå¾—æ¥ã€‚å…¶ä¸­å°±æ˜¯ä» console ä¹‹ä¸­æ‰§è¡Œäº†ä¸¤æ­¥æ“ä½œï¼š Download Ingest å…¶ä¸­ Download å®é™…ä¸Šæ˜¯è§¦å‘ Nebula Graph ä»æœåŠ¡ç«¯å‘èµ· HDFS Client çš„ downloadï¼Œè·å– HDFS ä¸Šçš„ SST æ–‡ä»¶ï¼Œç„¶åæ”¾åˆ° storageD èƒ½è®¿é—®çš„æœ¬åœ°è·¯å¾„ä¸‹ï¼Œè¿™é‡Œï¼Œéœ€è¦æˆ‘ä»¬åœ¨æœåŠ¡ç«¯éƒ¨ç½² HDFS çš„ä¾èµ–ã€‚å› ä¸ºæˆ‘ä»¬æ˜¯æœ€å°å®è·µï¼Œæˆ‘å°±å·æ‡’æ‰‹åŠ¨åšäº†è¿™ä¸ª Download çš„æ“ä½œã€‚ ","date":"2021-08-18","objectID":"/nebula-exchange-sst-2.x/:6:0","series":null,"tags":["Nebula Graph","Nebula Exchange","SST"],"title":"Nebula Exchange SST 2.x Hands-on Guide","uri":"/nebula-exchange-sst-2.x/#å†™å…¥sståˆ°nebulagraph"},{"categories":["Nebula Graph"],"content":"1. æ‰‹åŠ¨ä¸‹è½½ è¿™é‡Œè¾¹æ‰‹åŠ¨ä¸‹è½½æˆ‘ä»¬å°±è¦çŸ¥é“ Nebula Graph æœåŠ¡ç«¯ä¸‹è½½çš„è·¯å¾„ï¼Œå®é™…ä¸Šæ˜¯ /data/storage/nebula/\u003cspace_id\u003e/download/ï¼Œè¿™é‡Œçš„ Space ID éœ€è¦æ‰‹åŠ¨è·å–ä¸€ä¸‹ï¼š è¿™ä¸ªä¾‹å­é‡Œï¼Œæˆ‘ä»¬çš„ Space Name æ˜¯ sstï¼Œè€Œ Space ID æ˜¯ 49ã€‚ (root@nebula)[sst]\u003eDESCspacesst+----+-------+------------------+----------------+---------+------------+--------------------+-------------+-----------+ |ID|Name|PartitionNumber|ReplicaFactor|Charset|Collate|VidType|AtomicEdge|Group|+----+-------+------------------+----------------+---------+------------+--------------------+-------------+-----------+ |49|\"sst\"|10|1|\"utf8\"|\"utf8_bin\"|\"FIXED_STRING(32)\"|\"false\"|\"default\"|+----+-------+------------------+----------------+---------+------------+--------------------+-------------+-----------+ äºæ˜¯ï¼Œä¸‹è¾¹çš„æ“ä½œå°±æ˜¯æ‰‹åŠ¨æŠŠ SST æ–‡ä»¶ä» HDFS ä¹‹ä¸­ get ä¸‹æ¥ï¼Œå†æ‹·è´åˆ° storageD ä¹‹ä¸­ã€‚ docker exec -it namenode /bin/bash $ hdfs dfs -get /sst /sst exit docker cp namenode:/sst . docker exec -it nebula-docker-compose_storaged0_1 mkdir -p /data/storage/nebula/49/download/ docker exec -it nebula-docker-compose_storaged1_1 mkdir -p /data/storage/nebula/49/download/ docker exec -it nebula-docker-compose_storaged2_1 mkdir -p /data/storage/nebula/49/download/ docker cp sst nebula-docker-compose_storaged0_1:/data/storage/nebula/49/download/ docker cp sst nebula-docker-compose_storaged1_1:/data/storage/nebula/49/download/ docker cp sst nebula-docker-compose_storaged2_1:/data/storage/nebula/49/download/ ","date":"2021-08-18","objectID":"/nebula-exchange-sst-2.x/:6:1","series":null,"tags":["Nebula Graph","Nebula Exchange","SST"],"title":"Nebula Exchange SST 2.x Hands-on Guide","uri":"/nebula-exchange-sst-2.x/#1-æ‰‹åŠ¨ä¸‹è½½"},{"categories":["Nebula Graph"],"content":"2. SST æ–‡ä»¶å¯¼å…¥ è¿›å…¥ Nebula-Console æ‰€åœ¨çš„å®¹å™¨ ~/.nebula-up/console.sh / # åœ¨ console å®¹å™¨é‡Œå‘èµ·é“¾æ¥åˆ°å›¾æ•°æ®åº“ï¼Œå…¶ä¸­ 192.168.x.y æ˜¯æˆ‘æ‰€åœ¨çš„ Linux VM çš„ç¬¬ä¸€ä¸ªç½‘å¡åœ°å€ï¼Œè¯·æ¢æˆæ‚¨çš„ / # nebula-console -addr 192.168.x.y -port 9669 -user root -p password [INFO] connection pool is initialized successfully Welcome to Nebula Graph! æ‰§è¡Œ INGEST å¼€å§‹è®© StorageD è¯»å– SST æ–‡ä»¶ (root@nebula) [(none)]\u003e use sst (root@nebula) [sst]\u003e INGEST; æˆ‘ä»¬å¯ä»¥ç”¨å¦‚ä¸‹æ–¹æ³•å®æ—¶æŸ¥çœ‹ Nebula Graph æœåŠ¡ç«¯çš„æ—¥å¿— tail -f ~/.nebula-up/nebula-docker-compose/logs/*/* æˆåŠŸçš„ INGEST æ—¥å¿—ï¼š I0817 08:03:28.611877 169 EventListner.h:96] Ingest external SST file: column family default, the external file path /data/storage/nebula/49/download/8/8-6.sst, the internal file path /data/storage/nebula/49/data/000023.sst, the properties of the table: # data blocks=1; # entries=1; # deletions=0; # merge operands=0; # range deletions=0; raw key size=48; raw average key size=48.000000; raw value size=40; raw average value size=40.000000; data block size=75; index block size (user-key? 0, delta-value? 0)=66; filter block size=0; (estimated) table size=141; filter policy name=N/A; prefix extractor name=nullptr; column family ID=N/A; column family name=N/A; comparator name=leveldb.BytewiseComparator; merge operator name=nullptr; property collectors names=[]; SST file compression algo=Snappy; SST file compression options=window_bits=-14; level=32767; strategy=0; max_dict_bytes=0; zstd_max_train_bytes=0; enabled=0; ; creation time=0; time stamp of earliest key=0; file creation time=0; E0817 08:03:28.611912 169 StorageHttpIngestHandler.cpp:63] SSTFile ingest successfully é¢˜å›¾ç‰ˆæƒï¼šPietro Jeng ","date":"2021-08-18","objectID":"/nebula-exchange-sst-2.x/:6:2","series":null,"tags":["Nebula Graph","Nebula Exchange","SST"],"title":"Nebula Exchange SST 2.x Hands-on Guide","uri":"/nebula-exchange-sst-2.x/#2-sst-æ–‡ä»¶å¯¼å…¥"},{"categories":["Nebula Graph"],"content":"é™„å½• ","date":"2021-08-18","objectID":"/nebula-exchange-sst-2.x/:7:0","series":null,"tags":["Nebula Graph","Nebula Exchange","SST"],"title":"Nebula Exchange SST 2.x Hands-on Guide","uri":"/nebula-exchange-sst-2.x/#é™„å½•"},{"categories":["Nebula Graph"],"content":"é™„å½•ä¸€ docker-compose.yaml diff --git a/docker-compose.yaml b/docker-compose.yaml index 48854de..cfeaedb 100644 --- a/docker-compose.yaml +++ b/docker-compose.yaml @@ -6,11 +6,13 @@ services: USER: root TZ: \"${TZ}\" command: - - --meta_server_addrs=metad0:9559,metad1:9559,metad2:9559 + - --meta_server_addrs=metad0:9559 - --local_ip=metad0 - --ws_ip=metad0 - --port=9559 - --ws_http_port=19559 + - --ws_storage_http_port=19779 - --data_path=/data/meta - --log_dir=/logs - --v=0 @@ -34,81 +36,14 @@ services: cap_add: - SYS_PTRACE - metad1: - image: vesoft/nebula-metad:v2.0.0 - environment: - USER: root - TZ: \"${TZ}\" - command: - - --meta_server_addrs=metad0:9559,metad1:9559,metad2:9559 - - --local_ip=metad1 - - --ws_ip=metad1 - - --port=9559 - - --ws_http_port=19559 - - --data_path=/data/meta - - --log_dir=/logs - - --v=0 - - --minloglevel=0 - healthcheck: - test: [\"CMD\", \"curl\", \"-sf\", \"http://metad1:19559/status\"] - interval: 30s - timeout: 10s - retries: 3 - start_period: 20s - ports: - - 9559 - - 19559 - - 19560 - volumes: - - ./data/meta1:/data/meta - - ./logs/meta1:/logs - networks: - - nebula-net - restart: on-failure - cap_add: - - SYS_PTRACE - - metad2: - image: vesoft/nebula-metad:v2.0.0 - environment: - USER: root - TZ: \"${TZ}\" - command: - - --meta_server_addrs=metad0:9559,metad1:9559,metad2:9559 - - --local_ip=metad2 - - --ws_ip=metad2 - - --port=9559 - - --ws_http_port=19559 - - --data_path=/data/meta - - --log_dir=/logs - - --v=0 - - --minloglevel=0 - healthcheck: - test: [\"CMD\", \"curl\", \"-sf\", \"http://metad2:19559/status\"] - interval: 30s - timeout: 10s - retries: 3 - start_period: 20s - ports: - - 9559 - - 19559 - - 19560 - volumes: - - ./data/meta2:/data/meta - - ./logs/meta2:/logs - networks: - - nebula-net - restart: on-failure - cap_add: - - SYS_PTRACE - storaged0: image: vesoft/nebula-storaged:v2.0.0 environment: USER: root TZ: \"${TZ}\" command: - - --meta_server_addrs=metad0:9559,metad1:9559,metad2:9559 + - --meta_server_addrs=metad0:9559 - --local_ip=storaged0 - --ws_ip=storaged0 - --port=9779 @@ -119,8 +54,8 @@ services: - --minloglevel=0 depends_on: - metad0 - - metad1 - - metad2 healthcheck: test: [\"CMD\", \"curl\", \"-sf\", \"http://storaged0:19779/status\"] interval: 30s @@ -146,7 +81,7 @@ services: USER: root TZ: \"${TZ}\" command: - - --meta_server_addrs=metad0:9559,metad1:9559,metad2:9559 + - --meta_server_addrs=metad0:9559 - --local_ip=storaged1 - --ws_ip=storaged1 - --port=9779 @@ -157,8 +92,8 @@ services: - --minloglevel=0 depends_on: - metad0 - - metad1 - - metad2 healthcheck: test: [\"CMD\", \"curl\", \"-sf\", \"http://storaged1:19779/status\"] interval: 30s @@ -184,7 +119,7 @@ services: USER: root TZ: \"${TZ}\" command: - - --meta_server_addrs=metad0:9559,metad1:9559,metad2:9559 + - --meta_server_addrs=metad0:9559 - --local_ip=storaged2 - --ws_ip=storaged2 - --port=9779 @@ -195,8 +130,8 @@ services: - --minloglevel=0 depends_on: - metad0 - - metad1 - - metad2 healthcheck: test: [\"CMD\", \"curl\", \"-sf\", \"http://storaged2:19779/status\"] interval: 30s @@ -222,17 +157,19 @@ services: USER: root TZ: \"${TZ}\" command: - - --meta_server_addrs=metad0:9559,metad1:9559,metad2:9559 + - --meta_server_addrs=metad0:9559 - --port=9669 - --ws_ip=graphd - --ws_http_port=19669 + - --ws_meta_http_port=19559 - --log_dir=/logs - --v=0 - --minloglevel=0 depends_on: - metad0 - - metad1 - - metad2 healthcheck: test: [\"CMD\", \"curl\", \"-sf\", \"http://graphd:19669/status\"] interval: 30s @@ -257,17 +194,19 @@ services: USER: root TZ: \"${TZ}\" command: - - --meta_server_addrs=metad0:9559,metad1:9559,metad2:9559 + - --meta_server_addrs=metad0:9559 - --port=9669 - --ws_ip=graphd1 - --ws_http_port=19669 + - --ws_meta_http_port=19559 - --log_dir=/logs - --v=0 - --minloglevel=0 depends_on: - metad0 - - metad1 - - metad2 healthcheck: test: [\"CMD\", \"curl\", \"-sf\", \"http://graphd1:19669/status\"] interval: 30s @@ -292,17 +231,21 @@ services: USER: root TZ: \"${TZ}\" command: - - --meta_server_addrs=metad0:9559,metad1:9559,metad2:9559 + - --meta_server_addrs=metad0","date":"2021-08-18","objectID":"/nebula-exchange-sst-2.x/:7:1","series":null,"tags":["Nebula Graph","Nebula Exchange","SST"],"title":"Nebula Exchange SST 2.x Hands-on Guide","uri":"/nebula-exchange-sst-2.x/#é™„å½•ä¸€"},{"categories":["Nebula Graph"],"content":"é™„å½•äºŒ https://github.com/big-data-europe/docker-hadoop çš„ docker-compose.yml diff --git a/docker-compose.yml b/docker-compose.yml index ed40dc6..66ff1f4 100644 --- a/docker-compose.yml +++ b/docker-compose.yml @@ -14,6 +14,8 @@ services: - CLUSTER_NAME=test env_file: - ./hadoop.env + networks: + - nebula-net datanode: image: bde2020/hadoop-datanode:2.0.0-hadoop3.2.1-java8 @@ -25,6 +27,8 @@ services: SERVICE_PRECONDITION: \"namenode:9870\" env_file: - ./hadoop.env + networks: + - nebula-net resourcemanager: image: bde2020/hadoop-resourcemanager:2.0.0-hadoop3.2.1-java8 @@ -34,6 +38,8 @@ services: SERVICE_PRECONDITION: \"namenode:9000 namenode:9870 datanode:9864\" env_file: - ./hadoop.env + networks: + - nebula-net nodemanager1: image: bde2020/hadoop-nodemanager:2.0.0-hadoop3.2.1-java8 @@ -43,6 +49,8 @@ services: SERVICE_PRECONDITION: \"namenode:9000 namenode:9870 datanode:9864 resourcemanager:8088\" env_file: - ./hadoop.env + networks: + - nebula-net historyserver: image: bde2020/hadoop-historyserver:2.0.0-hadoop3.2.1-java8 @@ -54,8 +62,14 @@ services: - hadoop_historyserver:/hadoop/yarn/timeline env_file: - ./hadoop.env + networks: + - nebula-net volumes: hadoop_namenode: hadoop_datanode: hadoop_historyserver: + +networks: + nebula-net: + external: true ","date":"2021-08-18","objectID":"/nebula-exchange-sst-2.x/:7:2","series":null,"tags":["Nebula Graph","Nebula Exchange","SST"],"title":"Nebula Exchange SST 2.x Hands-on Guide","uri":"/nebula-exchange-sst-2.x/#é™„å½•äºŒ"},{"categories":["Nebula Graph"],"content":"é™„å½•ä¸‰ nebula-exchange-sst.conf { # Spark relation config spark: { app: { name: Nebula Exchange 2.1 } master:local driver: { cores: 1 maxResultSize: 1G } executor: { memory:1G } cores:{ max: 16 } } # Nebula Graph relation config nebula: { address:{ graph:[\"192.168.8.128:9669\"] meta:[\"192.168.8.128:49377\"] } user: root pswd: nebula space: sst # parameters for SST import, not required path:{ local:\"/tmp\" remote:\"/sst\" hdfs.namenode: \"hdfs://192.168.8.128:9000\" } # nebula client connection parameters connection { # socket connect \u0026 execute timeout, unit: millisecond timeout: 30000 } error: { # max number of failures, if the number of failures is bigger than max, then exit the application. max: 32 # failed import job will be recorded in output path output: /tmp/errors } # use google's RateLimiter to limit the requests send to NebulaGraph rate: { # the stable throughput of RateLimiter limit: 1024 # Acquires a permit from RateLimiter, unit: MILLISECONDS # if it can't be obtained within the specified timeout, then give up the request. timeout: 1000 } } # Processing tags # There are tag config examples for different dataSources. tags: [ # HDFS csv # Import mode is sst, just change type.sink to client if you want to use client import mode. { name: player type: { source: csv sink: sst } path: \"file:///root/player.csv\" # if your csv file has no header, then use _c0,_c1,_c2,.. to indicate fields fields: [_c1, _c2] nebula.fields: [name, age] vertex: { field:_c0 } separator: \",\" header: false batch: 256 partition: 32 } ] } ","date":"2021-08-18","objectID":"/nebula-exchange-sst-2.x/:7:3","series":null,"tags":["Nebula Graph","Nebula Exchange","SST"],"title":"Nebula Exchange SST 2.x Hands-on Guide","uri":"/nebula-exchange-sst-2.x/#é™„å½•ä¸‰"},{"categories":["sketches"],"content":"ä»‹ç» Nebula Graph çš„äº‘åŸç”Ÿ K8s Operator éƒ¨ç½²","date":"2021-08-06","objectID":"/sketches/nebula-operator-explained/","series":null,"tags":["Nebula Graph","K8s"],"title":"Nebula operator Explained","uri":"/sketches/nebula-operator-explained/"},{"categories":["sketches"],"content":" Nebula Graph operator explained è¿™ä¸ªæ‰‹è®°é‡Œï¼Œæˆ‘ä»‹ç»äº† Nebula Graph çš„ K8s Operator: Intro 00:00 Nebula K8s Operator Explained 0:25 How do we use Nebula Operator? 02:23 What is the difference between the Operator based Nebula Graph Cluster and the binary-based one? 03:50 How about the Performance impact when it comes to K8s-Operator deployment? 04:55 What is the easiest way to try out the nebula operator? 06:04 Outra 07:30 ref: https://github.com/vesoft-inc/nebula-operator ","date":"2021-08-06","objectID":"/sketches/nebula-operator-explained/:0:0","series":null,"tags":["Nebula Graph","K8s"],"title":"Nebula operator Explained","uri":"/sketches/nebula-operator-explained/#"},{"categories":["sketches"],"content":"Bilibili ","date":"2021-08-06","objectID":"/sketches/nebula-operator-explained/:1:0","series":null,"tags":["Nebula Graph","K8s"],"title":"Nebula operator Explained","uri":"/sketches/nebula-operator-explained/#bilibili"},{"categories":["sketches"],"content":"Youtube ","date":"2021-08-06","objectID":"/sketches/nebula-operator-explained/:2:0","series":null,"tags":["Nebula Graph","K8s"],"title":"Nebula operator Explained","uri":"/sketches/nebula-operator-explained/#youtube"},{"categories":["sketches"],"content":"Nebula Config Explained","date":"2021-07-26","objectID":"/sketches/nebula-config-explained/","series":null,"tags":["Nebula Graph","config"],"title":"Nebula Config Explained","uri":"/sketches/nebula-config-explained/"},{"categories":["sketches"],"content":" Nebula Graph config explained è¿™ä¸ªæ‰‹è®°å¸®åŠ©æˆ‘ä»¬ç†è§£ Nebula Graph çš„é…ç½®ç›¸å…³çš„çŸ¥è¯†ï¼š ä»‹ç» Nebula Graph ä¸‰ç§é…ç½®æ–¹å¼ï¼Œå®ƒä»¬çš„ä¼˜å…ˆçº§ã€èŒƒå›´ã€ç”Ÿæ•ˆæ¡ä»¶ 0:16 ä»‹ç» Nebula Graph åœ¨ Docker-Compose/Swarm éƒ¨ç½²æƒ…å†µä¸‹é…ç½®çš„æ–¹å¼ 03:01 ä»‹ç» Nebula Graph åœ¨ K8s Operator éƒ¨ç½²æƒ…å†µä¸‹é…ç½®çš„æ–¹å¼ 03:55 æˆ‘ä»¬æ˜¯å¦åº”è¯¥ç”¨ Local-Configï¼Ÿï¼ˆå‰§é€ï¼šåº”è¯¥ï¼‰ 05:03 ","date":"2021-07-26","objectID":"/sketches/nebula-config-explained/:0:0","series":null,"tags":["Nebula Graph","config"],"title":"Nebula Config Explained","uri":"/sketches/nebula-config-explained/#"},{"categories":["sketches"],"content":"Bilibili ","date":"2021-07-26","objectID":"/sketches/nebula-config-explained/:1:0","series":null,"tags":["Nebula Graph","config"],"title":"Nebula Config Explained","uri":"/sketches/nebula-config-explained/#bilibili"},{"categories":["sketches"],"content":"Youtube ","date":"2021-07-26","objectID":"/sketches/nebula-config-explained/:2:0","series":null,"tags":["Nebula Graph","config"],"title":"Nebula Config Explained","uri":"/sketches/nebula-config-explained/#youtube"},{"categories":["sketches"],"content":"Nebula Index Demystified","date":"2021-07-13","objectID":"/sketches/nebula-index-demystified/","series":null,"tags":["Nebula Graph","index"],"title":"Nebula Index Demystified","uri":"/sketches/nebula-index-demystified/"},{"categories":["sketches"],"content":" Nebula Graph åŸç”Ÿç´¢å¼•è§£è°œï¼Œå¸®åŠ©å¤§å®¶æ·±å…¥äº†è§£ Nebula Graph Index åŸç”Ÿç´¢å¼•ï¼Œåˆ°åº• Nebula Graph çš„åŸç”Ÿç´¢å¼•æ˜¯åšä»€ä¹ˆç”¨çš„ï¼Ÿä¸ºä»€ä¹ˆ Nebula Graph ç´¢å¼•å¯¹æ€§èƒ½æœ‰ä¸€äº›å½±å“ï¼Ÿå¸¦æœ‰ç´¢å¼•çš„å†™å…¥è¿‡ç¨‹æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ Index Demystified 0:33 When should we use index? 06:37 Index v.s. Fulltext Index 07:12 Index Performance Impact 08:03 ","date":"2021-07-13","objectID":"/sketches/nebula-index-demystified/:0:0","series":null,"tags":["Nebula Graph","index"],"title":"Nebula Index Demystified","uri":"/sketches/nebula-index-demystified/#"},{"categories":["sketches"],"content":"Bilibili ","date":"2021-07-13","objectID":"/sketches/nebula-index-demystified/:1:0","series":null,"tags":["Nebula Graph","index"],"title":"Nebula Index Demystified","uri":"/sketches/nebula-index-demystified/#bilibili"},{"categories":["sketches"],"content":"Youtube ","date":"2021-07-13","objectID":"/sketches/nebula-index-demystified/:2:0","series":null,"tags":["Nebula Graph","index"],"title":"Nebula Index Demystified","uri":"/sketches/nebula-index-demystified/#youtube"},{"categories":["sketches"],"content":"Nebula Graph Deployment Options","date":"2021-06-25","objectID":"/sketches/nebula-deployment-options/","series":null,"tags":["Nebula Graph","deployment"],"title":"Nebula Graph Deployment Options","uri":"/sketches/nebula-deployment-options/"},{"categories":["sketches"],"content":" Nebula Graph æœ‰å¾ˆå¤šç§åˆ†å‘ã€éƒ¨ç½²æ–¹å¼ï¼Œæˆ‘ä»¬åº”è¯¥å¦‚ä½•é€‰æ‹©å®ƒä»¬å‘¢ï¼Ÿ ","date":"2021-06-25","objectID":"/sketches/nebula-deployment-options/:0:0","series":null,"tags":["Nebula Graph","deployment"],"title":"Nebula Graph Deployment Options","uri":"/sketches/nebula-deployment-options/#"},{"categories":["sketches"],"content":"Bilibili ","date":"2021-06-25","objectID":"/sketches/nebula-deployment-options/:1:0","series":null,"tags":["Nebula Graph","deployment"],"title":"Nebula Graph Deployment Options","uri":"/sketches/nebula-deployment-options/#bilibili"},{"categories":["sketches"],"content":"Youtube ","date":"2021-06-25","objectID":"/sketches/nebula-deployment-options/:2:0","series":null,"tags":["Nebula Graph","deployment"],"title":"Nebula Graph Deployment Options","uri":"/sketches/nebula-deployment-options/#youtube"},{"categories":["sketches"],"content":"Nebula Graph Data Import Options","date":"2021-06-15","objectID":"/sketches/nebula-data-import-options/","series":null,"tags":["Nebula Graph","data import"],"title":"Nebula Graph Data Import Options","uri":"/sketches/nebula-data-import-options/"},{"categories":["sketches"],"content":" Nebula Graph æä¾›äº†å¥½å¤šç§æ•°æ®å¯¼å…¥çš„å·¥å…·ï¼Œæˆ‘ä»¬åº”è¯¥å¦‚ä½•é€‰æ‹©å‘¢ï¼Ÿè¿™ä¸€å¼ å›¾å¸®åŠ©å¤§å®¶äº†è§£ Nebula Graph æ‰€æœ‰çš„æ•°æ®å¯¼å…¥é€‰é¡¹ã€‚ ","date":"2021-06-15","objectID":"/sketches/nebula-data-import-options/:0:0","series":null,"tags":["Nebula Graph","data import"],"title":"Nebula Graph Data Import Options","uri":"/sketches/nebula-data-import-options/#"},{"categories":["sketches"],"content":"Bilibili ","date":"2021-06-15","objectID":"/sketches/nebula-data-import-options/:1:0","series":null,"tags":["Nebula Graph","data import"],"title":"Nebula Graph Data Import Options","uri":"/sketches/nebula-data-import-options/#bilibili"},{"categories":["sketches"],"content":"Youtube ","date":"2021-06-15","objectID":"/sketches/nebula-data-import-options/:2:0","series":null,"tags":["Nebula Graph","data import"],"title":"Nebula Graph Data Import Options","uri":"/sketches/nebula-data-import-options/#youtube"},{"categories":["Nebula Graph"],"content":"æ— éœ€ä¾èµ–ï¼Œä¸€é”®å®‰è£…å°é²œåŸºäº Nebula Operator çš„ K8s Nebula Graph Cluster","date":"2021-06-09","objectID":"/nebula-operator-kind/","series":null,"tags":["Nebula Graph","Nebula Operator","K8s"],"title":"Nebula Operator Kindï¼Œä¸€é”®å•æœºç©è½¬ Nebula K8s é›†ç¾¤","uri":"/nebula-operator-kind/"},{"categories":["Nebula Graph"],"content":" Nebula-Kindï¼Œæ— éœ€ä¾èµ–ï¼Œä¸€é”®å®‰è£…å°é²œåŸºäº Nebula Operator çš„ K8s Nebula Graph Clusterã€‚ æ³¨ï¼š KIND æ˜¯ä¸€ä¸ª K8s çš„ SIGï¼Œä»£è¡¨ K8s in Dockerã€‚ ","date":"2021-06-09","objectID":"/nebula-operator-kind/:0:0","series":null,"tags":["Nebula Graph","Nebula Operator","K8s"],"title":"Nebula Operator Kindï¼Œä¸€é”®å•æœºç©è½¬ Nebula K8s é›†ç¾¤","uri":"/nebula-operator-kind/#"},{"categories":["Nebula Graph"],"content":"Nebula-Operator-Kind æ˜¯ä»€ä¹ˆ Nebula Graph ä½œä¸ºäº‘åŸç”Ÿçš„åˆ†å¸ƒå¼å¼€æºå›¾æ•°æ®åº“ï¼Œæœ‰å¼€æºçš„ K8s Operator ä¾›å¤§å®¶åœ¨ K8s ä¸Šæ–¹ä¾¿çš„é€šè¿‡ CRD å»ç»´æŠ¤ã€éƒ¨ç½² Nebula Graph é›†ç¾¤ã€‚ å¯¹äºæ‰‹å¤´æ²¡æœ‰æ–¹ä¾¿çš„ K8s ç¯å¢ƒçš„åŒå­¦ï¼Œå¦‚æœæƒ³å°é²œã€å­¦ä¹  Nebula Graph çš„ K8s Operator çš„è¯ï¼Œå¯èƒ½éœ€è¦è€—è´¹ä¸€äº›ç²¾åŠ›æ‰èƒ½æ­èµ·æ¥ä¸€æ•´å¥—çš„æ§åˆ¶å¹³é¢çš„ä¾èµ–ã€‚ ä½œä¸ºä¸€ä¸ªæ‡’äººï¼Œæˆ‘åšåˆ©ç”¨ K8s in Docker(KIND)ï¼Œå’Œä¹‹å‰åš Nebula-Up çš„ shell è„šæœ¬æ¶å­ï¼Œå¿«é€Ÿçš„æäº†ä¸€ä¸ªä¸€é”®å®‰è£…å·¥å…·ï¼šNebula-Operator-Kind å®ƒèƒ½ç›´æ¥å¸®æˆ‘ä»¬ï¼š å®‰è£… Docker å®‰è£… K8s(KIND) å®‰è£… PV Provider å®‰è£… Nebula-Operator ä»¥åŠä¾èµ– å®‰è£… Nebula-Console é…ç½® nodePort ç”¨ä»¥ä¸€é”®ç›´è¿ Nebula é›†ç¾¤ å®‰è£… kubectl ç”¨æ¥ä½“éªŒ Nebula-Operator çš„ CRD é…ç½® ","date":"2021-06-09","objectID":"/nebula-operator-kind/:1:0","series":null,"tags":["Nebula Graph","Nebula Operator","K8s"],"title":"Nebula Operator Kindï¼Œä¸€é”®å•æœºç©è½¬ Nebula K8s é›†ç¾¤","uri":"/nebula-operator-kind/#nebula-operator-kind-æ˜¯ä»€ä¹ˆ"},{"categories":["Nebula Graph"],"content":"å¦‚ä½•ä½¿ç”¨ å®‰è£…ï¼š curl -sL nebula-kind.siwei.io/install.sh | bash æˆåŠŸä¹‹åï¼š ç”¨ ~/.nebula-kind/bin/console ä¸€è¡Œè¿æ¥é›†ç¾¤ï¼š ~/.nebula-kind/bin/console -u user -p password --address=127.0.0.1 --port=30000 ","date":"2021-06-09","objectID":"/nebula-operator-kind/:2:0","series":null,"tags":["Nebula Graph","Nebula Operator","K8s"],"title":"Nebula Operator Kindï¼Œä¸€é”®å•æœºç©è½¬ Nebula K8s é›†ç¾¤","uri":"/nebula-operator-kind/#å¦‚ä½•ä½¿ç”¨"},{"categories":["Nebula Graph"],"content":"è¯¦ç»†ä¿¡æ¯ Repo çš„åœ°å€æ˜¯ï¼šhttps://github.com/wey-gu/nebula-operator-kind ï¼Œé‡Œè¾¹æœ‰æ›´å¤šçš„ä¿¡æ¯ï¼Œæ¬¢è¿å¤§å®¶è¯•ç”¨ã€åé¦ˆã€PR å“ˆï¼ Updated Sept. 2021 å¦‚æœåœ¨ KubeSphere All-in-one ç¯å¢ƒå®‰è£…ï¼š curl -sL nebula-kind.siwei.io/install-ks-1.sh | bash å¦‚æœåœ¨ Minikubeã€å…¶ä»– K8s ä¹‹ä¸­å®‰è£… curl -sL nebula-kind.siwei.io/install-on-k8s.sh | bash é¢˜å›¾ç‰ˆæƒï¼šMaik Hankemann ","date":"2021-06-09","objectID":"/nebula-operator-kind/:3:0","series":null,"tags":["Nebula Graph","Nebula Operator","K8s"],"title":"Nebula Operator Kindï¼Œä¸€é”®å•æœºç©è½¬ Nebula K8s é›†ç¾¤","uri":"/nebula-operator-kind/#è¯¦ç»†ä¿¡æ¯"},{"categories":null,"content":"æ‚¨å¥½ï¼Œæˆ‘æ˜¯å¤æ€ä¸ºã€‚ æˆ‘æ˜¯ä¸€ä¸ªåœ¨ä¸Šæµ·çš„è½¯ä»¶å·¥ç¨‹å¸ˆï¼Œæˆ‘åœ¨ vesoft æ‹…ä»» Nebula Graphï¼ˆå¼€æºçš„åˆ†å¸ƒå¼å›¾æ•°æ®åº“ï¼‰çš„ç¤¾åŒºå¼€å‘è€…å¸ƒé“å¸ˆã€‚ æˆ‘çš„å·¥ä½œæ˜¯é€šè¿‡å›´ç»• Nebula Graph Database åˆ›ä½œå†…å®¹ï¼Œæ„å»ºå·¥å…·æ¥æ”¹å–„å¼€å‘è€…çš„å­¦ä¹ ã€å¼€å‘ã€ç¤¾åŒºå‚ä¸ä½“éªŒã€‚ æˆ‘åœ¨å¼€æºç¤¾åŒºå¼€æ”¾çš„å·¥ä½œï¼Œå¹¶ï¼ˆèŠ±äº†èŒä¸šç”Ÿæ¶¯ä¸­çš„å‰äº›å¹´æ„è¯†åˆ°ï¼‰çƒ­çˆ±ç”¨è‡ªå·±çš„æ€æƒ³å’Œå­¦åˆ°çš„æŠ€æœ¯å¸®åŠ©åˆ°åˆ«äººï¼Œæˆ‘è®¤ä¸ºè¿™æ˜¯ä¸€ç§çš„è£å¹¸å’Œå®è´µçš„æœºé‡ã€‚ 1 ","date":"2021-06-04","objectID":"/about/:0:0","series":null,"tags":null,"title":"","uri":"/about/#æ‚¨å¥½æˆ‘æ˜¯å¤æ€ä¸º"},{"categories":null,"content":"æœ€è¿‘çš„å¼€æºé¡¹ç›® Nebula-Siwi Nebula-Siwiï¼ŒåŸºäºå›¾æ•°æ®åº“çš„æ™ºèƒ½é—®ç­”åŠ©æ‰‹ é˜…è¯»å…¨æ–‡ Nebula-Holdshare Nebula-Holdshareï¼Œå›¾æ•°æ®åº“åº”ç”¨ç¤ºä¾‹ï¼šè‚¡æƒå…³ç³»ç©¿é€ é˜…è¯»å…¨æ–‡ Nebula-KIND Nebula-Kindï¼Œæ— éœ€ä¾èµ–ï¼Œä¸€é”®å®‰è£…å°é²œåŸºäº Nebula Operator çš„ K8s Nebula Graph Clusterã€‚æ³¨ï¼š KIND æ˜¯ä¸€ä¸ª K8s çš„ SIGï¼Œä»£è¡¨ K8s in Dockerã€‚ é˜…è¯»å…¨æ–‡ Nebula-Up Nebula-upï¼Œä¸€é”®æ‹‰èµ·ä¸€ä¸ª Nebula æµ‹è¯•ç¯å¢ƒï¼Œæ”¯æŒ mscOSï¼ŒWindows 10ï¼ŒCentOS å’Œ Ubuntuã€‚ é˜…è¯»å…¨æ–‡ VSCode-nGQL VSCode-nGQLï¼ŒNebula Graph çš„ VS Code æ’ä»¶ï¼Œngql è¯­æ³•é«˜äº®ã€‚ é˜…è¯»å…¨æ–‡ IPython-nGQL Nebula Graph çš„ Jupyter Notebook å’Œ IPython æ’ä»¶ï¼Œæ–¹ä¾¿åœ¨ Notebook ä¹‹ä¸­åµŒå…¥ nGQL çš„ query å’Œ ç»“æœçš„è°ƒè¯•ã€‚ é˜…è¯»å…¨æ–‡ nebula-insights æœ¬æ–‡ä»‹ç»æˆ‘ä»¬å¦‚ä½•ç”¨å…¬æœ‰äº‘ Serverless æŠ€æœ¯ï¼šGoogle Cloud Schedulerï¼ŒGoogle Cloud Functions å’Œ BigQuery æ­å»ºæ•°æ®ç®¡é“ï¼Œæ”¶é›†æ¢ç´¢å¼€æºç¤¾åŒºæ´å¯Ÿã€‚å¹¶å°†å…¨éƒ¨ä»£ç å¼€æºåœ¨ GitHubã€‚ é˜…è¯»å…¨æ–‡ ","date":"2021-06-04","objectID":"/about/:1:0","series":null,"tags":null,"title":"","uri":"/about/#æœ€è¿‘çš„å¼€æºé¡¹ç›®"},{"categories":null,"content":"æˆ‘çš„æ‰‹ç»˜ Nebula Operator Explained Nebula Graph K8s Operator ä»‹ç» é˜…è¯»å…¨æ–‡ Nebula Config Explained Nebula Graph é…ç½®è¯¦è§£ é˜…è¯»å…¨æ–‡ Nebula Index Demystified Nebula Graph åŸç”Ÿç´¢å¼•è§£è°œ é˜…è¯»å…¨æ–‡ Nebula Data Import Options Nebula Graph æä¾›äº†å¥½å¤šç§æ•°æ®å¯¼å…¥çš„å·¥å…·ï¼Œæˆ‘ä»¬åº”è¯¥å¦‚ä½•é€‰æ‹©å‘¢ï¼Ÿ é˜…è¯»å…¨æ–‡ Nebula Deployment Options Nebula Graph æœ‰å¾ˆå¤šç§åˆ†å‘ã€éƒ¨ç½²æ–¹å¼ï¼Œæˆ‘ä»¬åº”è¯¥å¦‚ä½•é€‰æ‹©å®ƒä»¬å‘¢ï¼Ÿ é˜…è¯»å…¨æ–‡ Nebula Intro æ–°æ‰‹ç©è½¬ Nebula Graph ç³»åˆ—å¼€ç¯‡ã€‚ é˜…è¯»å…¨æ–‡ ","date":"2021-06-04","objectID":"/about/:2:0","series":null,"tags":null,"title":"","uri":"/about/#æˆ‘çš„æ‰‹ç»˜"},{"categories":null,"content":"æˆ‘çš„ä¸Šæ‰‹è¯¾ç¨‹ è‚¡æƒç©¿é€æ•™ç¨‹ ä¸Šæ‰‹å®æˆ˜è‚¡æƒç”¨å›¾æ•°æ®åº“å…³ç³»ç©¿é€ é˜…è¯»å…¨æ–‡ Siwi ä¸Šæ‰‹å®æˆ˜ä» 0 åˆ¶ä½œä¸€ä¸ªåŸºäºå›¾è°±çš„è¯­éŸ³æ™ºèƒ½åŠ©æ‰‹ é˜…è¯»å…¨æ–‡ ","date":"2021-06-04","objectID":"/about/:3:0","series":null,"tags":null,"title":"","uri":"/about/#æˆ‘çš„ä¸Šæ‰‹è¯¾ç¨‹"},{"categories":null,"content":"æˆ‘çš„æ¼”è®² K8s ä¸Šçš„å›¾æ•°æ®åº“ Nebula K8s Operator çš„å®ç°è§£æï¼Œå›¾æ•°æ®åº“åº”ç”¨åœ¨ K8s + OpenFunction ä¸Šçš„è½åœ°æ¼”ç¤º é˜…è¯»å…¨æ–‡ nMeetup: Nebula åº”ç”¨ä¸Šæ‰‹å®æ“ ä»å¤´å®æ“ Nebula çš„éƒ¨ç½²ï¼Œè‚¡æƒç©¿é€ï¼Œå›¾ç®—æ³•è¿ç®—ï¼Œè¯­éŸ³æ™ºèƒ½åŠ©æ‰‹ã€‚ é˜…è¯»å…¨æ–‡ How to Train your Dragon å¦‚ä½•æˆä¸ºå¼€æºå¼€å‘è€…ï¼ˆå¸ƒé“å¸ˆï¼‰ã€‚ é˜…è¯»å…¨æ–‡ ","date":"2021-06-04","objectID":"/about/:4:0","series":null,"tags":null,"title":"","uri":"/about/#æˆ‘çš„æ¼”è®²"},{"categories":null,"content":"è¿‡å¾€çš„ç»å† æˆ‘æ›¾åœ¨çˆ±ç«‹ä¿¡å·¥ä½œäº†è¿‘åå¹´ï¼š2011 å¹´åˆ° 2021 å¹´ã€‚ æˆ‘æ˜¯äº‘è®¡ç®—äº§å“ Cloud Execution Envrioment (CEE) 2 ç ”å‘å›¢é˜Ÿçš„ç³»ç»Ÿç»ç† 3ï¼Œæˆ‘å¤§éƒ¨åˆ†çš„å·¥ä½œæ˜¯é€šè¿‡è®¾è®¡å¼€å‘ 20 å¤šä¸ª CEE 6.6.2 å’Œ CEE 10 çš„åŠŸèƒ½ä¸æ”¹è¿›ï¼Œæ¶µç›–è®¡ç®—ã€å­˜å‚¨ã€ç½‘ç»œã€ç”Ÿå‘½å‘¨æœŸç®¡ç†å’Œå®‰å…¨ç­‰é¢†åŸŸï¼Œæ¥å¸®åŠ©çˆ±ç«‹ä¿¡ IaaS äº§å“ä¸è§£å†³æ–¹æ¡ˆä¸æ–­è¿›åŒ–ã€‚ åŒæ—¶ï¼Œæˆ‘ä¹Ÿè´Ÿè´£ CEE äº§å“åœ¨ä¸­å›½åŒºçš„å¸ƒé“ï¼ˆé¢å‘å¤–éƒ¨ä¸å†…éƒ¨ï¼‰ã€‚ æˆ‘æ›¾åœ¨ note.siwei.info è®°å½•ä¸€äº›æƒ³æ³•å’Œç¬”è®°ï¼Œä»2021å¹´æ˜¥å¤©å¼€å§‹ï¼Œæˆ‘ä¼šæŠŠæƒ³æ³•è®°å½•ä¸‹æ¥ç•™åœ¨ siwei.io ","date":"2021-06-04","objectID":"/about/:5:0","series":null,"tags":null,"title":"","uri":"/about/#è¿‡å¾€çš„ç»å†"},{"categories":null,"content":"è”ç³»æˆ‘ æ‚¨æœ€å¥½é€šè¿‡ twitterï¼Œé‚®ç®± wey.gu@vesoft.com æ‰¾åˆ°æˆ‘ã€‚ å¦‚æœå¿…é¡»ï¼Œæ‚¨ä¹Ÿå¯ä»¥é€šè¿‡å¾®ä¿¡æ‰¾åˆ°æˆ‘ï¼Œå¾®ä¿¡ ID å¦‚ä¸‹ï¼Œè¯·æ·»åŠ æ³¨æ˜æ‚¨çš„æ¥æ„ã€‚ echo c2l2dmVpCg== | base64 -d æˆ‘å’Œ Ahmet Alp Balkan çš„ è¿™ä¸ªæ¨æ–‡ æ„ŸåŒèº«å—ï¼š Working in open source (and getting paid for it) is a privilege. Itâ€™s a career boost, makes you lots of friends across the industry, and gives you a public brand. I am one of the â€œlucky fewâ€ \u0026 thankful to Microsoft and Google who let me work on OSS nearly all my career. â€” Ahmet Alp Balkan (@ahmetb) February 19, 2021 Â â†©ï¸ Ericssonâ€™s Telco. Infrastructure as a Service product offerring: Cloud Execution EnvironmentÂ â†©ï¸ System Manager, PDU Cloud: å·¥ä½œæè¿°Â â†©ï¸ ","date":"2021-06-04","objectID":"/about/:6:0","series":null,"tags":null,"title":"","uri":"/about/#è”ç³»æˆ‘"},{"categories":["Nebula Graph"],"content":"æœ¬æ–‡ä½œè€…åˆ†æäº† Chia Network çš„å…¨é“¾æ•°æ®ï¼Œå¹¶åšäº†å°†å…¨é“¾æ•°æ®å¯¼å…¥å›¾æ•°æ®åº“ï¼šNebula Graph ä¹‹ä¸­çš„å°è¯•ï¼Œä»è€Œå¯è§†åŒ–åœ°æ¢ç´¢äº† Chia å›¾ä¸­æ•°æ®ä¹‹é—´çš„å…³è”å…³ç³»ã€‚","date":"2021-05-26","objectID":"/nebula-chia/","series":null,"tags":["Nebula Graph","Chia Network"],"title":"ç”¨å›¾æ•°æ®åº“å¯è§†åŒ–æ¢ç´¢ Chia Network åŒºå—é“¾æ•°æ®","uri":"/nebula-chia/"},{"categories":["Nebula Graph"],"content":" è¿™ç¯‡æ–‡ç« é‡Œï¼Œæˆ‘å…¨ç½‘é¦–æ¬¡åœ°åˆ†æäº† Chia Network çš„å…¨é“¾æ•°æ®ï¼Œå¹¶åšäº†å°†å…¨é“¾æ•°æ®å¯¼å…¥å›¾æ•°æ®åº“ï¼šNebula Graph ä¹‹ä¸­çš„å°è¯•ï¼Œä»è€Œå¯è§†åŒ–åœ°æ¢ç´¢äº† Chia å›¾ä¸­æ•°æ®ä¹‹é—´çš„å…³è”å…³ç³»ã€‚ æˆ‘æŠŠæ¶‰åŠçš„ä»£ç å¼€æºåœ¨äº†è¿™é‡Œï¼šhttps://github.com/wey-gu/nebula-chia ","date":"2021-05-26","objectID":"/nebula-chia/:0:0","series":null,"tags":["Nebula Graph","Chia Network"],"title":"ç”¨å›¾æ•°æ®åº“å¯è§†åŒ–æ¢ç´¢ Chia Network åŒºå—é“¾æ•°æ®","uri":"/nebula-chia/#"},{"categories":["Nebula Graph"],"content":"1. Chia æ˜¯ä»€ä¹ˆ? Chia Network æ˜¯ç”± BitTorrent çš„ä½œè€… Bram Cohen çš„å›¢é˜Ÿåœ¨ 2017 å¹´åˆ›å»ºçš„åŒºå—é“¾é¡¹ç›®ã€‚ ","date":"2021-05-26","objectID":"/nebula-chia/:1:0","series":null,"tags":["Nebula Graph","Chia Network"],"title":"ç”¨å›¾æ•°æ®åº“å¯è§†åŒ–æ¢ç´¢ Chia Network åŒºå—é“¾æ•°æ®","uri":"/nebula-chia/#1-chia-æ˜¯ä»€ä¹ˆ"},{"categories":["Nebula Graph"],"content":"1.1 ä¸ºä»€ä¹ˆå†æä¸€ä¸ªåŒºå—é“¾? Chia ç”¨äº†å…¨æ–°çš„ä¸­æœ¬èªå…±è¯†ç®—æ³•ï¼Œè¿™ä¸ªç®—æ³•é€šè¿‡ä¸å…è®¸å¹¶è¡Œè®¡ç®—ï¼Œè®©æŒ–çŸ¿ï¼ˆProof of Workï¼‰æ‰€éœ€ç®—åŠ›å’Œèƒ½è€—é™åˆ°éå¸¸ä½ï¼Œè¿™ä½¿å¾—è¶…å¤§ç»„ç»‡ã€ç©å®¶æ²¡æ³•åƒåœ¨å…¶ä»–çš„åŒºå—é“¾é¡¹ç›®é‚£æ ·æœ‰ç®—åŠ›çš„ç»å¯¹ä¼˜åŠ¿ï¼Œä¹Ÿä¸€å®šç¨‹åº¦ä¸Šè§„é¿äº†èƒ½æºçš„æµªè´¹ã€‚ ","date":"2021-05-26","objectID":"/nebula-chia/:1:1","series":null,"tags":["Nebula Graph","Chia Network"],"title":"ç”¨å›¾æ•°æ®åº“å¯è§†åŒ–æ¢ç´¢ Chia Network åŒºå—é“¾æ•°æ®","uri":"/nebula-chia/#11-ä¸ºä»€ä¹ˆå†æä¸€ä¸ªåŒºå—é“¾"},{"categories":["Nebula Graph"],"content":"1.2 å¦‚ä½•è¿æ¥Chia? æˆ‘ä»¬å¯ä»¥é€šè¿‡ Chia Network çš„å®¢æˆ·ç«¯æ¥è®¿é—®å®ƒï¼Œè¿™ä¸ªå®¢æˆ·ç«¯æ˜¯ Electron + Python çš„ç¨‹åºï¼Œå¤©ç„¶è·¨å¹³å°ï¼Œæ—¢æœ‰ GUI åˆæœ‰ CLI çš„æ–¹å¼ã€‚ 1.2.1 å®‰è£… åªéœ€è¦æŒ‰ç…§å®˜æ–¹çš„ Guide æ¥ä¸‹è½½å®‰è£…å°±å¥½ï¼Œ https://github.com/Chia-Network/chia-blockchain/wiki/INSTALLï¼Œæˆ‘åœ¨ M1 Mac ä¸‹å®‰è£…çš„æ—¶å€™è„šæœ¬å‡ºäº†ç‚¹å°é—®é¢˜ï¼Œå¤§æ¦‚æ˜¯å› ä¸ºæ‹‰å–äºŒè¿›åˆ¶ wheel æ–‡ä»¶ç½‘ç»œå‡ºé—®é¢˜èµ°åˆ°äº†ç¼–è¯‘ wheelçš„é€»è¾‘ï¼Œè€Œé‚£é‡Œæ˜¯ä¾èµ– cargoçš„ï¼Œå¦‚æœå¤§å®¶é‡åˆ°äº†è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥æå‰æ‰‹åŠ¨å®‰è£…ä¸€ä¸‹ rustï¼Œæˆ–è€… cherry-pick æˆ‘çš„è¿™ä¸ª PR ã€‚ 1.2.2 è¿è¡Œ æŒ‰ç…§å®˜æ–¹ guideï¼Œæ¯”å¦‚ macOS æ¥è¯´ï¼Œæœ€åä¸€æ­¥æ‰§è¡Œnpm run electron \u0026 å°±æ˜¯è¿è¡Œå®ƒçš„GUIå®¢æˆ·ç«¯ã€‚ å¦‚æœå¤§å®¶åƒæˆ‘ä¸€æ ·å–œæ¬¢ CLIï¼Œç›´æ¥åœ¨æ‰§è¡Œå®Œ . ./activate ä¹‹åå°±å¯ä»¥ chia --helpäº†å“ˆâ˜ºï¼Œé‡Œè¾¹æœ‰åªå¯åŠ¨éƒ¨åˆ†æœåŠ¡çš„æ–¹å¼ï¼ˆç›¸æ¯” GUI å¯åŠ¨æ‰€æœ‰æ¥è¯´)ã€‚ åœ¨è¿è¡Œä¹‹åï¼Œå¦‚æœä½ çš„ç½‘ç»œä¸æ˜¯å¤šå±‚ NAT çš„é‚£ç§ï¼Œç†è®ºä¸Šæ‚¨å¯ä»¥è¿åˆ° mainnet å¹¶ä¸”è‡ªåŠ¨å’Œä¸»é“¾åŒæ­¥æ•°æ®äº†ï¼Œå¦‚æœæ‚¨æ˜¯ç¬¬äºŒæ¬¡è¿è¡Œï¼Œè¿æ¥ä¸»é“¾ï¼Œä¸€å¼€å§‹å¯èƒ½æœ‰ä¸€é˜µå­åŒæ­¥çš„block æ•°æ˜¯ä¸å˜çš„ï¼Œä¹Ÿæ²¡æœ‰ peer è¿è¿‡æ¥ï¼Œä¸å¿…æƒŠæ…Œï¼Œç­‰ä¸€ä¸‹å°±å¥½äº†ã€‚ Tips: ç¬¬ä¸€æ¬¡è¿åˆ° Chia Network çš„åŒå­¦ä»¬ï¼Œå®¢æˆ·ç«¯ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªé’±åŒ…ï¼ŒåŠçš„ä¿å­˜é‚£ä¸€ä¸²è¯ï¼Œå®ƒä»¬å°±æ˜¯ä½ çš„ç§é’¥å“¦ã€‚ ä¸‡ä¸€ï¼Œå¦‚æœçœŸçš„è¿ä¸ä¸Šçš„è¯ï¼Œå¯èƒ½éœ€è¦åœ¨è·¯ç”±ä¸Šé…ç½®ï¼ŒUPnPï¼Œé˜²ç«å¢™è¦å…è®¸ 8444ã€‚ 1.2.3 è®¿é—® Chia çš„æ•°æ® Chia çš„å®¢æˆ·ç«¯æŠŠæ•°æ®å­˜åœ¨äº†å‡ ä¸ª SQLite æ•°æ®åº“é‡Œï¼Œå®ƒä»¬çš„è·¯å¾„æ˜¯æˆ‘ä»¬å®‰è£…å®¢æˆ·ç«¯çš„ç”¨æˆ·çš„å®¶ç›®å½•ï¼š~/.chia/mainnet ä¸‹è¾¹å°±æ˜¯è¿è¡Œèµ·æ¥ Chia ä¹‹åç”Ÿæˆçš„ä¸»è¦çš„ä¸¤ä¸ªæ•°æ®åº“çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼š ~/.chia/mainnet/db â¯ ll -h total 4350416 -rw-r--r-- 1 weyl staff 2.0G May 6 12:06 blockchain_v1_mainnet.sqlite -rw-r--r-- 1 weyl staff 64K May 6 11:17 blockchain_v1_mainnet.sqlite-shm -rw-r--r-- 1 weyl staff 20M May 6 12:10 blockchain_v1_mainnet.sqlite-wal -rw-r--r-- 1 weyl staff 1.8M May 6 11:46 peer_table_node.sqlite -rw-r--r-- 1 weyl staff 32K May 5 17:30 peer_table_node.sqlite-shm -rw-r--r-- 1 weyl staff 5.4M May 6 11:46 peer_table_node.sqlite-wal ~/.chia/mainnet/wallet/db â¯ ll -h total 3055848 -rw-r--r-- 1 weyl staff 1.4G May 7 15:32 blockchain_wallet_v1_mainnet_903996200.sqlite -rw-r--r-- 1 weyl staff 32K May 7 15:24 blockchain_wallet_v1_mainnet_903996200.sqlite-shm -rw-r--r-- 1 weyl staff 4.0M May 7 15:32 blockchain_wallet_v1_mainnet_903996200.sqlite-wal -rw-r--r-- 1 weyl staff 16K May 7 15:24 wallet_peers.sqlite ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥å…ˆç”¨ SQLite Browserï¼Œä¸€ä¸ª SQlite æ•°æ®åº“ï¼ˆæ–‡ä»¶ï¼‰çš„æµè§ˆå™¨æ¥çœ‹çœ‹å®ƒã€‚ SQlite æµè§ˆå™¨çš„å®˜ç½‘æ˜¯ https://sqlitebrowser.org/ ã€‚åœ¨ä¸‹è½½ï¼Œå®‰è£…ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç‚¹å‡» Open Database/æ‰“å¼€æ•°æ®åº“ é€‰æ‹©æµè§ˆä¸Šè¾¹åˆ—å‡ºæ¥çš„ä¸¤ä¸ª .sqlite æ‰©å±•åçš„æ•°æ®åº“æ–‡ä»¶ã€‚ æ‰“å¼€æ•°æ®åº“ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©ç¬¬ä¸€ä¸ªæ ‡ç­¾ Database Schema æ¥çœ‹çœ‹è¡¨çš„ç»“æ„ã€‚ æˆ‘ä»¬è¿˜èƒ½åƒç±»ä¼¼äº Excel ä¸€æ ·å»çœ‹è¡¨çš„æ•°æ®ï¼Œè¿˜å¯ä»¥ Filter/è¿‡æ»¤ã€Sort/æ’åºä»»æ„åˆ—ã€‚ ä¸‹ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬æ¥ç®€å•çœ‹çœ‹è¡¨é‡Œçš„æ•°æ®ã€‚ Tips: è¿™é‡Œè¾¹ï¼Œ~/.chia/mainnet/wallet å’Œè£¸ç›®å½• ~/.chia/mainnet ä¸‹è¾¹çš„ db é‡Œåˆ†åˆ«éƒ½æœ‰è¡¨æ–‡ä»¶ï¼Œä»–ä»¬çš„ä¿¡æ¯æ˜¯æœ‰é‡å¤çš„ï¼Œå¤§å®¶å¯ä»¥åˆ†åˆ«æ‰“å¼€çœ‹çœ‹å“¦ï¼Œå³ä½¿æ˜¯ç›¸åŒçš„è¡¨çš„åå­—ï¼Œæ¯”å¦‚ block_record å†…é‡Œçš„ä¿¡æ¯ä¹Ÿç•¥æœ‰å·®åˆ«ï¼Œå¦‚æœå¤§å®¶çŸ¥é“ä¸ºä»€ä¹ˆæœ‰è¿™æ ·çš„å·®åˆ«ï¼Œæ¬¢è¿æµè§ˆå‘Šè¯‰å¤§å®¶å“ˆï¼Œå¯èƒ½è¦ä»”ç»†ç ”ç©¶ä¸€ä¸‹å®¢æˆ·ç«¯ã€é’±åŒ…ç­‰ä»£ç æ‰è¡Œï¼Œå¹¸è¿çš„æ˜¯ï¼Œå®ƒä»¬ç›¸å¯¹æ¯”è¾ƒå¥½é˜…è¯»ï¼Œæ˜¯ Python å†™çš„ï¼š https://github.com/Chia-Network/chia-blockchain ã€‚ ","date":"2021-05-26","objectID":"/nebula-chia/:1:2","series":null,"tags":["Nebula Graph","Chia Network"],"title":"ç”¨å›¾æ•°æ®åº“å¯è§†åŒ–æ¢ç´¢ Chia Network åŒºå—é“¾æ•°æ®","uri":"/nebula-chia/#12-å¦‚ä½•è¿æ¥chia"},{"categories":["Nebula Graph"],"content":"1.2 å¦‚ä½•è¿æ¥Chia? æˆ‘ä»¬å¯ä»¥é€šè¿‡ Chia Network çš„å®¢æˆ·ç«¯æ¥è®¿é—®å®ƒï¼Œè¿™ä¸ªå®¢æˆ·ç«¯æ˜¯ Electron + Python çš„ç¨‹åºï¼Œå¤©ç„¶è·¨å¹³å°ï¼Œæ—¢æœ‰ GUI åˆæœ‰ CLI çš„æ–¹å¼ã€‚ 1.2.1 å®‰è£… åªéœ€è¦æŒ‰ç…§å®˜æ–¹çš„ Guide æ¥ä¸‹è½½å®‰è£…å°±å¥½ï¼Œ https://github.com/Chia-Network/chia-blockchain/wiki/INSTALLï¼Œæˆ‘åœ¨ M1 Mac ä¸‹å®‰è£…çš„æ—¶å€™è„šæœ¬å‡ºäº†ç‚¹å°é—®é¢˜ï¼Œå¤§æ¦‚æ˜¯å› ä¸ºæ‹‰å–äºŒè¿›åˆ¶ wheel æ–‡ä»¶ç½‘ç»œå‡ºé—®é¢˜èµ°åˆ°äº†ç¼–è¯‘ wheelçš„é€»è¾‘ï¼Œè€Œé‚£é‡Œæ˜¯ä¾èµ– cargoçš„ï¼Œå¦‚æœå¤§å®¶é‡åˆ°äº†è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥æå‰æ‰‹åŠ¨å®‰è£…ä¸€ä¸‹ rustï¼Œæˆ–è€… cherry-pick æˆ‘çš„è¿™ä¸ª PR ã€‚ 1.2.2 è¿è¡Œ æŒ‰ç…§å®˜æ–¹ guideï¼Œæ¯”å¦‚ macOS æ¥è¯´ï¼Œæœ€åä¸€æ­¥æ‰§è¡Œnpm run electron \u0026 å°±æ˜¯è¿è¡Œå®ƒçš„GUIå®¢æˆ·ç«¯ã€‚ å¦‚æœå¤§å®¶åƒæˆ‘ä¸€æ ·å–œæ¬¢ CLIï¼Œç›´æ¥åœ¨æ‰§è¡Œå®Œ . ./activate ä¹‹åå°±å¯ä»¥ chia --helpäº†å“ˆâ˜ºï¼Œé‡Œè¾¹æœ‰åªå¯åŠ¨éƒ¨åˆ†æœåŠ¡çš„æ–¹å¼ï¼ˆç›¸æ¯” GUI å¯åŠ¨æ‰€æœ‰æ¥è¯´)ã€‚ åœ¨è¿è¡Œä¹‹åï¼Œå¦‚æœä½ çš„ç½‘ç»œä¸æ˜¯å¤šå±‚ NAT çš„é‚£ç§ï¼Œç†è®ºä¸Šæ‚¨å¯ä»¥è¿åˆ° mainnet å¹¶ä¸”è‡ªåŠ¨å’Œä¸»é“¾åŒæ­¥æ•°æ®äº†ï¼Œå¦‚æœæ‚¨æ˜¯ç¬¬äºŒæ¬¡è¿è¡Œï¼Œè¿æ¥ä¸»é“¾ï¼Œä¸€å¼€å§‹å¯èƒ½æœ‰ä¸€é˜µå­åŒæ­¥çš„block æ•°æ˜¯ä¸å˜çš„ï¼Œä¹Ÿæ²¡æœ‰ peer è¿è¿‡æ¥ï¼Œä¸å¿…æƒŠæ…Œï¼Œç­‰ä¸€ä¸‹å°±å¥½äº†ã€‚ Tips: ç¬¬ä¸€æ¬¡è¿åˆ° Chia Network çš„åŒå­¦ä»¬ï¼Œå®¢æˆ·ç«¯ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªé’±åŒ…ï¼ŒåŠçš„ä¿å­˜é‚£ä¸€ä¸²è¯ï¼Œå®ƒä»¬å°±æ˜¯ä½ çš„ç§é’¥å“¦ã€‚ ä¸‡ä¸€ï¼Œå¦‚æœçœŸçš„è¿ä¸ä¸Šçš„è¯ï¼Œå¯èƒ½éœ€è¦åœ¨è·¯ç”±ä¸Šé…ç½®ï¼ŒUPnPï¼Œé˜²ç«å¢™è¦å…è®¸ 8444ã€‚ 1.2.3 è®¿é—® Chia çš„æ•°æ® Chia çš„å®¢æˆ·ç«¯æŠŠæ•°æ®å­˜åœ¨äº†å‡ ä¸ª SQLite æ•°æ®åº“é‡Œï¼Œå®ƒä»¬çš„è·¯å¾„æ˜¯æˆ‘ä»¬å®‰è£…å®¢æˆ·ç«¯çš„ç”¨æˆ·çš„å®¶ç›®å½•ï¼š~/.chia/mainnet ä¸‹è¾¹å°±æ˜¯è¿è¡Œèµ·æ¥ Chia ä¹‹åç”Ÿæˆçš„ä¸»è¦çš„ä¸¤ä¸ªæ•°æ®åº“çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼š ~/.chia/mainnet/db â¯ ll -h total 4350416 -rw-r--r-- 1 weyl staff 2.0G May 6 12:06 blockchain_v1_mainnet.sqlite -rw-r--r-- 1 weyl staff 64K May 6 11:17 blockchain_v1_mainnet.sqlite-shm -rw-r--r-- 1 weyl staff 20M May 6 12:10 blockchain_v1_mainnet.sqlite-wal -rw-r--r-- 1 weyl staff 1.8M May 6 11:46 peer_table_node.sqlite -rw-r--r-- 1 weyl staff 32K May 5 17:30 peer_table_node.sqlite-shm -rw-r--r-- 1 weyl staff 5.4M May 6 11:46 peer_table_node.sqlite-wal ~/.chia/mainnet/wallet/db â¯ ll -h total 3055848 -rw-r--r-- 1 weyl staff 1.4G May 7 15:32 blockchain_wallet_v1_mainnet_903996200.sqlite -rw-r--r-- 1 weyl staff 32K May 7 15:24 blockchain_wallet_v1_mainnet_903996200.sqlite-shm -rw-r--r-- 1 weyl staff 4.0M May 7 15:32 blockchain_wallet_v1_mainnet_903996200.sqlite-wal -rw-r--r-- 1 weyl staff 16K May 7 15:24 wallet_peers.sqlite ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥å…ˆç”¨ SQLite Browserï¼Œä¸€ä¸ª SQlite æ•°æ®åº“ï¼ˆæ–‡ä»¶ï¼‰çš„æµè§ˆå™¨æ¥çœ‹çœ‹å®ƒã€‚ SQlite æµè§ˆå™¨çš„å®˜ç½‘æ˜¯ https://sqlitebrowser.org/ ã€‚åœ¨ä¸‹è½½ï¼Œå®‰è£…ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç‚¹å‡» Open Database/æ‰“å¼€æ•°æ®åº“ é€‰æ‹©æµè§ˆä¸Šè¾¹åˆ—å‡ºæ¥çš„ä¸¤ä¸ª .sqlite æ‰©å±•åçš„æ•°æ®åº“æ–‡ä»¶ã€‚ æ‰“å¼€æ•°æ®åº“ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©ç¬¬ä¸€ä¸ªæ ‡ç­¾ Database Schema æ¥çœ‹çœ‹è¡¨çš„ç»“æ„ã€‚ æˆ‘ä»¬è¿˜èƒ½åƒç±»ä¼¼äº Excel ä¸€æ ·å»çœ‹è¡¨çš„æ•°æ®ï¼Œè¿˜å¯ä»¥ Filter/è¿‡æ»¤ã€Sort/æ’åºä»»æ„åˆ—ã€‚ ä¸‹ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬æ¥ç®€å•çœ‹çœ‹è¡¨é‡Œçš„æ•°æ®ã€‚ Tips: è¿™é‡Œè¾¹ï¼Œ~/.chia/mainnet/wallet å’Œè£¸ç›®å½• ~/.chia/mainnet ä¸‹è¾¹çš„ db é‡Œåˆ†åˆ«éƒ½æœ‰è¡¨æ–‡ä»¶ï¼Œä»–ä»¬çš„ä¿¡æ¯æ˜¯æœ‰é‡å¤çš„ï¼Œå¤§å®¶å¯ä»¥åˆ†åˆ«æ‰“å¼€çœ‹çœ‹å“¦ï¼Œå³ä½¿æ˜¯ç›¸åŒçš„è¡¨çš„åå­—ï¼Œæ¯”å¦‚ block_record å†…é‡Œçš„ä¿¡æ¯ä¹Ÿç•¥æœ‰å·®åˆ«ï¼Œå¦‚æœå¤§å®¶çŸ¥é“ä¸ºä»€ä¹ˆæœ‰è¿™æ ·çš„å·®åˆ«ï¼Œæ¬¢è¿æµè§ˆå‘Šè¯‰å¤§å®¶å“ˆï¼Œå¯èƒ½è¦ä»”ç»†ç ”ç©¶ä¸€ä¸‹å®¢æˆ·ç«¯ã€é’±åŒ…ç­‰ä»£ç æ‰è¡Œï¼Œå¹¸è¿çš„æ˜¯ï¼Œå®ƒä»¬ç›¸å¯¹æ¯”è¾ƒå¥½é˜…è¯»ï¼Œæ˜¯ Python å†™çš„ï¼š https://github.com/Chia-Network/chia-blockchain ã€‚ ","date":"2021-05-26","objectID":"/nebula-chia/:1:2","series":null,"tags":["Nebula Graph","Chia Network"],"title":"ç”¨å›¾æ•°æ®åº“å¯è§†åŒ–æ¢ç´¢ Chia Network åŒºå—é“¾æ•°æ®","uri":"/nebula-chia/#121-å®‰è£…"},{"categories":["Nebula Graph"],"content":"1.2 å¦‚ä½•è¿æ¥Chia? æˆ‘ä»¬å¯ä»¥é€šè¿‡ Chia Network çš„å®¢æˆ·ç«¯æ¥è®¿é—®å®ƒï¼Œè¿™ä¸ªå®¢æˆ·ç«¯æ˜¯ Electron + Python çš„ç¨‹åºï¼Œå¤©ç„¶è·¨å¹³å°ï¼Œæ—¢æœ‰ GUI åˆæœ‰ CLI çš„æ–¹å¼ã€‚ 1.2.1 å®‰è£… åªéœ€è¦æŒ‰ç…§å®˜æ–¹çš„ Guide æ¥ä¸‹è½½å®‰è£…å°±å¥½ï¼Œ https://github.com/Chia-Network/chia-blockchain/wiki/INSTALLï¼Œæˆ‘åœ¨ M1 Mac ä¸‹å®‰è£…çš„æ—¶å€™è„šæœ¬å‡ºäº†ç‚¹å°é—®é¢˜ï¼Œå¤§æ¦‚æ˜¯å› ä¸ºæ‹‰å–äºŒè¿›åˆ¶ wheel æ–‡ä»¶ç½‘ç»œå‡ºé—®é¢˜èµ°åˆ°äº†ç¼–è¯‘ wheelçš„é€»è¾‘ï¼Œè€Œé‚£é‡Œæ˜¯ä¾èµ– cargoçš„ï¼Œå¦‚æœå¤§å®¶é‡åˆ°äº†è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥æå‰æ‰‹åŠ¨å®‰è£…ä¸€ä¸‹ rustï¼Œæˆ–è€… cherry-pick æˆ‘çš„è¿™ä¸ª PR ã€‚ 1.2.2 è¿è¡Œ æŒ‰ç…§å®˜æ–¹ guideï¼Œæ¯”å¦‚ macOS æ¥è¯´ï¼Œæœ€åä¸€æ­¥æ‰§è¡Œnpm run electron \u0026 å°±æ˜¯è¿è¡Œå®ƒçš„GUIå®¢æˆ·ç«¯ã€‚ å¦‚æœå¤§å®¶åƒæˆ‘ä¸€æ ·å–œæ¬¢ CLIï¼Œç›´æ¥åœ¨æ‰§è¡Œå®Œ . ./activate ä¹‹åå°±å¯ä»¥ chia --helpäº†å“ˆâ˜ºï¼Œé‡Œè¾¹æœ‰åªå¯åŠ¨éƒ¨åˆ†æœåŠ¡çš„æ–¹å¼ï¼ˆç›¸æ¯” GUI å¯åŠ¨æ‰€æœ‰æ¥è¯´)ã€‚ åœ¨è¿è¡Œä¹‹åï¼Œå¦‚æœä½ çš„ç½‘ç»œä¸æ˜¯å¤šå±‚ NAT çš„é‚£ç§ï¼Œç†è®ºä¸Šæ‚¨å¯ä»¥è¿åˆ° mainnet å¹¶ä¸”è‡ªåŠ¨å’Œä¸»é“¾åŒæ­¥æ•°æ®äº†ï¼Œå¦‚æœæ‚¨æ˜¯ç¬¬äºŒæ¬¡è¿è¡Œï¼Œè¿æ¥ä¸»é“¾ï¼Œä¸€å¼€å§‹å¯èƒ½æœ‰ä¸€é˜µå­åŒæ­¥çš„block æ•°æ˜¯ä¸å˜çš„ï¼Œä¹Ÿæ²¡æœ‰ peer è¿è¿‡æ¥ï¼Œä¸å¿…æƒŠæ…Œï¼Œç­‰ä¸€ä¸‹å°±å¥½äº†ã€‚ Tips: ç¬¬ä¸€æ¬¡è¿åˆ° Chia Network çš„åŒå­¦ä»¬ï¼Œå®¢æˆ·ç«¯ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªé’±åŒ…ï¼ŒåŠçš„ä¿å­˜é‚£ä¸€ä¸²è¯ï¼Œå®ƒä»¬å°±æ˜¯ä½ çš„ç§é’¥å“¦ã€‚ ä¸‡ä¸€ï¼Œå¦‚æœçœŸçš„è¿ä¸ä¸Šçš„è¯ï¼Œå¯èƒ½éœ€è¦åœ¨è·¯ç”±ä¸Šé…ç½®ï¼ŒUPnPï¼Œé˜²ç«å¢™è¦å…è®¸ 8444ã€‚ 1.2.3 è®¿é—® Chia çš„æ•°æ® Chia çš„å®¢æˆ·ç«¯æŠŠæ•°æ®å­˜åœ¨äº†å‡ ä¸ª SQLite æ•°æ®åº“é‡Œï¼Œå®ƒä»¬çš„è·¯å¾„æ˜¯æˆ‘ä»¬å®‰è£…å®¢æˆ·ç«¯çš„ç”¨æˆ·çš„å®¶ç›®å½•ï¼š~/.chia/mainnet ä¸‹è¾¹å°±æ˜¯è¿è¡Œèµ·æ¥ Chia ä¹‹åç”Ÿæˆçš„ä¸»è¦çš„ä¸¤ä¸ªæ•°æ®åº“çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼š ~/.chia/mainnet/db â¯ ll -h total 4350416 -rw-r--r-- 1 weyl staff 2.0G May 6 12:06 blockchain_v1_mainnet.sqlite -rw-r--r-- 1 weyl staff 64K May 6 11:17 blockchain_v1_mainnet.sqlite-shm -rw-r--r-- 1 weyl staff 20M May 6 12:10 blockchain_v1_mainnet.sqlite-wal -rw-r--r-- 1 weyl staff 1.8M May 6 11:46 peer_table_node.sqlite -rw-r--r-- 1 weyl staff 32K May 5 17:30 peer_table_node.sqlite-shm -rw-r--r-- 1 weyl staff 5.4M May 6 11:46 peer_table_node.sqlite-wal ~/.chia/mainnet/wallet/db â¯ ll -h total 3055848 -rw-r--r-- 1 weyl staff 1.4G May 7 15:32 blockchain_wallet_v1_mainnet_903996200.sqlite -rw-r--r-- 1 weyl staff 32K May 7 15:24 blockchain_wallet_v1_mainnet_903996200.sqlite-shm -rw-r--r-- 1 weyl staff 4.0M May 7 15:32 blockchain_wallet_v1_mainnet_903996200.sqlite-wal -rw-r--r-- 1 weyl staff 16K May 7 15:24 wallet_peers.sqlite ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥å…ˆç”¨ SQLite Browserï¼Œä¸€ä¸ª SQlite æ•°æ®åº“ï¼ˆæ–‡ä»¶ï¼‰çš„æµè§ˆå™¨æ¥çœ‹çœ‹å®ƒã€‚ SQlite æµè§ˆå™¨çš„å®˜ç½‘æ˜¯ https://sqlitebrowser.org/ ã€‚åœ¨ä¸‹è½½ï¼Œå®‰è£…ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç‚¹å‡» Open Database/æ‰“å¼€æ•°æ®åº“ é€‰æ‹©æµè§ˆä¸Šè¾¹åˆ—å‡ºæ¥çš„ä¸¤ä¸ª .sqlite æ‰©å±•åçš„æ•°æ®åº“æ–‡ä»¶ã€‚ æ‰“å¼€æ•°æ®åº“ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©ç¬¬ä¸€ä¸ªæ ‡ç­¾ Database Schema æ¥çœ‹çœ‹è¡¨çš„ç»“æ„ã€‚ æˆ‘ä»¬è¿˜èƒ½åƒç±»ä¼¼äº Excel ä¸€æ ·å»çœ‹è¡¨çš„æ•°æ®ï¼Œè¿˜å¯ä»¥ Filter/è¿‡æ»¤ã€Sort/æ’åºä»»æ„åˆ—ã€‚ ä¸‹ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬æ¥ç®€å•çœ‹çœ‹è¡¨é‡Œçš„æ•°æ®ã€‚ Tips: è¿™é‡Œè¾¹ï¼Œ~/.chia/mainnet/wallet å’Œè£¸ç›®å½• ~/.chia/mainnet ä¸‹è¾¹çš„ db é‡Œåˆ†åˆ«éƒ½æœ‰è¡¨æ–‡ä»¶ï¼Œä»–ä»¬çš„ä¿¡æ¯æ˜¯æœ‰é‡å¤çš„ï¼Œå¤§å®¶å¯ä»¥åˆ†åˆ«æ‰“å¼€çœ‹çœ‹å“¦ï¼Œå³ä½¿æ˜¯ç›¸åŒçš„è¡¨çš„åå­—ï¼Œæ¯”å¦‚ block_record å†…é‡Œçš„ä¿¡æ¯ä¹Ÿç•¥æœ‰å·®åˆ«ï¼Œå¦‚æœå¤§å®¶çŸ¥é“ä¸ºä»€ä¹ˆæœ‰è¿™æ ·çš„å·®åˆ«ï¼Œæ¬¢è¿æµè§ˆå‘Šè¯‰å¤§å®¶å“ˆï¼Œå¯èƒ½è¦ä»”ç»†ç ”ç©¶ä¸€ä¸‹å®¢æˆ·ç«¯ã€é’±åŒ…ç­‰ä»£ç æ‰è¡Œï¼Œå¹¸è¿çš„æ˜¯ï¼Œå®ƒä»¬ç›¸å¯¹æ¯”è¾ƒå¥½é˜…è¯»ï¼Œæ˜¯ Python å†™çš„ï¼š https://github.com/Chia-Network/chia-blockchain ã€‚ ","date":"2021-05-26","objectID":"/nebula-chia/:1:2","series":null,"tags":["Nebula Graph","Chia Network"],"title":"ç”¨å›¾æ•°æ®åº“å¯è§†åŒ–æ¢ç´¢ Chia Network åŒºå—é“¾æ•°æ®","uri":"/nebula-chia/#122-è¿è¡Œ"},{"categories":["Nebula Graph"],"content":"1.2 å¦‚ä½•è¿æ¥Chia? æˆ‘ä»¬å¯ä»¥é€šè¿‡ Chia Network çš„å®¢æˆ·ç«¯æ¥è®¿é—®å®ƒï¼Œè¿™ä¸ªå®¢æˆ·ç«¯æ˜¯ Electron + Python çš„ç¨‹åºï¼Œå¤©ç„¶è·¨å¹³å°ï¼Œæ—¢æœ‰ GUI åˆæœ‰ CLI çš„æ–¹å¼ã€‚ 1.2.1 å®‰è£… åªéœ€è¦æŒ‰ç…§å®˜æ–¹çš„ Guide æ¥ä¸‹è½½å®‰è£…å°±å¥½ï¼Œ https://github.com/Chia-Network/chia-blockchain/wiki/INSTALLï¼Œæˆ‘åœ¨ M1 Mac ä¸‹å®‰è£…çš„æ—¶å€™è„šæœ¬å‡ºäº†ç‚¹å°é—®é¢˜ï¼Œå¤§æ¦‚æ˜¯å› ä¸ºæ‹‰å–äºŒè¿›åˆ¶ wheel æ–‡ä»¶ç½‘ç»œå‡ºé—®é¢˜èµ°åˆ°äº†ç¼–è¯‘ wheelçš„é€»è¾‘ï¼Œè€Œé‚£é‡Œæ˜¯ä¾èµ– cargoçš„ï¼Œå¦‚æœå¤§å®¶é‡åˆ°äº†è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥æå‰æ‰‹åŠ¨å®‰è£…ä¸€ä¸‹ rustï¼Œæˆ–è€… cherry-pick æˆ‘çš„è¿™ä¸ª PR ã€‚ 1.2.2 è¿è¡Œ æŒ‰ç…§å®˜æ–¹ guideï¼Œæ¯”å¦‚ macOS æ¥è¯´ï¼Œæœ€åä¸€æ­¥æ‰§è¡Œnpm run electron \u0026 å°±æ˜¯è¿è¡Œå®ƒçš„GUIå®¢æˆ·ç«¯ã€‚ å¦‚æœå¤§å®¶åƒæˆ‘ä¸€æ ·å–œæ¬¢ CLIï¼Œç›´æ¥åœ¨æ‰§è¡Œå®Œ . ./activate ä¹‹åå°±å¯ä»¥ chia --helpäº†å“ˆâ˜ºï¼Œé‡Œè¾¹æœ‰åªå¯åŠ¨éƒ¨åˆ†æœåŠ¡çš„æ–¹å¼ï¼ˆç›¸æ¯” GUI å¯åŠ¨æ‰€æœ‰æ¥è¯´)ã€‚ åœ¨è¿è¡Œä¹‹åï¼Œå¦‚æœä½ çš„ç½‘ç»œä¸æ˜¯å¤šå±‚ NAT çš„é‚£ç§ï¼Œç†è®ºä¸Šæ‚¨å¯ä»¥è¿åˆ° mainnet å¹¶ä¸”è‡ªåŠ¨å’Œä¸»é“¾åŒæ­¥æ•°æ®äº†ï¼Œå¦‚æœæ‚¨æ˜¯ç¬¬äºŒæ¬¡è¿è¡Œï¼Œè¿æ¥ä¸»é“¾ï¼Œä¸€å¼€å§‹å¯èƒ½æœ‰ä¸€é˜µå­åŒæ­¥çš„block æ•°æ˜¯ä¸å˜çš„ï¼Œä¹Ÿæ²¡æœ‰ peer è¿è¿‡æ¥ï¼Œä¸å¿…æƒŠæ…Œï¼Œç­‰ä¸€ä¸‹å°±å¥½äº†ã€‚ Tips: ç¬¬ä¸€æ¬¡è¿åˆ° Chia Network çš„åŒå­¦ä»¬ï¼Œå®¢æˆ·ç«¯ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªé’±åŒ…ï¼ŒåŠçš„ä¿å­˜é‚£ä¸€ä¸²è¯ï¼Œå®ƒä»¬å°±æ˜¯ä½ çš„ç§é’¥å“¦ã€‚ ä¸‡ä¸€ï¼Œå¦‚æœçœŸçš„è¿ä¸ä¸Šçš„è¯ï¼Œå¯èƒ½éœ€è¦åœ¨è·¯ç”±ä¸Šé…ç½®ï¼ŒUPnPï¼Œé˜²ç«å¢™è¦å…è®¸ 8444ã€‚ 1.2.3 è®¿é—® Chia çš„æ•°æ® Chia çš„å®¢æˆ·ç«¯æŠŠæ•°æ®å­˜åœ¨äº†å‡ ä¸ª SQLite æ•°æ®åº“é‡Œï¼Œå®ƒä»¬çš„è·¯å¾„æ˜¯æˆ‘ä»¬å®‰è£…å®¢æˆ·ç«¯çš„ç”¨æˆ·çš„å®¶ç›®å½•ï¼š~/.chia/mainnet ä¸‹è¾¹å°±æ˜¯è¿è¡Œèµ·æ¥ Chia ä¹‹åç”Ÿæˆçš„ä¸»è¦çš„ä¸¤ä¸ªæ•°æ®åº“çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼š ~/.chia/mainnet/db â¯ ll -h total 4350416 -rw-r--r-- 1 weyl staff 2.0G May 6 12:06 blockchain_v1_mainnet.sqlite -rw-r--r-- 1 weyl staff 64K May 6 11:17 blockchain_v1_mainnet.sqlite-shm -rw-r--r-- 1 weyl staff 20M May 6 12:10 blockchain_v1_mainnet.sqlite-wal -rw-r--r-- 1 weyl staff 1.8M May 6 11:46 peer_table_node.sqlite -rw-r--r-- 1 weyl staff 32K May 5 17:30 peer_table_node.sqlite-shm -rw-r--r-- 1 weyl staff 5.4M May 6 11:46 peer_table_node.sqlite-wal ~/.chia/mainnet/wallet/db â¯ ll -h total 3055848 -rw-r--r-- 1 weyl staff 1.4G May 7 15:32 blockchain_wallet_v1_mainnet_903996200.sqlite -rw-r--r-- 1 weyl staff 32K May 7 15:24 blockchain_wallet_v1_mainnet_903996200.sqlite-shm -rw-r--r-- 1 weyl staff 4.0M May 7 15:32 blockchain_wallet_v1_mainnet_903996200.sqlite-wal -rw-r--r-- 1 weyl staff 16K May 7 15:24 wallet_peers.sqlite ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥å…ˆç”¨ SQLite Browserï¼Œä¸€ä¸ª SQlite æ•°æ®åº“ï¼ˆæ–‡ä»¶ï¼‰çš„æµè§ˆå™¨æ¥çœ‹çœ‹å®ƒã€‚ SQlite æµè§ˆå™¨çš„å®˜ç½‘æ˜¯ https://sqlitebrowser.org/ ã€‚åœ¨ä¸‹è½½ï¼Œå®‰è£…ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç‚¹å‡» Open Database/æ‰“å¼€æ•°æ®åº“ é€‰æ‹©æµè§ˆä¸Šè¾¹åˆ—å‡ºæ¥çš„ä¸¤ä¸ª .sqlite æ‰©å±•åçš„æ•°æ®åº“æ–‡ä»¶ã€‚ æ‰“å¼€æ•°æ®åº“ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©ç¬¬ä¸€ä¸ªæ ‡ç­¾ Database Schema æ¥çœ‹çœ‹è¡¨çš„ç»“æ„ã€‚ æˆ‘ä»¬è¿˜èƒ½åƒç±»ä¼¼äº Excel ä¸€æ ·å»çœ‹è¡¨çš„æ•°æ®ï¼Œè¿˜å¯ä»¥ Filter/è¿‡æ»¤ã€Sort/æ’åºä»»æ„åˆ—ã€‚ ä¸‹ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬æ¥ç®€å•çœ‹çœ‹è¡¨é‡Œçš„æ•°æ®ã€‚ Tips: è¿™é‡Œè¾¹ï¼Œ~/.chia/mainnet/wallet å’Œè£¸ç›®å½• ~/.chia/mainnet ä¸‹è¾¹çš„ db é‡Œåˆ†åˆ«éƒ½æœ‰è¡¨æ–‡ä»¶ï¼Œä»–ä»¬çš„ä¿¡æ¯æ˜¯æœ‰é‡å¤çš„ï¼Œå¤§å®¶å¯ä»¥åˆ†åˆ«æ‰“å¼€çœ‹çœ‹å“¦ï¼Œå³ä½¿æ˜¯ç›¸åŒçš„è¡¨çš„åå­—ï¼Œæ¯”å¦‚ block_record å†…é‡Œçš„ä¿¡æ¯ä¹Ÿç•¥æœ‰å·®åˆ«ï¼Œå¦‚æœå¤§å®¶çŸ¥é“ä¸ºä»€ä¹ˆæœ‰è¿™æ ·çš„å·®åˆ«ï¼Œæ¬¢è¿æµè§ˆå‘Šè¯‰å¤§å®¶å“ˆï¼Œå¯èƒ½è¦ä»”ç»†ç ”ç©¶ä¸€ä¸‹å®¢æˆ·ç«¯ã€é’±åŒ…ç­‰ä»£ç æ‰è¡Œï¼Œå¹¸è¿çš„æ˜¯ï¼Œå®ƒä»¬ç›¸å¯¹æ¯”è¾ƒå¥½é˜…è¯»ï¼Œæ˜¯ Python å†™çš„ï¼š https://github.com/Chia-Network/chia-blockchain ã€‚ ","date":"2021-05-26","objectID":"/nebula-chia/:1:2","series":null,"tags":["Nebula Graph","Chia Network"],"title":"ç”¨å›¾æ•°æ®åº“å¯è§†åŒ–æ¢ç´¢ Chia Network åŒºå—é“¾æ•°æ®","uri":"/nebula-chia/#123-è®¿é—®-chia-çš„æ•°æ®"},{"categories":["Nebula Graph"],"content":"2. åˆ†æ Chia çš„æ•°æ® å¦‚æœå¤§å®¶ä»”ç»†çœ‹äº†ä¸Šè¾¹è¡¨ç»“æ„å®šä¹‰çš„æˆªå›¾ï¼Œå°±èƒ½æ³¨æ„åˆ°ä¸€äº›è¡¨çš„ä¸»è¦ä¿¡æ¯æ˜¯åµŒå¥—äºŒè¿›åˆ¶ KV Byteï¼Œæ‰€ä»¥åªä» SQLite å¹¶ä¸èƒ½çœ‹åˆ°æ‰€æœ‰ Chia çš„æ•°æ®ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ï¼ˆç”¨ä¸€ä¸ªç¼–ç¨‹è¯­è¨€æ¥ï¼‰è¯»å–è¡¨é‡Œçš„ Byteã€‚ å¹¸è¿çš„æ˜¯ï¼Œè¿™ä»¶äº‹å„¿å› ä¸º Chia æ˜¯å¼€æºçš„ï¼Œè€Œä¸”æ˜¯ Python çš„ä»£ç ï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥ç›´æ¥äº¤äº’å¼çš„åšã€‚ æˆ‘èŠ±äº†ä¸€ç‚¹ç‚¹æ—¶é—´åœ¨ Chia å®¢æˆ·ç«¯ä»£ç é‡Œæ‰¾åˆ°äº†éœ€è¦çš„å°è£…ç±»ï¼Œå€ŸåŠ©å®ƒï¼Œå¯ä»¥æ¯”è¾ƒæ–¹ä¾¿çš„åˆ†æ Chia å®¢æˆ·ç«¯åœ¨æœ¬åœ°çš„å…¨é“¾æ•°æ®ã€‚ å¦‚æœæ‚¨ä¸æ„Ÿå…´è¶£ç»†èŠ‚ï¼Œå¯ä»¥ç›´æ¥çœ‹æˆ‘åˆ†æçš„ç»“è®ºã€‚ ç»“è®ºä¹‹åï¼Œæˆ‘ä¹Ÿç»™å¤§å®¶æ¼”ç¤ºä¸€ä¸‹æ˜¯æ€ä¹ˆè¯»å–å®ƒä»¬çš„ã€‚ ","date":"2021-05-26","objectID":"/nebula-chia/:2:0","series":null,"tags":["Nebula Graph","Chia Network"],"title":"ç”¨å›¾æ•°æ®åº“å¯è§†åŒ–æ¢ç´¢ Chia Network åŒºå—é“¾æ•°æ®","uri":"/nebula-chia/#2-åˆ†æ-chia-çš„æ•°æ®"},{"categories":["Nebula Graph"],"content":"2.0 TL;DR, ç»“è®º æˆ‘ä»¬å¯ä»¥ä»è¡¨ä¸­è¯»å–åˆ°åŒºå—é“¾è®°å½•ï¼ˆBlock Record ï¼‰ï¼ŒChia å¸è®°å½•ï¼ˆCoin Recordï¼‰ã€‚ ä»åŒºå—è®°å½•ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å…³é”®çš„æ¶‰åŠäº¤æ˜“çš„ä¿¡æ¯ï¼š å…³è”çš„ Coin ï¼Œå…³è”çš„ Puzzleï¼ˆåœ°å€ï¼‰ï¼ŒCoin çš„å€¼(Amount) ä»å¸è®°å½•ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å…³é”®çš„æ¶‰åŠåŒºå—çš„ä¿¡æ¯ï¼š ç”Ÿæˆè¿™ä¸ª Coin æ‰€åœ¨åŒºå—é“¾é‡Œçš„ç´¢å¼•é«˜åº¦ï¼ˆConfirmed Indexï¼‰ å¦‚æœè¿™ä¸ªè®°å½•æ˜¯èŠ±è´¹ Coin çš„ï¼ŒèŠ±è´¹å®ƒçš„ç´¢å¼•é«˜åº¦ï¼ˆSpent Indexï¼‰ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚ â”‚ â”‚ Coin Record â”‚ â”‚ Block Record â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ Coin Name â”‚ â”‚ Height â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â” â”‚ â”‚ â”‚ â”‚ â”‚ â”Œâ”€â”¼â”€â”€â”€â–º Puzzle â”‚ â”‚ Header â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”œâ”€â”¼â”€â”€â”€â–º Coin Parent â”‚ â”‚ Prev Header â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”œâ”€â”¼â”€â”€â”€â–º Amount â”‚ â”‚ Block Body â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ farmer_puzzle_hash â”‚ â”‚ â”‚ â”‚ Time Stamp â”‚ â”‚ fees â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ pool_puzzle_hash â”‚ â””â”€â”€â”€â”€â”€â”¼â”€â”¼â”€â”¬â”€ Confirmed Index â”‚ â”‚ prev_transaction_block_hash â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ prev_transaction_block_height â”‚ â”‚ â”‚ â””â”€ Spent Index â”‚ â”‚ transactions_info â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â”‚ â”Œâ”€â”€â”€ is_transaction_block â”‚ â”‚ Coinbase â”‚ â”‚ â”‚ sub_epoch_summary â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â””â”€ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ is Peak â”‚ â”‚ â”‚ â””â”€â”€is Block â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”¼â”€â–º Sub Epoch Segment â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ ","date":"2021-05-26","objectID":"/nebula-chia/:2:1","series":null,"tags":["Nebula Graph","Chia Network"],"title":"ç”¨å›¾æ•°æ®åº“å¯è§†åŒ–æ¢ç´¢ Chia Network åŒºå—é“¾æ•°æ®","uri":"/nebula-chia/#20-tldr-ç»“è®º"},{"categories":["Nebula Graph"],"content":"2.1 å‡†å¤‡ å› ä¸ºå®‰è£…å®¢æˆ·ç«¯ä¹‹åï¼Œæˆ‘ä»¬æœ¬åœ°å®é™…ä¸Šå·²ç»æœ‰äº†ç›¸å…³çš„ Python ç¯å¢ƒå’Œä¾èµ–ï¼Œåªéœ€è¦åœ¨é‡Œè¾¹è·‘èµ·æ¥å°±å¥½ã€‚ # æ³¨æ„ï¼Œæˆ‘ä»¬è¦ cd åˆ°ä¹‹å‰å®‰è£…å®¢æˆ·ç«¯æ—¶å€™å…‹éš†çš„ä»“åº“ã€‚ cd chia-blockchain # source activate è„šæœ¬æ¥åˆ‡æ¢åˆ°ä»“åº“å®‰è£…æ—¶å€™åˆ›å»ºçš„ Python è™šæ‹Ÿç¯å¢ƒï¼Œå¹¶è¿›åˆ° IPython é‡Œã€‚ source venv/bin/activate \u0026\u0026 pip install ipython \u0026\u0026 ipython ç„¶åè¯•ç€å¯¼å…¥å®¢æˆ·ç«¯é‡Œè¾¹å¸¦æœ‰çš„ Python çš„ Chia çš„å°è£…ç±»è¯•è¯•çœ‹ã€‚ In [1]: import sqlite3 ...: from chia.consensus.block_record import BlockRecord # å¯¼å…¥æˆåŠŸï¼Œæ²¡æœ‰æŠ¥é”™ In [2]: !pwd # æˆ‘çš„å®‰è£…å…‹éš†ç›®å½• /Users/weyl/chia-blockchain æ­å–œä½ åšå¥½äº†å‡†å¤‡ï¼Œæˆ‘ä»¬çœ‹çœ‹ Block Record é‡Œéƒ½æœ‰ä»€ä¹ˆã€‚ ","date":"2021-05-26","objectID":"/nebula-chia/:2:2","series":null,"tags":["Nebula Graph","Chia Network"],"title":"ç”¨å›¾æ•°æ®åº“å¯è§†åŒ–æ¢ç´¢ Chia Network åŒºå—é“¾æ•°æ®","uri":"/nebula-chia/#21-å‡†å¤‡"},{"categories":["Nebula Graph"],"content":"2.2 Chia é“¾çš„æ•°æ® 2.2.1 åŒºå—è®°å½• åœ¨ä¸Šä¸€æ­¥çš„ IPython çª—å£ä¸‹ã€‚ # æ³¨æ„ï¼Œè¿™é‡Œçš„è·¯å¾„çš„å‰ç¼€æ˜¯æˆ‘ä»¬è‡ªå·±çš„å®¶ç›®å½•ï¼Œä¸åŒæ“ä½œç³»ç»Ÿï¼Œä¸åŒçš„ç”¨æˆ·éƒ½ä¼šæœ‰æ‰€ä¸åŒã€‚ chia_db_path = \"/Users/weyl/.chia/mainnet/db/blockchain_v1_mainnet.sqlite\" cur = con.cursor() # è¿™é‡Œæˆ‘ä»¬å–ç¬¬ 201645 é«˜çš„åŒºå— rows = list(cur.execute('SELECT * FROM block_records WHERE height = 201645')) # è¿™é‡Œ 0 è¡¨ç¤º SELECT ç»“æœçš„ç¬¬ä¸€è¡Œï¼Œ3 è¡¨ç¤ºåœ¨ BlockRecord è¿™ä¸ªè¡¨é‡Œè¾¹ï¼ŒBlock çš„äºŒè¿›åˆ¶ BLOB æ˜¯ç¬¬å››åˆ—ï¼Œå‚è€ƒæœ¬ç« åº•éƒ¨çš„è¡¨å®šä¹‰éƒ¨åˆ† block_records_201645 = BlockRecord.from_bytes(rows[0][3]) dir(block_records_201645) # å¯ä»¥æŸ¥çœ‹ä¸€äº›å±æ€§ is_transaction_blockï¼Œtimestampï¼Œreward_claims_incorporated In [174]: block_records_201645.is_transaction_block Out[174]: True In [182]: from datetime import datetime In [183]: datetime.fromtimestamp(block_records_201645.timestamp) Out[183]: datetime.datetime(2021, 4, 29, 10, 8, 1) In [190]: block_records_201645.reward_claims_incorporated[0].to_json_dict() Out[190]: {'parent_coin_info': '0xccd5bb71183532bff220ba46c268991a000000000000000000000000000313ab', 'puzzle_hash': '0xbbb014f41d88c74b78501b36e4863d3382bfda9ae3c4d30a1b6df72b962502b6', 'amount': 1750000000000} # å¯ä»¥å¿«é€Ÿ print çœ‹å¤§éƒ¨åˆ†ä¿¡æ¯ print(block_records_201645) block_records_201645 çš„æ‰“å°ç»“æœå¦‚ä¸‹ã€‚ æ³¨æ„ï¼Œè¿™é‡Œæˆ‘æˆªæ–­äº†ä¸€äº›æ•°æ® {'challenge_block_info_hash': '0x4a562f1ffa7a06fe76b1df74dbdd6bdcfbf63139a6f1fc3291c606d7c976abf6', 'challenge_vdf_output': {'data': '0x0200a6b38d6b58d17129d71737088772561f22a44ef302fe45a70a763b878f998abfe35946df720bcb5d78e214b667bce801d597b46c867928c4b8926c342375a961f36cd63ec698bc25e5ce48c45d9a2074eded0e42d24dd1b50a59e699f671f0900100'}, 'deficit': 16, 'farmer_puzzle_hash': '0x4bc6435b409bcbabe53870dae0f03755f6aabb4594c5915ec983acf12a5d1fba', 'fees': 0, 'finished_challenge_slot_hashes': ['0x2b1a7b4859a8d3597b8e6cbe3b27ab97212be8b19e6867f2a4d0eef26c36340f'], 'finished_infused_challenge_slot_hashes': ['0xd0185a6493b10d84e696c6fc55ec1920e8a96791a604dedfe77635da460f354d'], 'finished_reward_slot_hashes': ['0xe2bcbf560471131a7fb87ffe3f9ddde03166a9b0092a50f1ed1599715857c365'], 'header_hash': '0x2791729e1c914f9c3908a0ad895b5846c86fc4e207cc463820123e9a299c39f3', 'height': 201645, 'infused_challenge_vdf_output': None, 'overflow': True, 'pool_puzzle_hash': '0x4bc6435b409bcbabe53870dae0f03755f6aabb4594c5915ec983acf12a5d1fba', 'prev_hash': '0xf126ecf64473beb9ae5b84137788100feb9d731c604877c0744cdc6025f4cbeb', 'prev_transaction_block_hash': '0x7103fe2f1aa96998f9ccf6fc98561b64c5f7a98cf942335c4c927fb2eaa9325a', 'prev_transaction_block_height': 201643, 'required_iters': 95752, 'reward_claims_incorporated': [{'amount': 1750000000000, 'parent_coin_info': '0xccd5bb71183532bff220ba46c268991a000000000000000000000000000313ab', 'puzzle_hash': '0xbbb014f41d88c74b78501b36e4863d3382bfda9ae3c4d30a1b6df72b962502b6'}, {'amount': 250000000000, 'parent_coin_info': '0x3ff07eb358e8255a65c30a2dce0e5fbb000000000000000000000000000313ab', 'puzzle_hash': '0xbbb014f41d88c74b78501b36e4863d3382bfda9ae3c4d30a1b6df72b962502b6'}, {'amount': 1750000000000, 'parent_coin_info': '0xccd5bb71183532bff220ba46c268991a000000000000000000000000000313aa', 'puzzle_hash': '0x4bc6435b409bcbabe53870dae0f03755f6aabb4594c5915ec983acf12a5d1fba'}, {'amount': 250000000000, 'parent_coin_info': '0x3ff07eb358e8255a65c30a2dce0e5fbb000000000000000000000000000313a8', 'puzzle_hash': '0xcf178071f6aa6cb1c92f00943424bcc8cb774449bd60058fc08e9894f49a1ca4'}], 'reward_infusion_new_challenge': '0x660886f4ab030c07755f53362ae4253dfa93ea853cbc321218f58f159c75adaa', 'signage_point_index': 63, 'sub_epoch_summary_included': None, 'sub_slot_iters': 99614720, 'timestamp': 1619662081, 'total_iters': 660123219464, 'weight': 4121254} å¦å¤–ï¼Œæˆ‘ä»¬å–çš„è¿™ä¸ªè¡¨çš„å®šä¹‰å¦‚ä¸‹ã€‚ CREATETABLEblock_records(header_hashtextPRIMARYKEY,prev_hashtext,heightbigint,blockblob,#\u003c---- sub_epoch_summaryblob,is_peaktinyint,is_blocktinyint) 2.2.2 Chia å¸è®°å½• ç±»ä¼¼çš„ï¼Œæˆ‘ä»¬å¯ä»¥è·å–ä¸€ä¸ª Coin çš„è®°å½•ï¼Œè¿™é‡Œè¾¹ï¼Œä»è¡¨çš„å®šä¹‰å¯ä»¥çœ‹åˆ°ï¼Œå”¯ä¸€äºŒè¿›åˆ¶ï¼ˆä¸èƒ½ç›´æ¥ä»æ•°æ®åº“æŸ¥è¯¢ä¸­è¢«äººè¯»æ‡‚ï¼‰çš„å­—æ®µå°±æ˜¯æ˜¯å¸å€¼ï¼Œä¸å­˜åœ¨åµŒå¥—çš„ç»“æ„ï¼Œæ‰€ä»¥ä¹Ÿå¹¶ä¸éœ€è¦å°è£…çš„ç±»æ‰èƒ½çœ‹æ¸…æ¥šé‡Œè¾¹çš„ä¿¡æ¯ã€‚ CREATETABLEcoin_record(coin_nametextPRIMARYKEY,confirmed_indexbigint,spent_indexbigint,spentint,coinbaseint,puzzle_hashtext,coin_parenttext,amountblob,timestampbigint) è¿™é‡Œå€¼å¾—æ³¨æ„çš„ä¿¡æ¯ä¸»è¦æ˜¯ spent_index å’Œ confirmed_indexã€‚ from c","date":"2021-05-26","objectID":"/nebula-chia/:2:3","series":null,"tags":["Nebula Graph","Chia Network"],"title":"ç”¨å›¾æ•°æ®åº“å¯è§†åŒ–æ¢ç´¢ Chia Network åŒºå—é“¾æ•°æ®","uri":"/nebula-chia/#22-chia-é“¾çš„æ•°æ®"},{"categories":["Nebula Graph"],"content":"2.2 Chia é“¾çš„æ•°æ® 2.2.1 åŒºå—è®°å½• åœ¨ä¸Šä¸€æ­¥çš„ IPython çª—å£ä¸‹ã€‚ # æ³¨æ„ï¼Œè¿™é‡Œçš„è·¯å¾„çš„å‰ç¼€æ˜¯æˆ‘ä»¬è‡ªå·±çš„å®¶ç›®å½•ï¼Œä¸åŒæ“ä½œç³»ç»Ÿï¼Œä¸åŒçš„ç”¨æˆ·éƒ½ä¼šæœ‰æ‰€ä¸åŒã€‚ chia_db_path = \"/Users/weyl/.chia/mainnet/db/blockchain_v1_mainnet.sqlite\" cur = con.cursor() # è¿™é‡Œæˆ‘ä»¬å–ç¬¬ 201645 é«˜çš„åŒºå— rows = list(cur.execute('SELECT * FROM block_records WHERE height = 201645')) # è¿™é‡Œ 0 è¡¨ç¤º SELECT ç»“æœçš„ç¬¬ä¸€è¡Œï¼Œ3 è¡¨ç¤ºåœ¨ BlockRecord è¿™ä¸ªè¡¨é‡Œè¾¹ï¼ŒBlock çš„äºŒè¿›åˆ¶ BLOB æ˜¯ç¬¬å››åˆ—ï¼Œå‚è€ƒæœ¬ç« åº•éƒ¨çš„è¡¨å®šä¹‰éƒ¨åˆ† block_records_201645 = BlockRecord.from_bytes(rows[0][3]) dir(block_records_201645) # å¯ä»¥æŸ¥çœ‹ä¸€äº›å±æ€§ is_transaction_blockï¼Œtimestampï¼Œreward_claims_incorporated In [174]: block_records_201645.is_transaction_block Out[174]: True In [182]: from datetime import datetime In [183]: datetime.fromtimestamp(block_records_201645.timestamp) Out[183]: datetime.datetime(2021, 4, 29, 10, 8, 1) In [190]: block_records_201645.reward_claims_incorporated[0].to_json_dict() Out[190]: {'parent_coin_info': '0xccd5bb71183532bff220ba46c268991a000000000000000000000000000313ab', 'puzzle_hash': '0xbbb014f41d88c74b78501b36e4863d3382bfda9ae3c4d30a1b6df72b962502b6', 'amount': 1750000000000} # å¯ä»¥å¿«é€Ÿ print çœ‹å¤§éƒ¨åˆ†ä¿¡æ¯ print(block_records_201645) block_records_201645 çš„æ‰“å°ç»“æœå¦‚ä¸‹ã€‚ æ³¨æ„ï¼Œè¿™é‡Œæˆ‘æˆªæ–­äº†ä¸€äº›æ•°æ® {'challenge_block_info_hash': '0x4a562f1ffa7a06fe76b1df74dbdd6bdcfbf63139a6f1fc3291c606d7c976abf6', 'challenge_vdf_output': {'data': '0x0200a6b38d6b58d17129d71737088772561f22a44ef302fe45a70a763b878f998abfe35946df720bcb5d78e214b667bce801d597b46c867928c4b8926c342375a961f36cd63ec698bc25e5ce48c45d9a2074eded0e42d24dd1b50a59e699f671f0900100'}, 'deficit': 16, 'farmer_puzzle_hash': '0x4bc6435b409bcbabe53870dae0f03755f6aabb4594c5915ec983acf12a5d1fba', 'fees': 0, 'finished_challenge_slot_hashes': ['0x2b1a7b4859a8d3597b8e6cbe3b27ab97212be8b19e6867f2a4d0eef26c36340f'], 'finished_infused_challenge_slot_hashes': ['0xd0185a6493b10d84e696c6fc55ec1920e8a96791a604dedfe77635da460f354d'], 'finished_reward_slot_hashes': ['0xe2bcbf560471131a7fb87ffe3f9ddde03166a9b0092a50f1ed1599715857c365'], 'header_hash': '0x2791729e1c914f9c3908a0ad895b5846c86fc4e207cc463820123e9a299c39f3', 'height': 201645, 'infused_challenge_vdf_output': None, 'overflow': True, 'pool_puzzle_hash': '0x4bc6435b409bcbabe53870dae0f03755f6aabb4594c5915ec983acf12a5d1fba', 'prev_hash': '0xf126ecf64473beb9ae5b84137788100feb9d731c604877c0744cdc6025f4cbeb', 'prev_transaction_block_hash': '0x7103fe2f1aa96998f9ccf6fc98561b64c5f7a98cf942335c4c927fb2eaa9325a', 'prev_transaction_block_height': 201643, 'required_iters': 95752, 'reward_claims_incorporated': [{'amount': 1750000000000, 'parent_coin_info': '0xccd5bb71183532bff220ba46c268991a000000000000000000000000000313ab', 'puzzle_hash': '0xbbb014f41d88c74b78501b36e4863d3382bfda9ae3c4d30a1b6df72b962502b6'}, {'amount': 250000000000, 'parent_coin_info': '0x3ff07eb358e8255a65c30a2dce0e5fbb000000000000000000000000000313ab', 'puzzle_hash': '0xbbb014f41d88c74b78501b36e4863d3382bfda9ae3c4d30a1b6df72b962502b6'}, {'amount': 1750000000000, 'parent_coin_info': '0xccd5bb71183532bff220ba46c268991a000000000000000000000000000313aa', 'puzzle_hash': '0x4bc6435b409bcbabe53870dae0f03755f6aabb4594c5915ec983acf12a5d1fba'}, {'amount': 250000000000, 'parent_coin_info': '0x3ff07eb358e8255a65c30a2dce0e5fbb000000000000000000000000000313a8', 'puzzle_hash': '0xcf178071f6aa6cb1c92f00943424bcc8cb774449bd60058fc08e9894f49a1ca4'}], 'reward_infusion_new_challenge': '0x660886f4ab030c07755f53362ae4253dfa93ea853cbc321218f58f159c75adaa', 'signage_point_index': 63, 'sub_epoch_summary_included': None, 'sub_slot_iters': 99614720, 'timestamp': 1619662081, 'total_iters': 660123219464, 'weight': 4121254} å¦å¤–ï¼Œæˆ‘ä»¬å–çš„è¿™ä¸ªè¡¨çš„å®šä¹‰å¦‚ä¸‹ã€‚ CREATETABLEblock_records(header_hashtextPRIMARYKEY,prev_hashtext,heightbigint,blockblob,#","date":"2021-05-26","objectID":"/nebula-chia/:2:3","series":null,"tags":["Nebula Graph","Chia Network"],"title":"ç”¨å›¾æ•°æ®åº“å¯è§†åŒ–æ¢ç´¢ Chia Network åŒºå—é“¾æ•°æ®","uri":"/nebula-chia/#221-åŒºå—è®°å½•"},{"categories":["Nebula Graph"],"content":"2.2 Chia é“¾çš„æ•°æ® 2.2.1 åŒºå—è®°å½• åœ¨ä¸Šä¸€æ­¥çš„ IPython çª—å£ä¸‹ã€‚ # æ³¨æ„ï¼Œè¿™é‡Œçš„è·¯å¾„çš„å‰ç¼€æ˜¯æˆ‘ä»¬è‡ªå·±çš„å®¶ç›®å½•ï¼Œä¸åŒæ“ä½œç³»ç»Ÿï¼Œä¸åŒçš„ç”¨æˆ·éƒ½ä¼šæœ‰æ‰€ä¸åŒã€‚ chia_db_path = \"/Users/weyl/.chia/mainnet/db/blockchain_v1_mainnet.sqlite\" cur = con.cursor() # è¿™é‡Œæˆ‘ä»¬å–ç¬¬ 201645 é«˜çš„åŒºå— rows = list(cur.execute('SELECT * FROM block_records WHERE height = 201645')) # è¿™é‡Œ 0 è¡¨ç¤º SELECT ç»“æœçš„ç¬¬ä¸€è¡Œï¼Œ3 è¡¨ç¤ºåœ¨ BlockRecord è¿™ä¸ªè¡¨é‡Œè¾¹ï¼ŒBlock çš„äºŒè¿›åˆ¶ BLOB æ˜¯ç¬¬å››åˆ—ï¼Œå‚è€ƒæœ¬ç« åº•éƒ¨çš„è¡¨å®šä¹‰éƒ¨åˆ† block_records_201645 = BlockRecord.from_bytes(rows[0][3]) dir(block_records_201645) # å¯ä»¥æŸ¥çœ‹ä¸€äº›å±æ€§ is_transaction_blockï¼Œtimestampï¼Œreward_claims_incorporated In [174]: block_records_201645.is_transaction_block Out[174]: True In [182]: from datetime import datetime In [183]: datetime.fromtimestamp(block_records_201645.timestamp) Out[183]: datetime.datetime(2021, 4, 29, 10, 8, 1) In [190]: block_records_201645.reward_claims_incorporated[0].to_json_dict() Out[190]: {'parent_coin_info': '0xccd5bb71183532bff220ba46c268991a000000000000000000000000000313ab', 'puzzle_hash': '0xbbb014f41d88c74b78501b36e4863d3382bfda9ae3c4d30a1b6df72b962502b6', 'amount': 1750000000000} # å¯ä»¥å¿«é€Ÿ print çœ‹å¤§éƒ¨åˆ†ä¿¡æ¯ print(block_records_201645) block_records_201645 çš„æ‰“å°ç»“æœå¦‚ä¸‹ã€‚ æ³¨æ„ï¼Œè¿™é‡Œæˆ‘æˆªæ–­äº†ä¸€äº›æ•°æ® {'challenge_block_info_hash': '0x4a562f1ffa7a06fe76b1df74dbdd6bdcfbf63139a6f1fc3291c606d7c976abf6', 'challenge_vdf_output': {'data': '0x0200a6b38d6b58d17129d71737088772561f22a44ef302fe45a70a763b878f998abfe35946df720bcb5d78e214b667bce801d597b46c867928c4b8926c342375a961f36cd63ec698bc25e5ce48c45d9a2074eded0e42d24dd1b50a59e699f671f0900100'}, 'deficit': 16, 'farmer_puzzle_hash': '0x4bc6435b409bcbabe53870dae0f03755f6aabb4594c5915ec983acf12a5d1fba', 'fees': 0, 'finished_challenge_slot_hashes': ['0x2b1a7b4859a8d3597b8e6cbe3b27ab97212be8b19e6867f2a4d0eef26c36340f'], 'finished_infused_challenge_slot_hashes': ['0xd0185a6493b10d84e696c6fc55ec1920e8a96791a604dedfe77635da460f354d'], 'finished_reward_slot_hashes': ['0xe2bcbf560471131a7fb87ffe3f9ddde03166a9b0092a50f1ed1599715857c365'], 'header_hash': '0x2791729e1c914f9c3908a0ad895b5846c86fc4e207cc463820123e9a299c39f3', 'height': 201645, 'infused_challenge_vdf_output': None, 'overflow': True, 'pool_puzzle_hash': '0x4bc6435b409bcbabe53870dae0f03755f6aabb4594c5915ec983acf12a5d1fba', 'prev_hash': '0xf126ecf64473beb9ae5b84137788100feb9d731c604877c0744cdc6025f4cbeb', 'prev_transaction_block_hash': '0x7103fe2f1aa96998f9ccf6fc98561b64c5f7a98cf942335c4c927fb2eaa9325a', 'prev_transaction_block_height': 201643, 'required_iters': 95752, 'reward_claims_incorporated': [{'amount': 1750000000000, 'parent_coin_info': '0xccd5bb71183532bff220ba46c268991a000000000000000000000000000313ab', 'puzzle_hash': '0xbbb014f41d88c74b78501b36e4863d3382bfda9ae3c4d30a1b6df72b962502b6'}, {'amount': 250000000000, 'parent_coin_info': '0x3ff07eb358e8255a65c30a2dce0e5fbb000000000000000000000000000313ab', 'puzzle_hash': '0xbbb014f41d88c74b78501b36e4863d3382bfda9ae3c4d30a1b6df72b962502b6'}, {'amount': 1750000000000, 'parent_coin_info': '0xccd5bb71183532bff220ba46c268991a000000000000000000000000000313aa', 'puzzle_hash': '0x4bc6435b409bcbabe53870dae0f03755f6aabb4594c5915ec983acf12a5d1fba'}, {'amount': 250000000000, 'parent_coin_info': '0x3ff07eb358e8255a65c30a2dce0e5fbb000000000000000000000000000313a8', 'puzzle_hash': '0xcf178071f6aa6cb1c92f00943424bcc8cb774449bd60058fc08e9894f49a1ca4'}], 'reward_infusion_new_challenge': '0x660886f4ab030c07755f53362ae4253dfa93ea853cbc321218f58f159c75adaa', 'signage_point_index': 63, 'sub_epoch_summary_included': None, 'sub_slot_iters': 99614720, 'timestamp': 1619662081, 'total_iters': 660123219464, 'weight': 4121254} å¦å¤–ï¼Œæˆ‘ä»¬å–çš„è¿™ä¸ªè¡¨çš„å®šä¹‰å¦‚ä¸‹ã€‚ CREATETABLEblock_records(header_hashtextPRIMARYKEY,prev_hashtext,heightbigint,blockblob,#","date":"2021-05-26","objectID":"/nebula-chia/:2:3","series":null,"tags":["Nebula Graph","Chia Network"],"title":"ç”¨å›¾æ•°æ®åº“å¯è§†åŒ–æ¢ç´¢ Chia Network åŒºå—é“¾æ•°æ®","uri":"/nebula-chia/#222-chia-å¸è®°å½•"},{"categories":["Nebula Graph"],"content":"2.2 Chia é“¾çš„æ•°æ® 2.2.1 åŒºå—è®°å½• åœ¨ä¸Šä¸€æ­¥çš„ IPython çª—å£ä¸‹ã€‚ # æ³¨æ„ï¼Œè¿™é‡Œçš„è·¯å¾„çš„å‰ç¼€æ˜¯æˆ‘ä»¬è‡ªå·±çš„å®¶ç›®å½•ï¼Œä¸åŒæ“ä½œç³»ç»Ÿï¼Œä¸åŒçš„ç”¨æˆ·éƒ½ä¼šæœ‰æ‰€ä¸åŒã€‚ chia_db_path = \"/Users/weyl/.chia/mainnet/db/blockchain_v1_mainnet.sqlite\" cur = con.cursor() # è¿™é‡Œæˆ‘ä»¬å–ç¬¬ 201645 é«˜çš„åŒºå— rows = list(cur.execute('SELECT * FROM block_records WHERE height = 201645')) # è¿™é‡Œ 0 è¡¨ç¤º SELECT ç»“æœçš„ç¬¬ä¸€è¡Œï¼Œ3 è¡¨ç¤ºåœ¨ BlockRecord è¿™ä¸ªè¡¨é‡Œè¾¹ï¼ŒBlock çš„äºŒè¿›åˆ¶ BLOB æ˜¯ç¬¬å››åˆ—ï¼Œå‚è€ƒæœ¬ç« åº•éƒ¨çš„è¡¨å®šä¹‰éƒ¨åˆ† block_records_201645 = BlockRecord.from_bytes(rows[0][3]) dir(block_records_201645) # å¯ä»¥æŸ¥çœ‹ä¸€äº›å±æ€§ is_transaction_blockï¼Œtimestampï¼Œreward_claims_incorporated In [174]: block_records_201645.is_transaction_block Out[174]: True In [182]: from datetime import datetime In [183]: datetime.fromtimestamp(block_records_201645.timestamp) Out[183]: datetime.datetime(2021, 4, 29, 10, 8, 1) In [190]: block_records_201645.reward_claims_incorporated[0].to_json_dict() Out[190]: {'parent_coin_info': '0xccd5bb71183532bff220ba46c268991a000000000000000000000000000313ab', 'puzzle_hash': '0xbbb014f41d88c74b78501b36e4863d3382bfda9ae3c4d30a1b6df72b962502b6', 'amount': 1750000000000} # å¯ä»¥å¿«é€Ÿ print çœ‹å¤§éƒ¨åˆ†ä¿¡æ¯ print(block_records_201645) block_records_201645 çš„æ‰“å°ç»“æœå¦‚ä¸‹ã€‚ æ³¨æ„ï¼Œè¿™é‡Œæˆ‘æˆªæ–­äº†ä¸€äº›æ•°æ® {'challenge_block_info_hash': '0x4a562f1ffa7a06fe76b1df74dbdd6bdcfbf63139a6f1fc3291c606d7c976abf6', 'challenge_vdf_output': {'data': '0x0200a6b38d6b58d17129d71737088772561f22a44ef302fe45a70a763b878f998abfe35946df720bcb5d78e214b667bce801d597b46c867928c4b8926c342375a961f36cd63ec698bc25e5ce48c45d9a2074eded0e42d24dd1b50a59e699f671f0900100'}, 'deficit': 16, 'farmer_puzzle_hash': '0x4bc6435b409bcbabe53870dae0f03755f6aabb4594c5915ec983acf12a5d1fba', 'fees': 0, 'finished_challenge_slot_hashes': ['0x2b1a7b4859a8d3597b8e6cbe3b27ab97212be8b19e6867f2a4d0eef26c36340f'], 'finished_infused_challenge_slot_hashes': ['0xd0185a6493b10d84e696c6fc55ec1920e8a96791a604dedfe77635da460f354d'], 'finished_reward_slot_hashes': ['0xe2bcbf560471131a7fb87ffe3f9ddde03166a9b0092a50f1ed1599715857c365'], 'header_hash': '0x2791729e1c914f9c3908a0ad895b5846c86fc4e207cc463820123e9a299c39f3', 'height': 201645, 'infused_challenge_vdf_output': None, 'overflow': True, 'pool_puzzle_hash': '0x4bc6435b409bcbabe53870dae0f03755f6aabb4594c5915ec983acf12a5d1fba', 'prev_hash': '0xf126ecf64473beb9ae5b84137788100feb9d731c604877c0744cdc6025f4cbeb', 'prev_transaction_block_hash': '0x7103fe2f1aa96998f9ccf6fc98561b64c5f7a98cf942335c4c927fb2eaa9325a', 'prev_transaction_block_height': 201643, 'required_iters': 95752, 'reward_claims_incorporated': [{'amount': 1750000000000, 'parent_coin_info': '0xccd5bb71183532bff220ba46c268991a000000000000000000000000000313ab', 'puzzle_hash': '0xbbb014f41d88c74b78501b36e4863d3382bfda9ae3c4d30a1b6df72b962502b6'}, {'amount': 250000000000, 'parent_coin_info': '0x3ff07eb358e8255a65c30a2dce0e5fbb000000000000000000000000000313ab', 'puzzle_hash': '0xbbb014f41d88c74b78501b36e4863d3382bfda9ae3c4d30a1b6df72b962502b6'}, {'amount': 1750000000000, 'parent_coin_info': '0xccd5bb71183532bff220ba46c268991a000000000000000000000000000313aa', 'puzzle_hash': '0x4bc6435b409bcbabe53870dae0f03755f6aabb4594c5915ec983acf12a5d1fba'}, {'amount': 250000000000, 'parent_coin_info': '0x3ff07eb358e8255a65c30a2dce0e5fbb000000000000000000000000000313a8', 'puzzle_hash': '0xcf178071f6aa6cb1c92f00943424bcc8cb774449bd60058fc08e9894f49a1ca4'}], 'reward_infusion_new_challenge': '0x660886f4ab030c07755f53362ae4253dfa93ea853cbc321218f58f159c75adaa', 'signage_point_index': 63, 'sub_epoch_summary_included': None, 'sub_slot_iters': 99614720, 'timestamp': 1619662081, 'total_iters': 660123219464, 'weight': 4121254} å¦å¤–ï¼Œæˆ‘ä»¬å–çš„è¿™ä¸ªè¡¨çš„å®šä¹‰å¦‚ä¸‹ã€‚ CREATETABLEblock_records(header_hashtextPRIMARYKEY,prev_hashtext,heightbigint,blockblob,#","date":"2021-05-26","objectID":"/nebula-chia/:2:3","series":null,"tags":["Nebula Graph","Chia Network"],"title":"ç”¨å›¾æ•°æ®åº“å¯è§†åŒ–æ¢ç´¢ Chia Network åŒºå—é“¾æ•°æ®","uri":"/nebula-chia/#223-puzzles-addressåœ°å€"},{"categories":["Nebula Graph"],"content":"3. å¦‚ä½•æ¢ç´¢ Chia é“¾ éšç€æˆ‘ä»¬ä¹‹å‰åˆ†æçš„ä¿¡æ¯ï¼Œè‡ªç„¶åœ°ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠ Chia åŒºå—é“¾ä¸­çš„ä¿¡æ¯å–å‡ºæ¥ï¼Œç”¨å›¾ï¼ˆGraphï¼‰æ¥è¡¨ç¤ºï¼Œè¿™é‡Œçš„å›¾å¹¶ä¸æ˜¯ï¼ˆGraphicï¼‰å›¾å½¢ã€å›¾ç”»çš„æ„æ€ï¼Œæ˜¯æ•°å­¦ã€å›¾è®ºä¸­çš„å›¾ã€‚ åœ¨å›¾çš„è¯­å¢ƒä¸‹ï¼Œæœ€ä¸»è¦çš„ä¸¤ä¸ªå…ƒç´ å°±æ˜¯é¡¶ç‚¹ï¼ˆVertexï¼‰å’Œè¾¹ï¼ˆEdgeï¼‰ã€‚ é¡¶ç‚¹è¡¨ç¤ºä¸€ä¸ªå®ä½“ï¼Œè€Œè¾¹è¡¨ç¤ºå®ä½“ä¹‹é—´çš„æŸç§å…³ç³»ï¼Œè¿™ç§å…³ç³»å¯ä»¥æ˜¯å¯¹ç­‰çš„ï¼ˆæ— æ–¹å‘çš„ï¼‰ä¹Ÿå¯ä»¥æ˜¯æœ‰æ–¹å‘çš„ã€‚ è¿™é‡Œæˆ‘ä»¬å¯ä»¥æŠŠè¿™é‡Œçš„ä¿¡æ¯æŠ½è±¡æ˜ å°„åˆ°å¦‚å›¾çš„å›¾æ¨¡å‹é‡Œï¼š Block é¡¶ç‚¹ Coin é¡¶ç‚¹ Puzzle é¡¶ç‚¹ spends è¾¹ï¼ˆBlock åˆ° Coinï¼‰ confirms è¾¹ ï¼ˆBlock åˆ° Coinï¼‰ belongs_to è¾¹ï¼ˆCoin åˆ° Puzzleï¼‰ è¿™é‡Œï¼Œæˆ‘ä»¬åº”ç”¨çš„å›¾æ˜¯ä¸€ç§å«åšå±æ€§å›¾çš„å½¢å¼ï¼Œé™¤äº†ç‚¹å’Œè¾¹çš„å…³ç³»ä¹‹å¤–ã€‚è¿™ä¸¤ç§å®ä½“ï¼ˆç‚¹ã€è¾¹ï¼‰è¿˜æœ‰å…¶ä»–ä¿¡æ¯åªå’Œå®ƒä»¬çš„ä¸€ä¸ªå®ä¾‹ç›¸å…³ï¼Œæ‰€ä»¥å†å®šä¹‰ä¸ºé¡¶ç‚¹ã€è¾¹å°±ä¸æ˜¯å¾ˆé€‚åˆï¼Œè¿™äº›ä¿¡æ¯å°±ä½œä¸ºç‚¹ã€è¾¹çš„å±æ€§ï¼ˆprepertyï¼‰å­˜åœ¨ã€‚ è¿™ç§ä¸ºäº†å¤„ç†å®ä½“ä¹‹é—´å…³è”ã€æ¶‰åŠå®ä½“ã€å…³è”çš„å±æ€§ä¿¡æ¯çš„ï¼Œä¹Ÿå°±æ˜¯\"å±æ€§å›¾\"çš„å­˜å‚¨ä¿¡æ¯çš„æ–¹å¼åœ¨è®¡ç®—æœºé¢†åŸŸè¶Šæ¥è¶Šæµè¡Œï¼Œç”šè‡³æœ‰ä¸“é—¨ä¸ºæ­¤ç»“æ„è€ŒåŸç”Ÿå¼€å‘çš„æ•°æ®åº“â€”â€”å›¾æ•°æ®åº“ï¼ˆGraph Databaseï¼‰ã€‚ è¿™é‡Œï¼Œæˆ‘ä»¬ç”¨çš„å°±æ˜¯ä¸€ä¸ªå«åš Nebula Graph çš„å›¾æ•°æ®åº“ï¼Œå®ƒæ˜¯ä¸€ä¸ªç°ä»£çš„ã€ä¸ºè¶…å¤§è§„æ¨¡åˆ†éƒ¨ç½²æ¶æ„è®¾è®¡çš„ã€åŸç”Ÿå­˜å‚¨ã€æŸ¥è¯¢ã€è®¡ç®—å›¾æ•°æ®çš„é¡¹ç›®ï¼Œæ›´æ£’çš„æ˜¯ï¼Œå®ƒæ˜¯äº§ç”Ÿäºç¤¾åŒºçš„å¼€æºäº§å“ã€‚ Tips: å®‰è£… Nebula Graph ä¸€èˆ¬æ¥è¯´ï¼Œé¢å‘è¶…å¤§è§„æ¨¡æ•°æ®çš„åˆ†å¸ƒå¼ç³»ç»Ÿï¼Œå¤©ç„¶çš„éƒ½æ˜¯ä¸å®¹æ˜“è½»é‡éƒ¨ç½²çš„ï¼Œå¤§å®¶å¦‚æœç¬¬ä¸€æ¬¡ä½¿ç”¨çš„è¯å¯ä»¥è¯•è¯•æˆ‘å†™çš„ä¸€ä¸ªå«åš nebula-up çš„å°å·¥å…·ï¼Œå¯ä»¥ä¸€è¡ŒæŒ‡ä»¤éƒ¨ç½²ä¸€ä¸ªç”¨æ¥è¯•ç”¨ã€å­¦ä¹ çš„ Nebula Graph é›†ç¾¤ï¼Œåœ°å€åœ¨è¿™é‡Œï¼š https://github.com/wey-gu/nebula-up/ ã€‚ ","date":"2021-05-26","objectID":"/nebula-chia/:3:0","series":null,"tags":["Nebula Graph","Chia Network"],"title":"ç”¨å›¾æ•°æ®åº“å¯è§†åŒ–æ¢ç´¢ Chia Network åŒºå—é“¾æ•°æ®","uri":"/nebula-chia/#3-å¦‚ä½•æ¢ç´¢-chia-é“¾"},{"categories":["Nebula Graph"],"content":"3.1 Nebula Graph å¯¼å…¥ Chia æ•°æ®åˆ°å›¾æ•°æ®åº“ æˆ‘ä»¬åˆ†ä¸¤æ­¥èµ°ï¼Œç¬¬ä¸€æ­¥è¿™æŠŠ Chia Network æ•°æ®è½¬æ¢æˆ CSV æ–‡ä»¶ï¼Œç¬¬äºŒæ­¥ä½¿ç”¨ Nebula çš„ Nebula-Importer æŠŠæ•°æ®å¯¼å…¥ Nebula Graphã€‚ 3.1.1 æ•°æ®è½¬æ¢ è¿™éƒ¨åˆ†çš„ä»£ç æˆ‘å¼€æºåœ¨è¿™é‡Œäº†: https://github.com/wey-gu/nebula-chia ä½¿ç”¨å®ƒåªéœ€è¦åœ¨ Chia Network çš„ python venv ä¸‹å®‰è£…å®ƒ: python3 -m pip install nebula-chia ç„¶åè°ƒç”¨ ChaiBatchConvertor å°±å¯ä»¥åœ¨å½“å‰ç›®å½•ä¸‹ç”Ÿæˆä¸¤ä¸ª CSV æ–‡ä»¶ã€‚ è¿™é‡Œè¾¹æœ‰ä¸€äº›å¯ä»¥é…ç½®çš„å‚æ•°ï¼Œå…·ä½“å¯ä»¥å‚è€ƒä»£ç  nebulachia/convertor.py from nebulachia.convertor import ChiaBatchConvertor c = ChaiBatchConvertor( block_record_limit=0, coin_record_limit=0, write_batch_size=10000) c.convert_block_record() c.convert_coin_record() ç”Ÿæˆçš„æ–‡ä»¶ï¼š $ ls -lth -rw-r--r-- 1 weyl staff 173M May 19 13:01 coin_record.csv -rw-r--r-- 1 weyl staff 77M May 19 12:59 block_record.csv è¿™é‡Œè¾¹å­—æ®µçš„å«ä¹‰å’Œç±»å‹ï¼Œå¯ä»¥å‚è€ƒä»£ç ä¸­ block_record_row å’Œ coin_record_row çš„ __doc__ In [466]: print(c.coin_record_row.__doc__) Parse row and return a CSV block coin row list. CREATE TABLE coin_record( coin_name text PRIMARY KEY, confirmed_index bigint, spent_index bigint, spent int, coinbase int, puzzle_hash text, coin_parent text, amount blob, timestamp bigint) Coin Record CSV Head: 0 1(int) 2(int) 3(bool) coin_name|confirmed_index|spent_index|spent| 4(bool) 5 6 7(int) coinbase|puzzle_hash|coin_parent|amount| 8(timestamp) timestamp| 9 10 confirmed_hash|spent_hash In [467]: print(c.block_record_row.__doc__) Parse row and return a CSV block record row list. CREATE TABLE block_records( header_hash text PRIMARY KEY, prev_hash text, height bigint, block blob, sub_epoch_summary blob, is_peak tinyint, is_block tinyint) Block Record CSV Head: 0 1 2(int) 3(bool) 4(bool) header_hash|prev_hash|height|is_peak|is_block| 5(int) deficit| 6 challenge_block_info_hash| 7 farmer_puzzle_hash| 8(int) fees| 9 prev_transaction_block_hash| 10 prev_transaction_block_height| 11 12(int) required_iters|signage_point_index| 13(timestamp) timestamp 3.1.1 æ•°æ®å¯¼å…¥ æœ‰äº† CSV æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ© Nebula-Importer å¯¼å…¥æ•°æ®åˆ°å›¾æ•°æ®åº“ä¸­ã€‚ è¿™é‡Œï¼Œæˆ‘ä»¬å†™å¥½äº† nebula-importer çš„é…ç½®æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…æ¶µäº†å¦‚ä¸‹ä¿¡æ¯: åœ¨ Nebula Graph ä¸­åˆ›å»ºéœ€è¦çš„æ•°æ®æ¨¡å‹ Schemaï¼Œè¿™å’Œæˆ‘ä»¬å‰è¾¹åšçš„å›¾æ˜ å°„çš„ä¿¡æ¯æ˜¯ç­‰ä»·çš„ æè¿° CSV æ–‡ä»¶ä¹‹ä¸­çš„ Column çš„æ•°æ®åˆ°å›¾æ¨¡å‹ï¼ˆç‚¹ï¼Œè¾¹ï¼Œç‚¹æˆ–è¾¹çš„å±æ€§ï¼‰æ˜ å°„å…³ç³» # è¿™é‡Œï¼Œæˆ‘çš„ csv æ–‡ä»¶å’Œ é…ç½®æ–‡ä»¶éƒ½æ”¾åœ¨ /home/wei.gu/chia ä¹‹ä¸‹ # æˆ‘ä½¿ç”¨ docker-compose é»˜è®¤é…ç½®éƒ¨ç½²çš„ Nebula Graph, # å®ƒåˆ›å»ºäº†å« nebula-docker-compose_nebula-net çš„ docker ç½‘ç»œ docker run --rm -ti \\ --network=nebula-docker-compose_nebula-net \\ -v /home/wei.gu/chia/nebula-chia.yaml:/root/nebula-chia.yaml \\ -v /home/wei.gu/chia:/root \\ vesoft/nebula-importer:v2 \\ --config /root/nebula-chia.yaml è¿™é‡Œæˆ‘å±•ç¤ºä¸€ä¸ªå¯¼å…¥çš„ç»“æœç¤ºä¾‹ï¼Œæˆ‘åœ¨å•æœºéƒ¨ç½²çš„ Nebula Graph é‡Œå¯¼å…¥äº†æˆ‘ä¸€ä¸¤å‘¨ä¹‹å‰å–çš„å…¨é‡ Chia Network æ•°æ®çš„ç»“æœã€‚ ... 2021/05/19 09:55:09 [INFO] reader.go:180: Total lines of file(/root/coin_record.csv) is: 547557, error lines: 0 2021/05/19 09:55:09 [INFO] statsmgr.go:61: Done(/root/coin_record.csv): Time(4385.88s), Finished(4512927), Failed(0), Latency AVG(1305us), Batches Req AVG(2015us), Rows AVG(1028.42/s) 2021/05/19 09:55:10 --- END OF NEBULA IMPORTER --- ","date":"2021-05-26","objectID":"/nebula-chia/:3:1","series":null,"tags":["Nebula Graph","Chia Network"],"title":"ç”¨å›¾æ•°æ®åº“å¯è§†åŒ–æ¢ç´¢ Chia Network åŒºå—é“¾æ•°æ®","uri":"/nebula-chia/#31-nebula-graph-å¯¼å…¥-chia-æ•°æ®åˆ°å›¾æ•°æ®åº“"},{"categories":["Nebula Graph"],"content":"3.1 Nebula Graph å¯¼å…¥ Chia æ•°æ®åˆ°å›¾æ•°æ®åº“ æˆ‘ä»¬åˆ†ä¸¤æ­¥èµ°ï¼Œç¬¬ä¸€æ­¥è¿™æŠŠ Chia Network æ•°æ®è½¬æ¢æˆ CSV æ–‡ä»¶ï¼Œç¬¬äºŒæ­¥ä½¿ç”¨ Nebula çš„ Nebula-Importer æŠŠæ•°æ®å¯¼å…¥ Nebula Graphã€‚ 3.1.1 æ•°æ®è½¬æ¢ è¿™éƒ¨åˆ†çš„ä»£ç æˆ‘å¼€æºåœ¨è¿™é‡Œäº†: https://github.com/wey-gu/nebula-chia ä½¿ç”¨å®ƒåªéœ€è¦åœ¨ Chia Network çš„ python venv ä¸‹å®‰è£…å®ƒ: python3 -m pip install nebula-chia ç„¶åè°ƒç”¨ ChaiBatchConvertor å°±å¯ä»¥åœ¨å½“å‰ç›®å½•ä¸‹ç”Ÿæˆä¸¤ä¸ª CSV æ–‡ä»¶ã€‚ è¿™é‡Œè¾¹æœ‰ä¸€äº›å¯ä»¥é…ç½®çš„å‚æ•°ï¼Œå…·ä½“å¯ä»¥å‚è€ƒä»£ç  nebulachia/convertor.py from nebulachia.convertor import ChiaBatchConvertor c = ChaiBatchConvertor( block_record_limit=0, coin_record_limit=0, write_batch_size=10000) c.convert_block_record() c.convert_coin_record() ç”Ÿæˆçš„æ–‡ä»¶ï¼š $ ls -lth -rw-r--r-- 1 weyl staff 173M May 19 13:01 coin_record.csv -rw-r--r-- 1 weyl staff 77M May 19 12:59 block_record.csv è¿™é‡Œè¾¹å­—æ®µçš„å«ä¹‰å’Œç±»å‹ï¼Œå¯ä»¥å‚è€ƒä»£ç ä¸­ block_record_row å’Œ coin_record_row çš„ __doc__ In [466]: print(c.coin_record_row.__doc__) Parse row and return a CSV block coin row list. CREATE TABLE coin_record( coin_name text PRIMARY KEY, confirmed_index bigint, spent_index bigint, spent int, coinbase int, puzzle_hash text, coin_parent text, amount blob, timestamp bigint) Coin Record CSV Head: 0 1(int) 2(int) 3(bool) coin_name|confirmed_index|spent_index|spent| 4(bool) 5 6 7(int) coinbase|puzzle_hash|coin_parent|amount| 8(timestamp) timestamp| 9 10 confirmed_hash|spent_hash In [467]: print(c.block_record_row.__doc__) Parse row and return a CSV block record row list. CREATE TABLE block_records( header_hash text PRIMARY KEY, prev_hash text, height bigint, block blob, sub_epoch_summary blob, is_peak tinyint, is_block tinyint) Block Record CSV Head: 0 1 2(int) 3(bool) 4(bool) header_hash|prev_hash|height|is_peak|is_block| 5(int) deficit| 6 challenge_block_info_hash| 7 farmer_puzzle_hash| 8(int) fees| 9 prev_transaction_block_hash| 10 prev_transaction_block_height| 11 12(int) required_iters|signage_point_index| 13(timestamp) timestamp 3.1.1 æ•°æ®å¯¼å…¥ æœ‰äº† CSV æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ© Nebula-Importer å¯¼å…¥æ•°æ®åˆ°å›¾æ•°æ®åº“ä¸­ã€‚ è¿™é‡Œï¼Œæˆ‘ä»¬å†™å¥½äº† nebula-importer çš„é…ç½®æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…æ¶µäº†å¦‚ä¸‹ä¿¡æ¯: åœ¨ Nebula Graph ä¸­åˆ›å»ºéœ€è¦çš„æ•°æ®æ¨¡å‹ Schemaï¼Œè¿™å’Œæˆ‘ä»¬å‰è¾¹åšçš„å›¾æ˜ å°„çš„ä¿¡æ¯æ˜¯ç­‰ä»·çš„ æè¿° CSV æ–‡ä»¶ä¹‹ä¸­çš„ Column çš„æ•°æ®åˆ°å›¾æ¨¡å‹ï¼ˆç‚¹ï¼Œè¾¹ï¼Œç‚¹æˆ–è¾¹çš„å±æ€§ï¼‰æ˜ å°„å…³ç³» # è¿™é‡Œï¼Œæˆ‘çš„ csv æ–‡ä»¶å’Œ é…ç½®æ–‡ä»¶éƒ½æ”¾åœ¨ /home/wei.gu/chia ä¹‹ä¸‹ # æˆ‘ä½¿ç”¨ docker-compose é»˜è®¤é…ç½®éƒ¨ç½²çš„ Nebula Graph, # å®ƒåˆ›å»ºäº†å« nebula-docker-compose_nebula-net çš„ docker ç½‘ç»œ docker run --rm -ti \\ --network=nebula-docker-compose_nebula-net \\ -v /home/wei.gu/chia/nebula-chia.yaml:/root/nebula-chia.yaml \\ -v /home/wei.gu/chia:/root \\ vesoft/nebula-importer:v2 \\ --config /root/nebula-chia.yaml è¿™é‡Œæˆ‘å±•ç¤ºä¸€ä¸ªå¯¼å…¥çš„ç»“æœç¤ºä¾‹ï¼Œæˆ‘åœ¨å•æœºéƒ¨ç½²çš„ Nebula Graph é‡Œå¯¼å…¥äº†æˆ‘ä¸€ä¸¤å‘¨ä¹‹å‰å–çš„å…¨é‡ Chia Network æ•°æ®çš„ç»“æœã€‚ ... 2021/05/19 09:55:09 [INFO] reader.go:180: Total lines of file(/root/coin_record.csv) is: 547557, error lines: 0 2021/05/19 09:55:09 [INFO] statsmgr.go:61: Done(/root/coin_record.csv): Time(4385.88s), Finished(4512927), Failed(0), Latency AVG(1305us), Batches Req AVG(2015us), Rows AVG(1028.42/s) 2021/05/19 09:55:10 --- END OF NEBULA IMPORTER --- ","date":"2021-05-26","objectID":"/nebula-chia/:3:1","series":null,"tags":["Nebula Graph","Chia Network"],"title":"ç”¨å›¾æ•°æ®åº“å¯è§†åŒ–æ¢ç´¢ Chia Network åŒºå—é“¾æ•°æ®","uri":"/nebula-chia/#311-æ•°æ®è½¬æ¢"},{"categories":["Nebula Graph"],"content":"3.1 Nebula Graph å¯¼å…¥ Chia æ•°æ®åˆ°å›¾æ•°æ®åº“ æˆ‘ä»¬åˆ†ä¸¤æ­¥èµ°ï¼Œç¬¬ä¸€æ­¥è¿™æŠŠ Chia Network æ•°æ®è½¬æ¢æˆ CSV æ–‡ä»¶ï¼Œç¬¬äºŒæ­¥ä½¿ç”¨ Nebula çš„ Nebula-Importer æŠŠæ•°æ®å¯¼å…¥ Nebula Graphã€‚ 3.1.1 æ•°æ®è½¬æ¢ è¿™éƒ¨åˆ†çš„ä»£ç æˆ‘å¼€æºåœ¨è¿™é‡Œäº†: https://github.com/wey-gu/nebula-chia ä½¿ç”¨å®ƒåªéœ€è¦åœ¨ Chia Network çš„ python venv ä¸‹å®‰è£…å®ƒ: python3 -m pip install nebula-chia ç„¶åè°ƒç”¨ ChaiBatchConvertor å°±å¯ä»¥åœ¨å½“å‰ç›®å½•ä¸‹ç”Ÿæˆä¸¤ä¸ª CSV æ–‡ä»¶ã€‚ è¿™é‡Œè¾¹æœ‰ä¸€äº›å¯ä»¥é…ç½®çš„å‚æ•°ï¼Œå…·ä½“å¯ä»¥å‚è€ƒä»£ç  nebulachia/convertor.py from nebulachia.convertor import ChiaBatchConvertor c = ChaiBatchConvertor( block_record_limit=0, coin_record_limit=0, write_batch_size=10000) c.convert_block_record() c.convert_coin_record() ç”Ÿæˆçš„æ–‡ä»¶ï¼š $ ls -lth -rw-r--r-- 1 weyl staff 173M May 19 13:01 coin_record.csv -rw-r--r-- 1 weyl staff 77M May 19 12:59 block_record.csv è¿™é‡Œè¾¹å­—æ®µçš„å«ä¹‰å’Œç±»å‹ï¼Œå¯ä»¥å‚è€ƒä»£ç ä¸­ block_record_row å’Œ coin_record_row çš„ __doc__ In [466]: print(c.coin_record_row.__doc__) Parse row and return a CSV block coin row list. CREATE TABLE coin_record( coin_name text PRIMARY KEY, confirmed_index bigint, spent_index bigint, spent int, coinbase int, puzzle_hash text, coin_parent text, amount blob, timestamp bigint) Coin Record CSV Head: 0 1(int) 2(int) 3(bool) coin_name|confirmed_index|spent_index|spent| 4(bool) 5 6 7(int) coinbase|puzzle_hash|coin_parent|amount| 8(timestamp) timestamp| 9 10 confirmed_hash|spent_hash In [467]: print(c.block_record_row.__doc__) Parse row and return a CSV block record row list. CREATE TABLE block_records( header_hash text PRIMARY KEY, prev_hash text, height bigint, block blob, sub_epoch_summary blob, is_peak tinyint, is_block tinyint) Block Record CSV Head: 0 1 2(int) 3(bool) 4(bool) header_hash|prev_hash|height|is_peak|is_block| 5(int) deficit| 6 challenge_block_info_hash| 7 farmer_puzzle_hash| 8(int) fees| 9 prev_transaction_block_hash| 10 prev_transaction_block_height| 11 12(int) required_iters|signage_point_index| 13(timestamp) timestamp 3.1.1 æ•°æ®å¯¼å…¥ æœ‰äº† CSV æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ© Nebula-Importer å¯¼å…¥æ•°æ®åˆ°å›¾æ•°æ®åº“ä¸­ã€‚ è¿™é‡Œï¼Œæˆ‘ä»¬å†™å¥½äº† nebula-importer çš„é…ç½®æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…æ¶µäº†å¦‚ä¸‹ä¿¡æ¯: åœ¨ Nebula Graph ä¸­åˆ›å»ºéœ€è¦çš„æ•°æ®æ¨¡å‹ Schemaï¼Œè¿™å’Œæˆ‘ä»¬å‰è¾¹åšçš„å›¾æ˜ å°„çš„ä¿¡æ¯æ˜¯ç­‰ä»·çš„ æè¿° CSV æ–‡ä»¶ä¹‹ä¸­çš„ Column çš„æ•°æ®åˆ°å›¾æ¨¡å‹ï¼ˆç‚¹ï¼Œè¾¹ï¼Œç‚¹æˆ–è¾¹çš„å±æ€§ï¼‰æ˜ å°„å…³ç³» # è¿™é‡Œï¼Œæˆ‘çš„ csv æ–‡ä»¶å’Œ é…ç½®æ–‡ä»¶éƒ½æ”¾åœ¨ /home/wei.gu/chia ä¹‹ä¸‹ # æˆ‘ä½¿ç”¨ docker-compose é»˜è®¤é…ç½®éƒ¨ç½²çš„ Nebula Graph, # å®ƒåˆ›å»ºäº†å« nebula-docker-compose_nebula-net çš„ docker ç½‘ç»œ docker run --rm -ti \\ --network=nebula-docker-compose_nebula-net \\ -v /home/wei.gu/chia/nebula-chia.yaml:/root/nebula-chia.yaml \\ -v /home/wei.gu/chia:/root \\ vesoft/nebula-importer:v2 \\ --config /root/nebula-chia.yaml è¿™é‡Œæˆ‘å±•ç¤ºä¸€ä¸ªå¯¼å…¥çš„ç»“æœç¤ºä¾‹ï¼Œæˆ‘åœ¨å•æœºéƒ¨ç½²çš„ Nebula Graph é‡Œå¯¼å…¥äº†æˆ‘ä¸€ä¸¤å‘¨ä¹‹å‰å–çš„å…¨é‡ Chia Network æ•°æ®çš„ç»“æœã€‚ ... 2021/05/19 09:55:09 [INFO] reader.go:180: Total lines of file(/root/coin_record.csv) is: 547557, error lines: 0 2021/05/19 09:55:09 [INFO] statsmgr.go:61: Done(/root/coin_record.csv): Time(4385.88s), Finished(4512927), Failed(0), Latency AVG(1305us), Batches Req AVG(2015us), Rows AVG(1028.42/s) 2021/05/19 09:55:10 --- END OF NEBULA IMPORTER --- ","date":"2021-05-26","objectID":"/nebula-chia/:3:1","series":null,"tags":["Nebula Graph","Chia Network"],"title":"ç”¨å›¾æ•°æ®åº“å¯è§†åŒ–æ¢ç´¢ Chia Network åŒºå—é“¾æ•°æ®","uri":"/nebula-chia/#311-æ•°æ®å¯¼å…¥"},{"categories":["Nebula Graph"],"content":"3.2 æ¢ç´¢ Chia çš„å›¾æ•°æ® 3.2.1 ç”¨å›¾æ•°æ®åº“çš„ Queries å¯¼å…¥ Chia é“¾çš„ç½‘ç»œåˆ° Nebula Graph ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥åœ¨é‡Œè¾¹å¿«é€ŸæŸ¥è¯¢æ•°æ®ä¹‹é—´çš„å…³è”ã€‚ æ¯”å¦‚è¿™ä¸ªæŸ¥è¯¢è¡¨ç¤ºä»åŒºå— 524aa2013781ff4cd9d2b5dc... æŸ¥èµ·ï¼Œç»è¿‡ä¸‰ç§è¾¹ farmer_puzzle, spends, confirms åŒå‘éå†çš„ç»“æœã€‚ GO5STEPSFROM\\\"524aa2013781ff4cd9d2b5dce40647b670d722e2de25bd2e2b79970a8ec435ee\"\\OVERfarmer_puzzle,spends,confirmsBIDIRECT...Got419437rows(timespent735120/1170946us)Wed,19May202110:11:28UTC å†æ¯”å¦‚ï¼Œè®¡ç®—ä¸€ä¸ª Puzzle åœ°å€ä¸Šçš„ä½™é¢ï¼ˆæ‰€æœ‰ coin çš„æ€»ä»·å€¼ï¼‰æ¯”å¦‚è¿™ä¸ªpuzzle bbe39134ccc32c08fdeff... GO1STEPFROM\"bbe39134ccc32c08fdeff4d2c19d1d1f4f7e48cdaf79d37397bc3136ce9b3cb7\"\\OVERbelongs_toREVERSELY\\YIELDCASE$$.coin.is_spent\\WHENtrueTHEN$$.coin.amount\\WHENfalseTHEN-$$.coin.amount\\ENDASAmount|YIELDsum($-.Amount) 3.2.2 ç”¨ Nebula Studio å¯è§†åŒ–æ¢ç´¢ Nebula Graph ä¸ºæˆ‘ä»¬æä¾›äº†å›¾å½¢åŒ–ç•Œé¢ï¼Œæœ‰äº†å®ƒï¼Œæˆ‘ä»¬å¯ä»¥ç”¨æ›´ç¬¦åˆäººè„‘çš„æ–¹å¼åœ°æŸ¥çœ‹ Chia Network ä¸­çš„æ•°æ®ã€‚ æ¯”å¦‚ï¼Œæˆ‘ä»¬è¿˜æ˜¯å›åˆ°ä¸Šè¾¹çš„é‚£ä¸ªåŒºå—ï¼Œä»è¿™é‡ŒæŸ¥è¯¢ã€‚ æˆ‘ä»¬å°±è·å¾—äº†è¿™ä¸ª block ç±»å‹çš„ä¸€ä¸ªç‚¹/ vertexã€‚æˆ‘ä»¬å¯ä»¥ä»ä»–å¼€å§‹è¿›ä¸€æ­¥æ¢ç´¢ï¼Œå…ˆé¼ æ ‡å•å‡»è¿™ä¸ªç‚¹ï¼Œåœ¨æ‹“å±•æ¡ä»¶é‡ŒæŠŠæ–¹å‘é€‰æ‹©åŒå‘ï¼Œé»˜è®¤çš„è¾¹ç±»å‹æ˜¯æ‰€æœ‰çš„è¾¹ç±»å‹ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥æŠŠæ‰€æœ‰ æ­¥æ•°å†…ç›¸å…³è”çš„æ•°æ®ä¸€ä¸‹å­å…¨éƒ½æ‰¾å‡ºæ¥ã€‚ é€‰æ‹©å¥½æ‹“å±•æ¡ä»¶ä¹‹åï¼Œç‚¹å‡»æ‹“å±•å°±å¯ä»¥ã€‚ è¿™é‡Œï¼Œæˆ‘ä»¬é€‰æ‹©äº†æ­¥æ•°ä¸º 1ï¼Œç‚¹å‡»æ‹“å±•ï¼ˆæˆ–è€…åŒå‡»è¦æ‹“å±•çš„ç‚¹ï¼‰ï¼Œä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥å¿«é€ŸåŒå‡»å…¶ä»–çš„ç‚¹ç»§ç»­æ‹“å±•ï¼Œè¿™æ˜¯æˆ‘é¼ æ ‡ç‚¹äº†å‡ æ¬¡ä¹‹åçœ‹åˆ°çš„æ ·å­ï¼š æˆ‘ä»¬æ¥ä¸‹æ¥å†è¯•è¯•æ‹“å±•çš„æ­¥æ•°ä¸º 2ï¼Œç‚¹å‡»æ‹“å±•ï¼ˆæˆ–è€…åŒå‡»è¦æ‹“å±•çš„ç‚¹ï¼‰ï¼Œçœ‹èµ·æ¥æ‰¾åˆ°äº†æœ‰æ„æ€çš„ä¿¡æ¯ã€‚ æˆ‘ä»¬çœ‹åˆ°äº†ä¸€ä¸ªæœ‰å¾ˆå¤šè¾¹çš„é»‘è‰²çš„ç‚¹ã€‚ é€šè¿‡æŸ¥çœ‹è¿™ä¸ªç‚¹å’Œæˆ‘ä»¬å¼€å§‹æŸ¥çœ‹çš„ block ä¹‹é—´çš„è¾¹ï¼Œæˆ‘ä»¬çŸ¥é“è¿™ä¸ªç‚¹æ­£æ˜¯ farm è¿™ä¸ª block çš„åœ°å€ï¼Œè¿™ä¸ªåœ°å€ä¸‹è¾¹æœ‰éå¸¸å¤šçš„ coinã€‚ è¿™åªæ˜¯ä¸€ä¸ªå¼€å§‹ï¼Œæœ‰äº†è¿™ä¸ªå¯¼å…¥åˆ° Nebula Graph å›¾æ•°æ®çš„åŸºç¡€ï¼Œæˆ‘ä»¬å¯ä»¥åšå¾ˆå¤šæœ‰æ„æ€çš„åˆ†æå’Œæ´å¯Ÿï¼Œå¤§å®¶å¯ä»¥è‡ªå·±è¯•è¯•çœ‹ï¼Œå¾—åˆ°æ›´æœ‰æ„æ€çš„ç»“æœåˆ†äº«ç»™å…¶ä»–åŒå­¦ã€‚ ","date":"2021-05-26","objectID":"/nebula-chia/:3:2","series":null,"tags":["Nebula Graph","Chia Network"],"title":"ç”¨å›¾æ•°æ®åº“å¯è§†åŒ–æ¢ç´¢ Chia Network åŒºå—é“¾æ•°æ®","uri":"/nebula-chia/#32-æ¢ç´¢-chia-çš„å›¾æ•°æ®"},{"categories":["Nebula Graph"],"content":"3.2 æ¢ç´¢ Chia çš„å›¾æ•°æ® 3.2.1 ç”¨å›¾æ•°æ®åº“çš„ Queries å¯¼å…¥ Chia é“¾çš„ç½‘ç»œåˆ° Nebula Graph ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥åœ¨é‡Œè¾¹å¿«é€ŸæŸ¥è¯¢æ•°æ®ä¹‹é—´çš„å…³è”ã€‚ æ¯”å¦‚è¿™ä¸ªæŸ¥è¯¢è¡¨ç¤ºä»åŒºå— 524aa2013781ff4cd9d2b5dc... æŸ¥èµ·ï¼Œç»è¿‡ä¸‰ç§è¾¹ farmer_puzzle, spends, confirms åŒå‘éå†çš„ç»“æœã€‚ GO5STEPSFROM\\\"524aa2013781ff4cd9d2b5dce40647b670d722e2de25bd2e2b79970a8ec435ee\"\\OVERfarmer_puzzle,spends,confirmsBIDIRECT...Got419437rows(timespent735120/1170946us)Wed,19May202110:11:28UTC å†æ¯”å¦‚ï¼Œè®¡ç®—ä¸€ä¸ª Puzzle åœ°å€ä¸Šçš„ä½™é¢ï¼ˆæ‰€æœ‰ coin çš„æ€»ä»·å€¼ï¼‰æ¯”å¦‚è¿™ä¸ªpuzzle bbe39134ccc32c08fdeff... GO1STEPFROM\"bbe39134ccc32c08fdeff4d2c19d1d1f4f7e48cdaf79d37397bc3136ce9b3cb7\"\\OVERbelongs_toREVERSELY\\YIELDCASE$$.coin.is_spent\\WHENtrueTHEN$$.coin.amount\\WHENfalseTHEN-$$.coin.amount\\ENDASAmount|YIELDsum($-.Amount) 3.2.2 ç”¨ Nebula Studio å¯è§†åŒ–æ¢ç´¢ Nebula Graph ä¸ºæˆ‘ä»¬æä¾›äº†å›¾å½¢åŒ–ç•Œé¢ï¼Œæœ‰äº†å®ƒï¼Œæˆ‘ä»¬å¯ä»¥ç”¨æ›´ç¬¦åˆäººè„‘çš„æ–¹å¼åœ°æŸ¥çœ‹ Chia Network ä¸­çš„æ•°æ®ã€‚ æ¯”å¦‚ï¼Œæˆ‘ä»¬è¿˜æ˜¯å›åˆ°ä¸Šè¾¹çš„é‚£ä¸ªåŒºå—ï¼Œä»è¿™é‡ŒæŸ¥è¯¢ã€‚ æˆ‘ä»¬å°±è·å¾—äº†è¿™ä¸ª block ç±»å‹çš„ä¸€ä¸ªç‚¹/ vertexã€‚æˆ‘ä»¬å¯ä»¥ä»ä»–å¼€å§‹è¿›ä¸€æ­¥æ¢ç´¢ï¼Œå…ˆé¼ æ ‡å•å‡»è¿™ä¸ªç‚¹ï¼Œåœ¨æ‹“å±•æ¡ä»¶é‡ŒæŠŠæ–¹å‘é€‰æ‹©åŒå‘ï¼Œé»˜è®¤çš„è¾¹ç±»å‹æ˜¯æ‰€æœ‰çš„è¾¹ç±»å‹ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥æŠŠæ‰€æœ‰ æ­¥æ•°å†…ç›¸å…³è”çš„æ•°æ®ä¸€ä¸‹å­å…¨éƒ½æ‰¾å‡ºæ¥ã€‚ é€‰æ‹©å¥½æ‹“å±•æ¡ä»¶ä¹‹åï¼Œç‚¹å‡»æ‹“å±•å°±å¯ä»¥ã€‚ è¿™é‡Œï¼Œæˆ‘ä»¬é€‰æ‹©äº†æ­¥æ•°ä¸º 1ï¼Œç‚¹å‡»æ‹“å±•ï¼ˆæˆ–è€…åŒå‡»è¦æ‹“å±•çš„ç‚¹ï¼‰ï¼Œä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥å¿«é€ŸåŒå‡»å…¶ä»–çš„ç‚¹ç»§ç»­æ‹“å±•ï¼Œè¿™æ˜¯æˆ‘é¼ æ ‡ç‚¹äº†å‡ æ¬¡ä¹‹åçœ‹åˆ°çš„æ ·å­ï¼š æˆ‘ä»¬æ¥ä¸‹æ¥å†è¯•è¯•æ‹“å±•çš„æ­¥æ•°ä¸º 2ï¼Œç‚¹å‡»æ‹“å±•ï¼ˆæˆ–è€…åŒå‡»è¦æ‹“å±•çš„ç‚¹ï¼‰ï¼Œçœ‹èµ·æ¥æ‰¾åˆ°äº†æœ‰æ„æ€çš„ä¿¡æ¯ã€‚ æˆ‘ä»¬çœ‹åˆ°äº†ä¸€ä¸ªæœ‰å¾ˆå¤šè¾¹çš„é»‘è‰²çš„ç‚¹ã€‚ é€šè¿‡æŸ¥çœ‹è¿™ä¸ªç‚¹å’Œæˆ‘ä»¬å¼€å§‹æŸ¥çœ‹çš„ block ä¹‹é—´çš„è¾¹ï¼Œæˆ‘ä»¬çŸ¥é“è¿™ä¸ªç‚¹æ­£æ˜¯ farm è¿™ä¸ª block çš„åœ°å€ï¼Œè¿™ä¸ªåœ°å€ä¸‹è¾¹æœ‰éå¸¸å¤šçš„ coinã€‚ è¿™åªæ˜¯ä¸€ä¸ªå¼€å§‹ï¼Œæœ‰äº†è¿™ä¸ªå¯¼å…¥åˆ° Nebula Graph å›¾æ•°æ®çš„åŸºç¡€ï¼Œæˆ‘ä»¬å¯ä»¥åšå¾ˆå¤šæœ‰æ„æ€çš„åˆ†æå’Œæ´å¯Ÿï¼Œå¤§å®¶å¯ä»¥è‡ªå·±è¯•è¯•çœ‹ï¼Œå¾—åˆ°æ›´æœ‰æ„æ€çš„ç»“æœåˆ†äº«ç»™å…¶ä»–åŒå­¦ã€‚ ","date":"2021-05-26","objectID":"/nebula-chia/:3:2","series":null,"tags":["Nebula Graph","Chia Network"],"title":"ç”¨å›¾æ•°æ®åº“å¯è§†åŒ–æ¢ç´¢ Chia Network åŒºå—é“¾æ•°æ®","uri":"/nebula-chia/#321-ç”¨å›¾æ•°æ®åº“çš„-queries"},{"categories":["Nebula Graph"],"content":"3.2 æ¢ç´¢ Chia çš„å›¾æ•°æ® 3.2.1 ç”¨å›¾æ•°æ®åº“çš„ Queries å¯¼å…¥ Chia é“¾çš„ç½‘ç»œåˆ° Nebula Graph ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥åœ¨é‡Œè¾¹å¿«é€ŸæŸ¥è¯¢æ•°æ®ä¹‹é—´çš„å…³è”ã€‚ æ¯”å¦‚è¿™ä¸ªæŸ¥è¯¢è¡¨ç¤ºä»åŒºå— 524aa2013781ff4cd9d2b5dc... æŸ¥èµ·ï¼Œç»è¿‡ä¸‰ç§è¾¹ farmer_puzzle, spends, confirms åŒå‘éå†çš„ç»“æœã€‚ GO5STEPSFROM\\\"524aa2013781ff4cd9d2b5dce40647b670d722e2de25bd2e2b79970a8ec435ee\"\\OVERfarmer_puzzle,spends,confirmsBIDIRECT...Got419437rows(timespent735120/1170946us)Wed,19May202110:11:28UTC å†æ¯”å¦‚ï¼Œè®¡ç®—ä¸€ä¸ª Puzzle åœ°å€ä¸Šçš„ä½™é¢ï¼ˆæ‰€æœ‰ coin çš„æ€»ä»·å€¼ï¼‰æ¯”å¦‚è¿™ä¸ªpuzzle bbe39134ccc32c08fdeff... GO1STEPFROM\"bbe39134ccc32c08fdeff4d2c19d1d1f4f7e48cdaf79d37397bc3136ce9b3cb7\"\\OVERbelongs_toREVERSELY\\YIELDCASE$$.coin.is_spent\\WHENtrueTHEN$$.coin.amount\\WHENfalseTHEN-$$.coin.amount\\ENDASAmount|YIELDsum($-.Amount) 3.2.2 ç”¨ Nebula Studio å¯è§†åŒ–æ¢ç´¢ Nebula Graph ä¸ºæˆ‘ä»¬æä¾›äº†å›¾å½¢åŒ–ç•Œé¢ï¼Œæœ‰äº†å®ƒï¼Œæˆ‘ä»¬å¯ä»¥ç”¨æ›´ç¬¦åˆäººè„‘çš„æ–¹å¼åœ°æŸ¥çœ‹ Chia Network ä¸­çš„æ•°æ®ã€‚ æ¯”å¦‚ï¼Œæˆ‘ä»¬è¿˜æ˜¯å›åˆ°ä¸Šè¾¹çš„é‚£ä¸ªåŒºå—ï¼Œä»è¿™é‡ŒæŸ¥è¯¢ã€‚ æˆ‘ä»¬å°±è·å¾—äº†è¿™ä¸ª block ç±»å‹çš„ä¸€ä¸ªç‚¹/ vertexã€‚æˆ‘ä»¬å¯ä»¥ä»ä»–å¼€å§‹è¿›ä¸€æ­¥æ¢ç´¢ï¼Œå…ˆé¼ æ ‡å•å‡»è¿™ä¸ªç‚¹ï¼Œåœ¨æ‹“å±•æ¡ä»¶é‡ŒæŠŠæ–¹å‘é€‰æ‹©åŒå‘ï¼Œé»˜è®¤çš„è¾¹ç±»å‹æ˜¯æ‰€æœ‰çš„è¾¹ç±»å‹ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥æŠŠæ‰€æœ‰ æ­¥æ•°å†…ç›¸å…³è”çš„æ•°æ®ä¸€ä¸‹å­å…¨éƒ½æ‰¾å‡ºæ¥ã€‚ é€‰æ‹©å¥½æ‹“å±•æ¡ä»¶ä¹‹åï¼Œç‚¹å‡»æ‹“å±•å°±å¯ä»¥ã€‚ è¿™é‡Œï¼Œæˆ‘ä»¬é€‰æ‹©äº†æ­¥æ•°ä¸º 1ï¼Œç‚¹å‡»æ‹“å±•ï¼ˆæˆ–è€…åŒå‡»è¦æ‹“å±•çš„ç‚¹ï¼‰ï¼Œä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥å¿«é€ŸåŒå‡»å…¶ä»–çš„ç‚¹ç»§ç»­æ‹“å±•ï¼Œè¿™æ˜¯æˆ‘é¼ æ ‡ç‚¹äº†å‡ æ¬¡ä¹‹åçœ‹åˆ°çš„æ ·å­ï¼š æˆ‘ä»¬æ¥ä¸‹æ¥å†è¯•è¯•æ‹“å±•çš„æ­¥æ•°ä¸º 2ï¼Œç‚¹å‡»æ‹“å±•ï¼ˆæˆ–è€…åŒå‡»è¦æ‹“å±•çš„ç‚¹ï¼‰ï¼Œçœ‹èµ·æ¥æ‰¾åˆ°äº†æœ‰æ„æ€çš„ä¿¡æ¯ã€‚ æˆ‘ä»¬çœ‹åˆ°äº†ä¸€ä¸ªæœ‰å¾ˆå¤šè¾¹çš„é»‘è‰²çš„ç‚¹ã€‚ é€šè¿‡æŸ¥çœ‹è¿™ä¸ªç‚¹å’Œæˆ‘ä»¬å¼€å§‹æŸ¥çœ‹çš„ block ä¹‹é—´çš„è¾¹ï¼Œæˆ‘ä»¬çŸ¥é“è¿™ä¸ªç‚¹æ­£æ˜¯ farm è¿™ä¸ª block çš„åœ°å€ï¼Œè¿™ä¸ªåœ°å€ä¸‹è¾¹æœ‰éå¸¸å¤šçš„ coinã€‚ è¿™åªæ˜¯ä¸€ä¸ªå¼€å§‹ï¼Œæœ‰äº†è¿™ä¸ªå¯¼å…¥åˆ° Nebula Graph å›¾æ•°æ®çš„åŸºç¡€ï¼Œæˆ‘ä»¬å¯ä»¥åšå¾ˆå¤šæœ‰æ„æ€çš„åˆ†æå’Œæ´å¯Ÿï¼Œå¤§å®¶å¯ä»¥è‡ªå·±è¯•è¯•çœ‹ï¼Œå¾—åˆ°æ›´æœ‰æ„æ€çš„ç»“æœåˆ†äº«ç»™å…¶ä»–åŒå­¦ã€‚ ","date":"2021-05-26","objectID":"/nebula-chia/:3:2","series":null,"tags":["Nebula Graph","Chia Network"],"title":"ç”¨å›¾æ•°æ®åº“å¯è§†åŒ–æ¢ç´¢ Chia Network åŒºå—é“¾æ•°æ®","uri":"/nebula-chia/#322-ç”¨-nebula-studio-å¯è§†åŒ–æ¢ç´¢"},{"categories":["Nebula Graph"],"content":"4. æ€»ç»“ è¿™ç¯‡æ–‡ç« é‡Œï¼Œåœ¨æˆ‘ä»¬ç®€å•ä»‹ç»äº† Chia Network ä¹‹åï¼Œæˆ‘ä»¬é¦–æ¬¡çš„å¸¦å¤§å®¶ä¸€èµ·ä»å®‰è£…ä¸€ä¸ª Chia ç»ˆç«¯ï¼Œåˆ°åˆ†æç»ˆç«¯åŒæ­¥åˆ°æœ¬åœ°çš„ Chia å…¨ç½‘æ•°æ®ï¼Œå€ŸåŠ©äº Chia ç»ˆç«¯å¼€æºçš„ Python ä»£ç åº“ï¼Œæˆ‘ä»¬åˆ†æäº†å…¨ç½‘æ•°æ®é‡Œçš„é‡è¦ä¿¡æ¯ã€‚ ä¹‹åï¼Œæˆ‘ä»¬å¼€æºäº†ä¸€ä¸ªå°å·¥å…· Nebula-Chiaï¼Œæœ‰äº†å®ƒï¼Œå°±å¯ä»¥æŠŠ Chia çš„å…¨ç½‘æ•°æ®è½¬æ¢æˆ CSV æ ¼å¼ï¼Œè¿™æ ·ï¼Œå°±å¯ä»¥å€ŸåŠ© nebula-importer æŠŠæ‰€æœ‰çš„æ•°æ®å¯¼å…¥åˆ°ä¸€ä¸ªå…ˆè¿›çš„å›¾æ•°æ®åº“ï¼ˆNebula Graphï¼‰ä¸­ã€‚ Nebula Graph çš„é¡¹ç›®åœ°å€æ˜¯ https://github.com/vesoft-inc/nebula-graph Nebula-Chia æˆ‘ä¹Ÿå¼€æºåœ¨ https://github.com/wey-gu/nebula-chia åœ¨å›¾æ•°æ®åº“ä¸­ï¼Œæˆ‘ä»¬å±•ç¤ºäº†åšåŸºæœ¬ Query çš„ä¾‹å­å’Œå€ŸåŠ©å›¾æ•°æ®åº“è‡ªå¸¦çš„å¯è§†åŒ–å·¥å…·ï¼Œæˆ‘ä»¬å¯ä»¥è½»æ˜“åœ°è·å– Chia å…¨ç½‘æ•°æ®ä¹‹é—´å…³è”å…³ç³»ï¼Œæœ‰äº†è¿™ä¸ªä½œä¸ºåŸºç¡€ï¼Œè¿™äº›æ•°æ®ä¸­æ´å¯Ÿçš„æ½œåŠ›å’Œå¯ä»¥å°è¯•çš„æœ‰æ„æ€äº‹æƒ…å¯ä»¥æ¯”è¾ƒç›´è§‚å’Œé«˜æ•ˆåœ°è¿›ä¸€æ­¥æ¢ç´¢äº†ï¼ æ˜¯ä¸æ˜¯å¾ˆé…·ï¼Ÿ ","date":"2021-05-26","objectID":"/nebula-chia/:4:0","series":null,"tags":["Nebula Graph","Chia Network"],"title":"ç”¨å›¾æ•°æ®åº“å¯è§†åŒ–æ¢ç´¢ Chia Network åŒºå—é“¾æ•°æ®","uri":"/nebula-chia/#4-æ€»ç»“"},{"categories":["Nebula Graph"],"content":"5. å¼•ç”¨ https://www.chia.net/faq/ https://chialisp.com/docs/ https://www.chiaexplorer.com/chia-coins https://docs.google.com/document/d/1tmRIb7lgi4QfKkNaxuKOBHRmwbVlGL4f7EsBDr_5xZE https://github.com/sipa/bech32/tree/master/ref/python https://github.com/Chia-Network/chia-blockchain/blob/main/README.md https://www.chia.net/assets/ChiaGreenPaper.pdf https://docs.nebula-graph.com.cn é¢˜å›¾ç‰ˆæƒï¼šIcons8 Team ","date":"2021-05-26","objectID":"/nebula-chia/:5:0","series":null,"tags":["Nebula Graph","Chia Network"],"title":"ç”¨å›¾æ•°æ®åº“å¯è§†åŒ–æ¢ç´¢ Chia Network åŒºå—é“¾æ•°æ®","uri":"/nebula-chia/#5-å¼•ç”¨"},{"categories":null,"content":" Nebula-Siwi Nebula-Siwiï¼ŒåŸºäºå›¾æ•°æ®åº“çš„æ™ºèƒ½é—®ç­”åŠ©æ‰‹ é˜…è¯»å…¨æ–‡ Nebula-Holdshare Nebula-Holdshareï¼Œå›¾æ•°æ®åº“åº”ç”¨ç¤ºä¾‹ï¼šè‚¡æƒå…³ç³»ç©¿é€ é˜…è¯»å…¨æ–‡ Nebula-KIND Nebula-Kindï¼Œæ— éœ€ä¾èµ–ï¼Œä¸€é”®å®‰è£…å°é²œåŸºäº Nebula Operator çš„ K8s Nebula Graph Clusterã€‚æ³¨ï¼š KIND æ˜¯ä¸€ä¸ª K8s çš„ SIGï¼Œä»£è¡¨ K8s in Dockerã€‚ é˜…è¯»å…¨æ–‡ Nebula-Up Nebula-upï¼Œä¸€é”®æ‹‰èµ·ä¸€ä¸ª Nebula æµ‹è¯•ç¯å¢ƒï¼Œæ”¯æŒ mscOSï¼ŒWindows 10ï¼ŒCentOS å’Œ Ubuntuã€‚ é˜…è¯»å…¨æ–‡ VSCode-nGQL VSCode-nGQLï¼ŒNebula Graph çš„ VS Code æ’ä»¶ï¼Œngql è¯­æ³•é«˜äº®ã€‚ é˜…è¯»å…¨æ–‡ Nebula-Chia Nebula-Chiaï¼Œå°† Chia Network å…¨é“¾å¯¼å…¥ Nebula Graph ä¸­çš„æ¢ç´¢åˆ†äº«å’Œè½¬æ¢å·¥å…·ï¼ˆä¸€å¹¶å¼€æºå‡ºæ¥ï¼‰ã€‚ é˜…è¯»å…¨æ–‡ IPython-nGQL Nebula Graph çš„ Jupyter Notebook å’Œ IPython æ’ä»¶ï¼Œæ–¹ä¾¿åœ¨ Notebook ä¹‹ä¸­åµŒå…¥ nGQL çš„ query å’Œ ç»“æœçš„è°ƒè¯•ã€‚ é˜…è¯»å…¨æ–‡ nebula-insights æœ¬æ–‡ä»‹ç»æˆ‘ä»¬å¦‚ä½•ç”¨å…¬æœ‰äº‘ Serverless æŠ€æœ¯ï¼šGoogle Cloud Schedulerï¼ŒGoogle Cloud Functions å’Œ BigQuery æ­å»ºæ•°æ®ç®¡é“ï¼Œæ”¶é›†æ¢ç´¢å¼€æºç¤¾åŒºæ´å¯Ÿã€‚å¹¶å°†å…¨éƒ¨ä»£ç å¼€æºåœ¨ GitHubã€‚ é˜…è¯»å…¨æ–‡ ","date":"2021-05-26","objectID":"/projects/:0:0","series":null,"tags":null,"title":"ä¸ªäººé¡¹ç›®","uri":"/projects/#"},{"categories":null,"content":" Nebula Operator Explained Nebula Graph K8s Operator ä»‹ç» é˜…è¯»å…¨æ–‡ Nebula Config Explained Nebula Graph é…ç½®è¯¦è§£ é˜…è¯»å…¨æ–‡ Nebula Index Demystified Nebula Graph åŸç”Ÿç´¢å¼•è§£è°œ é˜…è¯»å…¨æ–‡ Nebula Data Import Options Nebula Graph æä¾›äº†å¥½å¤šç§æ•°æ®å¯¼å…¥çš„å·¥å…·ï¼Œæˆ‘ä»¬åº”è¯¥å¦‚ä½•é€‰æ‹©å‘¢ï¼Ÿ é˜…è¯»å…¨æ–‡ Nebula Deployment Options Nebula Graph æœ‰å¾ˆå¤šç§åˆ†å‘ã€éƒ¨ç½²æ–¹å¼ï¼Œæˆ‘ä»¬åº”è¯¥å¦‚ä½•é€‰æ‹©å®ƒä»¬å‘¢ï¼Ÿ é˜…è¯»å…¨æ–‡ Nebula Intro æ–°æ‰‹ç©è½¬ Nebula Graph ç³»åˆ—å¼€ç¯‡ã€‚ é˜…è¯»å…¨æ–‡ ","date":"2021-05-26","objectID":"/sketch-notes/:0:0","series":null,"tags":null,"title":"æ‰‹ç»˜ç¬”è®°","uri":"/sketch-notes/#"},{"categories":["sketches"],"content":"Nebula Graph Core Arch.","date":"2021-05-25","objectID":"/sketches/nebula-core-arch/","series":null,"tags":["Nebula Graph","Core"],"title":"Nebula Core Arch","uri":"/sketches/nebula-core-arch/"},{"categories":["sketches"],"content":"Bilibili ä¸Š ä¸‹ ","date":"2021-05-25","objectID":"/sketches/nebula-core-arch/:1:0","series":null,"tags":["Nebula Graph","Core"],"title":"Nebula Core Arch","uri":"/sketches/nebula-core-arch/#bilibili"},{"categories":["sketches"],"content":"Youtube ä¸Š ä¸‹ ","date":"2021-05-25","objectID":"/sketches/nebula-core-arch/:2:0","series":null,"tags":["Nebula Graph","Core"],"title":"Nebula Core Arch","uri":"/sketches/nebula-core-arch/#youtube"},{"categories":["Nebula Graph"],"content":"VSCode-ngql æ˜¯ Nebula Graph çš„ VS Code ä¹‹ä¸­å¯¹ nGQL è¯­æ³•é«˜äº®çš„æ’ä»¶ã€‚","date":"2021-05-05","objectID":"/vscode-ngql/","series":null,"tags":["Nebula Graph","vscode","ngql"],"title":"VSCode-ngqlï¼ŒNebula Graph çš„ VSCode è¯­æ³•é«˜äº®æ’ä»¶ã€‚","uri":"/vscode-ngql/"},{"categories":["Nebula Graph"],"content":" VSCode-ngql æ˜¯ Nebula Graph çš„ VS Code ä¹‹ä¸­å¯¹ nGQL è¯­æ³•é«˜äº®çš„æ’ä»¶ã€‚ æ‚¨å¯ä»¥ä» è¿™é‡Œ ç›´æ¥ä¸‹è½½å®‰è£…è¯•ç”¨ã€‚ ","date":"2021-05-05","objectID":"/vscode-ngql/:0:0","series":null,"tags":["Nebula Graph","vscode","ngql"],"title":"VSCode-ngqlï¼ŒNebula Graph çš„ VSCode è¯­æ³•é«˜äº®æ’ä»¶ã€‚","uri":"/vscode-ngql/#"},{"categories":["Nebula Graph"],"content":"VS Code nGQL Syntax Highlight ","date":"2021-05-05","objectID":"/vscode-ngql/:0:0","series":null,"tags":["Nebula Graph","vscode","ngql"],"title":"VSCode-ngqlï¼ŒNebula Graph çš„ VSCode è¯­æ³•é«˜äº®æ’ä»¶ã€‚","uri":"/vscode-ngql/#vs-code-ngql-syntax-highlight"},{"categories":["Nebula Graph"],"content":"Download Search ngql from the market or click here. ","date":"2021-05-05","objectID":"/vscode-ngql/:1:0","series":null,"tags":["Nebula Graph","vscode","ngql"],"title":"VSCode-ngqlï¼ŒNebula Graph çš„ VSCode è¯­æ³•é«˜äº®æ’ä»¶ã€‚","uri":"/vscode-ngql/#download"},{"categories":["Nebula Graph"],"content":"Features Highlighting all Keywords, Functions of a given .ngql file ","date":"2021-05-05","objectID":"/vscode-ngql/:2:0","series":null,"tags":["Nebula Graph","vscode","ngql"],"title":"VSCode-ngqlï¼ŒNebula Graph çš„ VSCode è¯­æ³•é«˜äº®æ’ä»¶ã€‚","uri":"/vscode-ngql/#features"},{"categories":["Nebula Graph"],"content":"Release Notes ","date":"2021-05-05","objectID":"/vscode-ngql/:3:0","series":null,"tags":["Nebula Graph","vscode","ngql"],"title":"VSCode-ngqlï¼ŒNebula Graph çš„ VSCode è¯­æ³•é«˜äº®æ’ä»¶ã€‚","uri":"/vscode-ngql/#release-notes"},{"categories":["Nebula Graph"],"content":"0.0.1 Initial release, only .ngql Syntax is supported. ","date":"2021-05-05","objectID":"/vscode-ngql/:3:1","series":null,"tags":["Nebula Graph","vscode","ngql"],"title":"VSCode-ngqlï¼ŒNebula Graph çš„ VSCode è¯­æ³•é«˜äº®æ’ä»¶ã€‚","uri":"/vscode-ngql/#001"},{"categories":["Nebula Graph"],"content":"0.0.2 Lower supported vscode version till ^1.50.1 ","date":"2021-05-05","objectID":"/vscode-ngql/:3:2","series":null,"tags":["Nebula Graph","vscode","ngql"],"title":"VSCode-ngqlï¼ŒNebula Graph çš„ VSCode è¯­æ³•é«˜äº®æ’ä»¶ã€‚","uri":"/vscode-ngql/#002"},{"categories":["Nebula Graph"],"content":"Reference https://docs.nebula-graph.com.cn/ https://github.com/vesoft-inc/nebula-graph/blob/master/src/parser/scanner.lex ","date":"2021-05-05","objectID":"/vscode-ngql/:4:0","series":null,"tags":["Nebula Graph","vscode","ngql"],"title":"VSCode-ngqlï¼ŒNebula Graph çš„ VSCode è¯­æ³•é«˜äº®æ’ä»¶ã€‚","uri":"/vscode-ngql/#reference"},{"categories":["Big Data","Cloud"],"content":"æœ¬æ–‡ä»‹ç»æˆ‘ä»¬å¦‚ä½•ç”¨å…¬æœ‰äº‘ Serverless æŠ€æœ¯ï¼šGoogle Cloud Schedulerï¼ŒGoogle Cloud Functions å’Œ BigQuery æ­å»ºæ•°æ®ç®¡é“ï¼Œæ”¶é›†æ¢ç´¢å¼€æºç¤¾åŒºæ´å¯Ÿã€‚å¹¶å°†å…¨éƒ¨ä»£ç å¼€æºåœ¨ GitHubã€‚","date":"2021-05-03","objectID":"/nebula-insights/","series":null,"tags":["Nebula Graph","serverless","Cloud","FaaS"],"title":"Nebula-Insightsï¼Œæˆ‘ä»¬åŸºäº Serverless æ¶æ„çš„æ•°æ®ç®¡é“æ–¹æ¡ˆä¸ä»£ç åˆ†äº«ã€‚","uri":"/nebula-insights/"},{"categories":["Big Data","Cloud"],"content":" è¿™æ˜¯æˆ‘é¦–å‘åœ¨ Datawhale çš„æ–‡ç« ï¼Œä»‹ç»æˆ‘ä»¬å¦‚ä½•ç”¨å…¬æœ‰äº‘ Serverless æŠ€æœ¯ï¼šGoogle Cloud Schedulerï¼ŒGoogle Cloud Functions å’Œ BigQuery æ­å»ºæ•°æ®ç®¡é“ï¼Œæ”¶é›†æ¢ç´¢å¼€æºç¤¾åŒºæ´å¯Ÿã€‚å¹¶å°†å…¨éƒ¨ä»£ç å¼€æºåœ¨ GitHubã€‚ å¼•å­ æˆ‘ä»¬æƒ³è¦æ”¶é›†ä¸€äº›å¸®åŠ© Nebula Graph ç¤¾åŒºè¿è¥çš„ metricsï¼Œå¸Œæœ›èƒ½ä»ä¸åŒæ¥æºçš„æ•°æ®è‡ªåŠ¨åŒ–å‘¨æœŸæ€§æ”¶é›†ã€å¤„ç†ã€å¹¶æ–¹ä¾¿åœ°å±•ç°å‡ºæ¥åšæ•°æ®é©±åŠ¨åˆ†æçš„åŸºç¡€è®¾æ–½ã€‚ Nebula Graph æ˜¯ä¸€ä¸ªç°ä»£çš„å¼€æºåˆ†å¸ƒå¼å›¾æ•°æ®åº“(Graph Database)ï¼Œæ¬¢è¿åŒå­¦ä»¬ä»: å®˜ç½‘: https://nebula-graph.com.cn Bilibili: https://space.bilibili.com/472621355 GitHub:https://github.com/vesoft-inc/nebula-graph äº†è§£æˆ‘ä»¬å“ˆã€‚ ","date":"2021-05-03","objectID":"/nebula-insights/:0:0","series":null,"tags":["Nebula Graph","serverless","Cloud","FaaS"],"title":"Nebula-Insightsï¼Œæˆ‘ä»¬åŸºäº Serverless æ¶æ„çš„æ•°æ®ç®¡é“æ–¹æ¡ˆä¸ä»£ç åˆ†äº«ã€‚","uri":"/nebula-insights/#"},{"categories":["Big Data","Cloud"],"content":"éœ€æ±‚ æ–¹ä¾¿å¢åŠ æ–°çš„æ•°æ® æ•°æ®æ”¶é›†æ— éœ€äººä¸ºè§¦å‘ï¼ˆè‡ªåŠ¨ã€å‘¨æœŸæ€§ï¼‰ æ¯å¤©æ•°æ®é‡ä¸è¶…è¿‡1000æ¡ æ•°æ®å¯ä»¥ç”Ÿæˆ dashboardï¼Œä¹Ÿå¯ä»¥æ”¯æŒç»Ÿè®¡åˆ†æœŸ query é«˜å¯ç”¨ï¼Œæ•°æ®å®‰å…¨ ä½é¢„ç®—ï¼Œå°½å¯èƒ½ä¸éœ€è¦è¿ç»´äººåŠ› ","date":"2021-05-03","objectID":"/nebula-insights/:1:0","series":null,"tags":["Nebula Graph","serverless","Cloud","FaaS"],"title":"Nebula-Insightsï¼Œæˆ‘ä»¬åŸºäº Serverless æ¶æ„çš„æ•°æ®ç®¡é“æ–¹æ¡ˆä¸ä»£ç åˆ†äº«ã€‚","uri":"/nebula-insights/#éœ€æ±‚"},{"categories":["Big Data","Cloud"],"content":"éœ€æ±‚åˆ†æ æˆ‘ä»¬éœ€è¦æ­å»ºä¸€ä¸ªç³»ç»Ÿèƒ½å®ç° ä¸€ä¸ªèƒ½å‘¨æœŸæ€§è§¦å‘è·å–æ•°æ®çš„äº‹ä»¶çš„æœåŠ¡: scheduler ä¸€ä¸ªè§¦å‘ä¹‹åï¼ŒæŠŠæ•°æ® ETL åˆ°æ•°æ®åº“ä¸­çš„æœåŠ¡: ETL worker ä¸€ä¸ªæ•°æ®ä»“åº“ ä¸€ä¸ªèƒ½å¤ŸæŠŠæ•°æ®åº“ä½œä¸ºæºï¼Œå…è®¸ç”¨æˆ· queryï¼Œå±•ç¤ºæ•°æ®çš„ç•Œé¢: Data-UI è¿™ä¸ªéœ€æ±‚çš„ç‰¹ç‚¹æ˜¯è™½ç„¶æ•°æ®é‡å¾ˆå°ã€ä½†æ˜¯è¦æ±‚æœåŠ¡é«˜å¯ç”¨ã€å®‰å…¨ã€‚å› ä¸ºè¿™ç§æƒ…å†µä¸‹è‡ªå»ºæœåŠ¡å™¨è¿˜éœ€è¦ä¿è¯HAå’Œæ•°æ®å®‰å…¨ä¼šä¸€å®šä¼šæ¶ˆè€—æ˜‚è´µè¿ç»´äººåŠ›ï¼Œæ‰€ä»¥æˆ‘ä»¬åº”è¯¥å°½é‡é¿å…åœ¨è‡ªå·±ç»´æŠ¤çš„æœåŠ¡å™¨ä¸­æ­å»º scheduler, å’Œæ•°æ®åº“ã€‚ æœ€ç»ˆï¼Œæˆ‘ä»¬é€‰æ‹©äº†å°½é‡ä½¿ç”¨å…¬æœ‰äº‘çš„ aaS çš„æ–¹æ¡ˆ: â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚ Google Cloud Scheduler â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º GitHub API Server â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ Google Cloud Functions â”œâ”€â”€â”€â”¤ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚ â”‚ â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Docker Hub API Server â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ Google BigQuery â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º ... â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Aliyun OSS API â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ Google Data Studio â”‚ â”‚ â”Œâ”€â”€â” â”‚ â”‚ â”Œâ”€â”€â” â”‚ â”‚ â”Œâ”€â”€â” â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â””â”€â”€â”´â”€â”€â”´â”€â”´â”€â”€â”´â”€â”´â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜ å› ä¸ºæˆ‘ä¸ªäººæ¯”è¾ƒç†Ÿæ‚‰ Google Cloud Platform(GCP)çš„åŸå› ï¼ŒåŠ ä¸ŠGCPåœ¨å¤§æ•°æ®å¤„ç†ä¸Šæ¯”è¾ƒé¢†å…ˆï¼Œå†åŠ ä¸ŠGoogleæä¾›çš„ free tieré¢åº¦éå¸¸å¤§æ–¹ï¼Œä»¥è‡³äºåœ¨æˆ‘ä»¬è¿™ä¸ªæ•°æ®é‡ä¸‹ï¼Œæ‰€æœ‰workloadéƒ½ä¼šæ˜¯å…è´¹çš„ã€‚ è¿™ä¸ªæ–¹æ¡ˆæœ€åé€‰æ‹©äº†å…¨æ ˆ Google Cloudï¼Œç„¶è€Œï¼Œè¿™å®é™…ä¸Šåªæ˜¯ä¸€ä¸ªå‚è€ƒï¼ŒåŒå­¦ä»¬å®Œå…¨å¯ä»¥åœ¨å…¶ä»–å…¬æœ‰äº‘æä¾›å•†é‚£é‡Œæ‰¾åˆ°å¯¹åº”çš„æœåŠ¡ã€‚ è¿™é‡Œæˆ‘ç®€å•ä»‹ç»ä¸€ä¸‹ï¼Œ Google Cloud Scheduleræ˜¯è‡ªè§£é‡Šçš„ï¼Œä¸ç”¨å¤šä»‹ç»äº†ã€‚ è€Œ Google Cloud Functionsæ˜¯GCPçš„æ— æœåŠ¡å™¨(serverless)çš„ Function as a ServiceæœåŠ¡ï¼Œå®ƒçš„å¥½å¤„æ˜¯æˆ‘ä»¬å¯ä»¥æŠŠæ— çŠ¶æ€çš„ event-driven çš„ workload ä»£ç æ”¾ä¸Šå»ï¼Œå®ƒæ˜¯æŒ‰éœ€ä»˜è´¹ï¼ˆpay as you go)çš„ï¼Œç±»ä¼¼çš„æœåŠ¡è¿˜æœ‰ Google Cloud Runï¼Œåè€…çš„åŒºåˆ«åœ¨äºæˆ‘ä»¬æä¾›çš„æ˜¯ä¸€ä¸ªdocker/containerï¼ˆè¿™ä½¿å¾—èƒ½æ”¯æŒçš„è¿è¡Œç¯å¢ƒå¯ä»¥ä½¿ä»»ä½•èƒ½è·‘åœ¨å®¹å™¨é‡Œçš„ä¸œè¥¿ï¼‰ï¼Œè€Œ Cloud Functionsæ˜¯æŠŠæˆ‘ä»¬çš„ä»£ç æ–‡ä»¶æ”¾ä¸Šå»ã€‚ä»–ä»¬çš„æ•ˆæœæ˜¯ç±»ä¼¼çš„ï¼Œå› ä¸ºæˆ‘å‡†å¤‡ç”¨Pythonæ¥åš ETLçš„ä¸œè¥¿ï¼ŒClouf Functionså·²ç»æ”¯æŒäº†ï¼Œæˆ‘å°±ç›´æ¥é€‰æ‹©å®ƒäº†ã€‚ åœ¨scheduleré‡Œè¾¹ï¼Œæˆ‘å®šä¹‰äº†æ¯ä¸€å¤©å®ƒå‘ä¸€ä¸ª pub/subï¼ˆç±»ä¼¼äºkafkaï¼Œè¿™é‡Œgoogleå¯ä»¥ä¿è¯è‡³å°‘å‘æˆåŠŸä¸€æ¬¡ï¼‰æ¶ˆæ¯ç»™ Cloud Functionsï¼Œç„¶å Cloud Functionsä¼šå»åš ETLçš„å·¥ä½œã€‚ è¿™é‡Œï¼Œå®é™…ä¸Šæˆ‘çš„è®¾è®¡é‡Œè¿™ä¸ªè§¦å‘çš„å‡½æ•°è°ƒä¼šæŠŠæ•°æ®ä»APIé‚£é‡Œè·å–ä¸‹æ¥ï¼Œåœ¨å†…å­˜é‡Œå¤„ç†å¥½ä¹‹åï¼Œå­˜å‚¨åˆ°åœ¨å¯¹è±¡å­˜å‚¨é‡Œä¸º JSON æ–‡ä»¶ï¼Œç„¶åå†è°ƒç”¨ Google BigQuery çš„ APIè®© BigQueryç›´æ¥ä»å¯¹å¯¹è±¡å­˜å‚¨é‡Œæ‹‰å– JSON æ–‡ä»¶ï¼Œå¯¼å…¥è®°å½•åˆ°ç›¸åº”çš„è¡¨ä¹‹ä¸­ã€‚ Google BigQuery ä½œä¸ºGCP ç‰¹åˆ«æœ‰ç«äº‰åŠ›çš„ä¸€ä¸ªäº§å“ï¼Œæ˜¯å®ƒæ•°æ®ä»“åº“ï¼ŒBigQuery å¯ä»¥æ— é™æ‰©å®¹ï¼Œæ”¯æŒæµ·é‡æ•°æ®å¯¼å…¥ï¼Œæ”¯æŒ SQL-like çš„ queryï¼Œè¿˜è‡ªå¸¦MLç®—æ³•ï¼Œé€šè¿‡SQLå°±èƒ½è°ƒç”¨è¿™äº›ç®—æ³•ã€‚å®ƒå¯ä»¥å’Œå¾ˆå¤šGCPä»¥åŠç¬¬ä¸‰æ–¹çš„ç»„ä»¶å¯ä»¥é›†æˆèµ·æ¥ã€‚ Google Data Studio æ˜¯GCPçš„æ•°æ® Insightsäº§å“ï¼Œå¦‚æœå¤§å®¶ç”¨è¿‡ Google Analytics åº”è¯¥å·²ç»ç”¨è¿‡å®ƒäº†ã€‚ ","date":"2021-05-03","objectID":"/nebula-insights/:1:1","series":null,"tags":["Nebula Graph","serverless","Cloud","FaaS"],"title":"Nebula-Insightsï¼Œæˆ‘ä»¬åŸºäº Serverless æ¶æ„çš„æ•°æ®ç®¡é“æ–¹æ¡ˆä¸ä»£ç åˆ†äº«ã€‚","uri":"/nebula-insights/#éœ€æ±‚åˆ†æ"},{"categories":["Big Data","Cloud"],"content":"æ•°æ®çš„è·å–ï¼ŒAPI æˆ‘ä»¬ç¬¬ä¸€é˜¶æ®µæƒ³è¦æ”¶é›†çš„æ•°æ®æ¥æºæ˜¯ GitHub ä¸Šï¼Œç¤¾åŒºé¡¹ç›®çš„ç»Ÿè®¡æ•°æ®ã€Docker Hubä¸Šï¼Œç¤¾åŒºé•œåƒçš„æ‹‰å–è®¡æ•°ï¼Œä¹‹åï¼Œä¼šå¢åŠ æ›´å¤šç»´åº¦çš„æ•°æ®ã€‚ Github API, ref: https://pygithub.readthedocs.io è¿™é‡Œæˆ‘ä»¬åˆ©ç”¨äº†ä¸€ä¸ªGithub APIçš„ä¸€ä¸ª Python å°è£…ï¼Œä¸‹è¾¹æ˜¯åœ¨ IDLE/iPython/Jupyter é‡Œå°è¯•çš„ä¾‹å­ # å®ä¾‹åŒ–ä¸€ä¸ªclient g = Github(login_or_token=token, timeout=60, retry=Retry( total=10, status_forcelist=(500, 502, 504), backoff_factor=0.3)) # é…ç½®å¥½è¦è·å–çš„repoçš„ä¿¡æ¯ org_str = \"vesoft-inc\" org = g.get_organization(org_str) repos = org.get_repos() # è¿™é‡Œreposæ˜¯ä¸€ä¸ªè¿­ä»£å™¨ï¼Œæ–¹ä¾¿çœ‹åˆ°é‡Œè¾¹çš„ä¸œè¥¿ï¼Œæˆ‘ä»¬æŠŠå®ƒ list ä¸€ä¸‹å¯ä»¥çœ‹åˆ°æ‰€æœ‰çš„repo: list(repos) [Repository(full_name=\"vesoft-inc/nebula\"), Repository(full_name=\"vesoft-inc/nebula-docs\"), Repository(full_name=\"vesoft-inc/nebula-dev-docker\"), Repository(full_name=\"vesoft-inc/github-statistics\"), Repository(full_name=\"vesoft-inc/nebula-docker-compose\"), Repository(full_name=\"vesoft-inc/nebula-go\"), Repository(full_name=\"vesoft-inc/nebula-java\"), Repository(full_name=\"vesoft-inc/nebula-python\"), Repository(full_name=\"vesoft-inc/nebula-importer\"), Repository(full_name=\"vesoft-inc/nebula-third-party\"), Repository(full_name=\"vesoft-inc/nebula-storage\"), Repository(full_name=\"vesoft-inc/nebula-graph\"), Repository(full_name=\"vesoft-inc/nebula-common\"), Repository(full_name=\"vesoft-inc/nebula-stats-exporter\"), Repository(full_name=\"vesoft-inc/nebula-web-docker\"), Repository(full_name=\"vesoft-inc/nebula-bench\"), Repository(full_name=\"vesoft-inc/nebula-console\"), Repository(full_name=\"vesoft-inc/nebula-docs-cn\"), Repository(full_name=\"vesoft-inc/nebula-chaos\"), Repository(full_name=\"vesoft-inc/nebula-clients\"), Repository(full_name=\"vesoft-inc/nebula-spark-utils\"), Repository(full_name=\"vesoft-inc/nebula-node\"), Repository(full_name=\"vesoft-inc/nebula-rust\"), Repository(full_name=\"vesoft-inc/nebula-cpp\"), Repository(full_name=\"vesoft-inc/nebula-http-gateway\"), Repository(full_name=\"vesoft-inc/nebula-flink-connector\"), Repository(full_name=\"vesoft-inc/nebula-community\"), Repository(full_name=\"vesoft-inc/nebula-br\"), Repository(full_name=\"vesoft-inc/.github\")] # repo0 æ˜¯ vesoft-inc/nebula è¿™ä¸ªrepoï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ get_clones_trafficï¼Œget_views_traffic æ¥è·å–è¿‡å»åå‡ å¤©çš„ cloneï¼Œview ç»Ÿè®¡ In [16]: repo0.get_clones_traffic() Out[16]: {'count': 362, 'uniques': 150, 'clones': [Clones(uniques=5, timestamp=2021-04-06 00:00:00, count=16), Clones(uniques=8, timestamp=2021-04-07 00:00:00, count=23), Clones(uniques=13, timestamp=2021-04-08 00:00:00, count=30), Clones(uniques=33, timestamp=2021-04-09 00:00:00, count=45), Clones(uniques=2, timestamp=2021-04-10 00:00:00, count=13), Clones(uniques=6, timestamp=2021-04-11 00:00:00, count=19), Clones(uniques=15, timestamp=2021-04-12 00:00:00, count=28), Clones(uniques=40, timestamp=2021-04-13 00:00:00, count=54), Clones(uniques=9, timestamp=2021-04-14 00:00:00, count=21), Clones(uniques=10, timestamp=2021-04-15 00:00:00, count=34), Clones(uniques=10, timestamp=2021-04-16 00:00:00, count=23), Clones(uniques=5, timestamp=2021-04-17 00:00:00, count=17), Clones(uniques=2, timestamp=2021-04-18 00:00:00, count=13), Clones(uniques=9, timestamp=2021-04-19 00:00:00, count=23), Clones(uniques=3, timestamp=2021-04-20 00:00:00, count=3)]} In [17]: repo0.get_views_traffic() Out[17]: {'count': 6019, 'uniques': 1134, 'views': [View(uniques=52, timestamp=2021-04-06 00:00:00, count=169), View(uniques=143, timestamp=2021-04-07 00:00:00, count=569), View(uniques=152, timestamp=2021-04-08 00:00:00, count=635), View(uniques=134, timestamp=2021-04-09 00:00:00, count=648), View(uniques=81, timestamp=2021-04-10 00:00:00, count=318), View(uniques=42, timestamp=2021-04-11 00:00:00, count=197), View(uniques=127, timestamp=2021-04-12 00:00:00, count=515), View(uniques=149, timestamp=2021-04-13 00:00:00, count=580), View(uniques=134, timestamp=2021-04-14 00:00:00, count=762), View(uniques=141, timestamp=2021-04-15 00:00:00, count=385), View(uniques=113, timestamp=2021-04-16 00:00:00, count=284), View(uniques=48, timestamp=2021-04-17 00:00:00, count=168), View(uniques=35, timestamp=2021-04-18 00:00:00, count=135), View(uniques=124, timestamp=2021-04-19 00:00:00, count=","date":"2021-05-03","objectID":"/nebula-insights/:1:2","series":null,"tags":["Nebula Graph","serverless","Cloud","FaaS"],"title":"Nebula-Insightsï¼Œæˆ‘ä»¬åŸºäº Serverless æ¶æ„çš„æ•°æ®ç®¡é“æ–¹æ¡ˆä¸ä»£ç åˆ†äº«ã€‚","uri":"/nebula-insights/#æ•°æ®çš„è·å–api"},{"categories":["Big Data","Cloud"],"content":"å®ç° ","date":"2021-05-03","objectID":"/nebula-insights/:2:0","series":null,"tags":["Nebula Graph","serverless","Cloud","FaaS"],"title":"Nebula-Insightsï¼Œæˆ‘ä»¬åŸºäº Serverless æ¶æ„çš„æ•°æ®ç®¡é“æ–¹æ¡ˆä¸ä»£ç åˆ†äº«ã€‚","uri":"/nebula-insights/#å®ç°"},{"categories":["Big Data","Cloud"],"content":"è®¡åˆ’ä»»åŠ¡è°ƒåº¦ with Cloud Scheduler å‰è¾¹æåˆ°ï¼ŒScheduler --\u003e Functions ä¸­é—´æ˜¯é€šè¿‡æ¶ˆæ¯é˜Ÿåˆ—å®ç°çš„å¯é äº‹ä»¶è§¦å‘ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ Google Cloud Pub/Subé‡Œåˆ›å»ºä¸€ä¸ªè®¢é˜…æ¶ˆæ¯ï¼Œåè¾¹æˆ‘ä»¬ä¼šæŠŠè¿™ä¸ªè®¢é˜…æ¶ˆæ¯ä» Scheduler å®šæœŸå‘é€ï¼Œå¹¶ä¸”åœ¨ Functionåˆ›å»ºçš„æ—¶å€™å®šä¹‰ä¸ºè§¦å‘æ¡ä»¶ã€‚ $ gcloud pubsub topics create nebula-insights-cron-topic $ gcloud pubsub subscriptions create cron-sub --topic nebula-insights-cron-topic ä»»åŠ¡çš„åˆ›å»ºéå¸¸ç›´æ¥ï¼Œåœ¨ Scheduler Web Console ä¸Šç›´æ¥å›¾å½¢åŒ–æ“ä½œå°±å¯ä»¥äº†ï¼Œè®°å¾—è¦é€‰æ‹©è§¦å‘ Pub/Sub æ¶ˆæ¯ä¸º cron-subï¼Œæ¶ˆæ¯ä¸»é¢˜ä¸º nebula-insights-cron-topic ","date":"2021-05-03","objectID":"/nebula-insights/:2:1","series":null,"tags":["Nebula Graph","serverless","Cloud","FaaS"],"title":"Nebula-Insightsï¼Œæˆ‘ä»¬åŸºäº Serverless æ¶æ„çš„æ•°æ®ç®¡é“æ–¹æ¡ˆä¸ä»£ç åˆ†äº«ã€‚","uri":"/nebula-insights/#è®¡åˆ’ä»»åŠ¡è°ƒåº¦-with-cloud-scheduler"},{"categories":["Big Data","Cloud"],"content":"ETL Worker with Python + Google Functions å½“ Scheduler æ¯å¤©å®šæ—¶å‘é€æ¶ˆæ¯ä¹‹åï¼Œæ¥æ”¶æ–¹å°±æ˜¯æˆ‘ä»¬è¦å®šä¹‰çš„ Google Functionsäº†ï¼Œå®ƒçš„å®šä¹‰å¦‚å›¾ ç¬¬ä¸€æ­¥ï¼Œé€‰æ‹©å®ƒçš„è§¦å‘ç±»å‹ä¸º Pub/Subï¼ŒåŒæ—¶è¦å®šä¹‰æ¶ˆæ¯çš„ä¸»é¢˜å’Œåå­—ã€‚ ç¬¬äºŒæ­¥å°±æ˜¯æŠŠä»£ç æ”¾è¿›å»: â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º GitHub API Server â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ Google Cloud Functions â—„â”€â”€â”€â–º â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚ â”‚ â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Docker Hub API Server â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ Google Cloud Storage â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ ... â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Aliyun OSS API â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ Google BigQuery â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ è¿™éƒ¨åˆ†çš„é€»è¾‘å°±æ˜¯é€šè¿‡å‰è¾¹åˆ†æäº†çš„APIå–å¾—ä¿¡æ¯ï¼Œç„¶åç»„è£…æˆéœ€è¦çš„æ ¼å¼å­˜åˆ° Cloud Storage(å¯¹è±¡å­˜å‚¨ï¼‰ï¼Œç„¶åå†å¯¼å…¥åˆ° BigQueryï¼ˆæ•°ä»“ï¼‰ä¹‹ä¸­ï¼Œå…¨éƒ¨ä»£ç åœ¨GitHubä¸Š: https://github.com/wey-gu/nebula-insights/blob/main/functions/data-fetching-0/main.py å¦å¤–ï¼Œå¯ä»¥å‚è€ƒè¿™ä¸ªå®˜æ–¹æ•™ç¨‹ https://cloud.google.com/scheduler/docs/tut-pub-sub ","date":"2021-05-03","objectID":"/nebula-insights/:2:2","series":null,"tags":["Nebula Graph","serverless","Cloud","FaaS"],"title":"Nebula-Insightsï¼Œæˆ‘ä»¬åŸºäº Serverless æ¶æ„çš„æ•°æ®ç®¡é“æ–¹æ¡ˆä¸ä»£ç åˆ†äº«ã€‚","uri":"/nebula-insights/#etl-worker-with-python--google-functions"},{"categories":["Big Data","Cloud"],"content":"æ•°ä»“è¡¨ç»“æ„å®šä¹‰ æ•°ä»“çš„è¡¨ç»“æ„æ¯”è¾ƒç›´æ¥ï¼Œschemaçš„å›¾è´´åœ¨ä¸‹è¾¹äº†ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒBigQueryæ”¯æŒåµŒå¥—çš„è¡¨ç»“æ„ï¼ˆè€Œä¸åƒä¸€èˆ¬å…³ç³»å‹æ•°æ®åº“é‚£æ ·éœ€è¦æŠŠè¿™æ ·çš„é€»è¾‘ç»“æ„ç”¨è¾…åŠ©è¡¨æ¥è¡¨ç¤ºï¼‰ï¼Œåœ¨æˆ‘ä»¬è¿™ä¸ªåœºæ™¯ä¸‹éå¸¸æ–¹ä¾¿ï¼Œæ¯”å¦‚releaseè¡¨ä¸­çš„ assetsçš„ä¸‰ä¸ªåµŒå¥—å­—æ®µã€‚ æ›´è¯¦ç»†çš„ä¿¡æ¯å¯ä»¥å‚è€ƒGitHubä¸Šçš„ä»‹ç»å’Œä»£ç : https://github.com/wey-gu/nebula-insights#data-etl-bigquery-and-gcs ","date":"2021-05-03","objectID":"/nebula-insights/:2:3","series":null,"tags":["Nebula Graph","serverless","Cloud","FaaS"],"title":"Nebula-Insightsï¼Œæˆ‘ä»¬åŸºäº Serverless æ¶æ„çš„æ•°æ®ç®¡é“æ–¹æ¡ˆä¸ä»£ç åˆ†äº«ã€‚","uri":"/nebula-insights/#æ•°ä»“è¡¨ç»“æ„å®šä¹‰"},{"categories":["Big Data","Cloud"],"content":"æ•°æ®å¯è§†åŒ– åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬å°±å¯ä»¥è‡ªåŠ¨åœ¨BigQueryé‡Œå­˜æœ‰æ¯å¤©æ”¶é›†çš„ä¸åŒæ¥æºçš„ç»Ÿè®¡æ•°æ®å•¦ï¼Œæœ‰äº†å®ƒï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ© Data Studio æ¥ç”Ÿæˆå„å¼å„æ ·çš„å¯è§†åŒ–è¡¨ç¤ºã€‚ å‚è€ƒ https://cloud.google.com/bigquery/docs/visualize-data-studio ","date":"2021-05-03","objectID":"/nebula-insights/:2:4","series":null,"tags":["Nebula Graph","serverless","Cloud","FaaS"],"title":"Nebula-Insightsï¼Œæˆ‘ä»¬åŸºäº Serverless æ¶æ„çš„æ•°æ®ç®¡é“æ–¹æ¡ˆä¸ä»£ç åˆ†äº«ã€‚","uri":"/nebula-insights/#æ•°æ®å¯è§†åŒ–"},{"categories":["Big Data","Cloud"],"content":"æ€»ç»“ è¿™æ ·ï¼Œæˆ‘ä»¬å®é™…ä¸Šä¸éœ€è¦ä»»ä½•è®¤ä¸ºç»´æŠ¤çš„æˆæœ¬å’ŒæŠ•å…¥ï¼Œå°±æ­å»ºäº†ä¸€æ•´ä¸ªæ•°æ®çš„æµæ°´çº¿ï¼Œå¹¶ä¸”åªéœ€è¦æŒ‰ç…§æ•°æ®ç”¨é‡ä»˜è´¹ï¼Œåœ¨æˆ‘ä»¬çš„æ•°æ®é‡ä¸‹ï¼ŒåŠæ—¶è€ƒè™‘æœªæ¥å¢åŠ æ•°åä¸ªæ–°çš„é‡åº¦çš„æ”¶é›†ï¼Œæˆ‘ä»¬ä¾ç„¶æ²¡æœ‰è¾¾åˆ°éœ€è¦ä»˜è´¹çš„ç”¨é‡ï¼Œæ˜¯ä¸æ˜¯å¾ˆCoolï¼Ÿ å› ä¸ºæ•°æ®åŒæ—¶å­˜åœ¨äºå¯¹è±¡å­˜å‚¨ä¸æ•°ä»“é‡Œï¼Œæˆ‘ä»¬å¯ä»¥æ–¹ä¾¿éšæ—¶æŠŠæ•°æ®å¯¼å…¥ä»»æ„å…¶ä»–å¹³å°ä¸Šã€‚ BigQueryè¿˜æœ‰ä¸€äº›éå¸¸å¸¸ç”¨çš„ï¼Œè‡ªå¸¦çš„æœºå™¨å­¦ä¹ çš„åŠŸèƒ½ï¼Œåªéœ€è¦å†™ä¸€ä¸ªSQL-Likeçš„queryå°±èƒ½è§¦å‘ç„¶åè·å¾—é¢„æµ‹ç»“æœï¼Œå¦‚æœæˆ‘ä»¬ç”¨åˆ°è¿™äº›åŠŸèƒ½çš„è¯ä¹Ÿä¼šå›åˆ° datawhale ä¸ºåŒå­¦ä»¬ç»§ç»­åˆ†äº«å“ˆã€‚ ç¬¬ä¸€æ¬¡åšæ•°æ®å·¥ç¨‹æ–¹é¢çš„åˆ†äº«ï¼Œå¦‚æœæœ‰é”™è¯¯çš„åœ°æ–¹æ¬¢è¿å¤§å®¶ä¸åæŒ‡å‡ºå“ˆ~~ è°¢è°¢ï¼ ","date":"2021-05-03","objectID":"/nebula-insights/:3:0","series":null,"tags":["Nebula Graph","serverless","Cloud","FaaS"],"title":"Nebula-Insightsï¼Œæˆ‘ä»¬åŸºäº Serverless æ¶æ„çš„æ•°æ®ç®¡é“æ–¹æ¡ˆä¸ä»£ç åˆ†äº«ã€‚","uri":"/nebula-insights/#æ€»ç»“"},{"categories":["Nebula Graph"],"content":"Nebula-upï¼Œä¸€é”®æ‹‰èµ·ä¸€ä¸ª Nebula æµ‹è¯•ç¯å¢ƒï¼Œæ”¯æŒ mscOSï¼ŒWindows 10ï¼ŒCentOS å’Œ Ubuntuã€‚","date":"2021-04-26","objectID":"/nebula-up/","series":null,"tags":["Nebula Graph","nebula-up"],"title":"Nebula-Upï¼Œä¸€é”®æ‹‰èµ·ä¸€ä¸ª Nebula æµ‹è¯•ç¯å¢ƒ","uri":"/nebula-up/"},{"categories":["Nebula Graph"],"content":" Nebula-up å¯ä»¥ä¸€é”®æ‹‰èµ·ä¸€ä¸ª Nebula æµ‹è¯•ç¯å¢ƒï¼Œæ”¯æŒ mscOSï¼ŒWindows 10ï¼ŒCentOS å’Œ Ubuntuã€‚ Nebula-Up is PoC utility to enable developer to bootstrap an nebula-graph cluster with nebula-graph-studio(Web UI) + nebula-graph-console(Command UI) ready out of box in an oneliner run. All required packages will handled with nebula-up as well, including Docker on Linux(Ubuntu/CentOS), Docker Desktop on macOS(including both Intel and M1 chip based), and Docker Desktop Windows. Also, itâ€™s optimized to leverage China Repo Mirrors(docker, brew, gitee, etcâ€¦) in case needed enable a smooth deployment for both Mainland China users and others. macOS and Linux with Shell: curl -fsSL nebula-up.siwei.io/install.sh | bash Windows with PowerShell(Working In Progress): iwr nebula-up.siwei.io/install.ps1 -useb | iex TBD: Finished Windows(Docker Desktop instead of the WSL 1\u00262 in initial phase) part, leveraging chocolatey package manager as homebrew was used in macOS Fully optimized for CN users, for now, git/apt/yum repo were not optimised, newly installed docker repo, brew repo were automatically optimised for CN internet access With nebula-graph version specification support, now itâ€™s hardcoded in 2.0.0-GA With uninstall/cleanup support Packaging similar content into homebrew/chocolatey? CI/UT ","date":"2021-04-26","objectID":"/nebula-up/:0:0","series":null,"tags":["Nebula Graph","nebula-up"],"title":"Nebula-Upï¼Œä¸€é”®æ‹‰èµ·ä¸€ä¸ª Nebula æµ‹è¯•ç¯å¢ƒ","uri":"/nebula-up/#"},{"categories":["Nebula Graph"],"content":"Nebula Graph çš„ Jupyter Notebook å’Œ IPython æ’ä»¶ï¼Œæ–¹ä¾¿åœ¨ Notebook ä¹‹ä¸­åµŒå…¥ nGQL çš„ query å’Œ ç»“æœçš„è°ƒè¯•ã€‚","date":"2021-03-07","objectID":"/ipython-ngql/","series":null,"tags":["Nebula Graph","iPython","Jupyter"],"title":"IPython-nGQL, Nebula Graph çš„ Jupyter æ’ä»¶","uri":"/ipython-ngql/"},{"categories":["Nebula Graph"],"content":" Nebula Graph çš„ Jupyter Notebook å’Œ IPython æ’ä»¶ï¼Œæ–¹ä¾¿åœ¨ Notebook ä¹‹ä¸­åµŒå…¥ nGQL çš„ query å’Œ ç»“æœçš„è°ƒè¯•ã€‚ ipython-ngql is a python package to extend the ability to connect Nebula Graph from your Jupyter Notebook or iPython. Itâ€™s easier for data scientists to create, debug and share reusable and all-in-one Jupyter Notebooks with Nebula Graph interaction embedded. ipython-ngql is inspired by ipython-sql created by Catherine Devlin ","date":"2021-03-07","objectID":"/ipython-ngql/:0:0","series":null,"tags":["Nebula Graph","iPython","Jupyter"],"title":"IPython-nGQL, Nebula Graph çš„ Jupyter æ’ä»¶","uri":"/ipython-ngql/#"},{"categories":["Nebula Graph"],"content":"Get Started ","date":"2021-03-07","objectID":"/ipython-ngql/:1:0","series":null,"tags":["Nebula Graph","iPython","Jupyter"],"title":"IPython-nGQL, Nebula Graph çš„ Jupyter æ’ä»¶","uri":"/ipython-ngql/#get-started"},{"categories":["Nebula Graph"],"content":"Installation ipython-ngql could be installed either via pip or from this git repo itself. Install via pip pip install ipython-ngql Install inside the repo git clone git@github.com:wey-gu/ipython-ngql.git cd ipython-ngql python setup.py install ","date":"2021-03-07","objectID":"/ipython-ngql/:1:1","series":null,"tags":["Nebula Graph","iPython","Jupyter"],"title":"IPython-nGQL, Nebula Graph çš„ Jupyter æ’ä»¶","uri":"/ipython-ngql/#installation"},{"categories":["Nebula Graph"],"content":"Load it in Jupyter Notebook or iPython %load_ext ngql ","date":"2021-03-07","objectID":"/ipython-ngql/:1:2","series":null,"tags":["Nebula Graph","iPython","Jupyter"],"title":"IPython-nGQL, Nebula Graph çš„ Jupyter æ’ä»¶","uri":"/ipython-ngql/#load-it-in-jupyter-notebook-or-ipython"},{"categories":["Nebula Graph"],"content":"Connect to Nebula Graph Arguments as below are needed to connect a Nebula Graph DB instance: Argument Description --address or -addr IP address of the Nebula Graph Instance --port or -P Port number of the Nebula Graph Instance --user or -u User name --password or -p Password Below is an exmple on connecting to 127.0.0.1:9669 with username: â€œuserâ€ and password: â€œpasswordâ€. %ngql --address 127.0.0.1 --port 9669 --user user --password password ","date":"2021-03-07","objectID":"/ipython-ngql/:1:3","series":null,"tags":["Nebula Graph","iPython","Jupyter"],"title":"IPython-nGQL, Nebula Graph çš„ Jupyter æ’ä»¶","uri":"/ipython-ngql/#connect-to-nebula-graph"},{"categories":["Nebula Graph"],"content":"Make Queries Now two kind of iPtython Magics are supported: Option 1: The one line stype with %ngql: %ngql GO FROM \"Tom\" OVER owns_pokemon YIELD owns_pokemon._dst as pokemon_id; Option 2: The multiple lines stype with %%ngql %%ngql USE pokemon_club; SHOW TAGS; SHOW HOSTS; There will be other options in future, i.e. from a .ngql file. ","date":"2021-03-07","objectID":"/ipython-ngql/:1:4","series":null,"tags":["Nebula Graph","iPython","Jupyter"],"title":"IPython-nGQL, Nebula Graph çš„ Jupyter æ’ä»¶","uri":"/ipython-ngql/#make-queries"},{"categories":["Nebula Graph"],"content":"Query String with Variables ipython-ngql supports taking variables from the local namespace, with the help of Jinja2 template framework, itâ€™s supported to have queries like the below example. The actual query string should be GO FROM \"Sue\" OVER owns_pokemon ..., and \"{{ trainer }}\" was renderred as \"Sue\" by consuming the local variable trainer: In [8]: trainer = \"Sue\" In [9]: %%ngql ...: GO FROM \"{{ trainer }}\" OVER owns_pokemon YIELD owns_pokemon._dst as pokemon_id | GO FROM $-.pokemon_id OVER owns_pokemon REVERSELY YIELD owns_pokemon._dst AS Trainer_Name; ...: Out[9]: Trainer_Name 0 Jerry 1 Sue 2 Tom 3 Wey ","date":"2021-03-07","objectID":"/ipython-ngql/:1:5","series":null,"tags":["Nebula Graph","iPython","Jupyter"],"title":"IPython-nGQL, Nebula Graph çš„ Jupyter æ’ä»¶","uri":"/ipython-ngql/#query-string-with-variables"},{"categories":["Nebula Graph"],"content":"Configure ngql_result_style By default, ipython-ngql will use pandas dataframe as output style to enable more human readable output, while itâ€™s supported to use the raw thrift data format comes from the nebula2-python itself. This can be done ad-hoc with below one line: %config IPythonNGQL.ngql_result_style=\"raw\" After above line being executed, the output will be like: ResultSet(ExecutionResponse( error_code=0, latency_in_us=2844, data=DataSet( column_names=[b'Trainer_Name'], rows=[Row( values=[Value( sVal=b'Tom')]), Row( values=[Value( sVal=b'Jerry')]), Row( values=[Value( sVal=b'Sue')]), Row( values=[Value( sVal=b'Tom')]), Row( values=[Value( sVal=b'Wey')])]), space_name=b'pokemon_club')) The result are always stored in variable _ in Jupyter Notebook, thus, to tweak the result, just refer a new var to it like: In [10]: %config IPythonNGQL.ngql_result_style=\"raw\" In [11]: %%ngql USE pokemon_club; ...: GO FROM \"Tom\" OVER owns_pokemon YIELD owns_pokemon._dst as pokemon_id ...: | GO FROM $-.pokemon_id OVER owns_pokemon REVERSELY YIELD owns_pokemon._dst AS Trainer_Name; ...: ...: Out[11]: ResultSet(ExecutionResponse( error_code=0, latency_in_us=3270, data=DataSet( column_names=[b'Trainer_Name'], rows=[Row( values=[Value( sVal=b'Tom')]), Row( values=[Value( sVal=b'Jerry')]), Row( values=[Value( sVal=b'Sue')]), Row( values=[Value( sVal=b'Tom')]), Row( values=[Value( sVal=b'Wey')])]), space_name=b'pokemon_club')) In [12]: r = _ In [13]: r.column_values(key='Trainer_Name')[0]._value.value Out[13]: b'Tom' ","date":"2021-03-07","objectID":"/ipython-ngql/:1:6","series":null,"tags":["Nebula Graph","iPython","Jupyter"],"title":"IPython-nGQL, Nebula Graph çš„ Jupyter æ’ä»¶","uri":"/ipython-ngql/#configure-ngql_result_style"},{"categories":["Nebula Graph"],"content":"Get Help Donâ€™t remember anything or even relying on the cheatsheet here, oen takeaway for you: the help! In [7]: %ngql help Supported Configurations: ------------------------ \u003e How to config ngql_result_style in \"raw\", \"pandas\" %config IPythonNGQL.ngql_result_style=\"raw\" %config IPythonNGQL.ngql_result_style=\"pandas\" \u003e How to config ngql_verbose in True, False %config IPythonNGQL.ngql_verbose=True \u003e How to config max_connection_pool_size %config IPythonNGQL.max_connection_pool_size=10 Quick Start: ----------- \u003e Connect to Neubla Graph %ngql --address 127.0.0.1 --port 9669 --user user --password password \u003e Use Space %ngql USE nba \u003e Query %ngql SHOW TAGS; \u003e Multile Queries %%ngql SHOW TAGS; SHOW HOSTS; Reload ngql Magic %reload_ext ngql \u003e Variables in query, we are using Jinja2 here name = \"nba\" %ngql USE \"{{ name }}\" ","date":"2021-03-07","objectID":"/ipython-ngql/:1:7","series":null,"tags":["Nebula Graph","iPython","Jupyter"],"title":"IPython-nGQL, Nebula Graph çš„ Jupyter æ’ä»¶","uri":"/ipython-ngql/#get-help"},{"categories":["Nebula Graph"],"content":"Examples Jupyter Notebook Please refer here:https://github.com/wey-gu/ipython-ngql/blob/main/examples/get_started.ipynb iPython venv â¯ ipython In [1]: %load_ext ngql In [2]: %ngql --address 127.0.0.1 --port 9669 --user user --password password Connection Pool Created Out[2]: Name 0 pokemon_club In [3]: %ngql GO FROM \"Tom\" OVER owns_pokemon YIELD owns_pokemon._dst as pokemon_id | GO FROM $-.pokemon_id OVER owns_pokemon REVERSELY YIELD owns_pokemon._dst AS Trainer_Name Out[3]: Trainer_Name 0 Tom 1 Jerry 2 Sue 3 Tom 4 Wey In [4]: %%ngql ...: SHOW TAGS; ...: SHOW HOSTS; ...: ...: Out[4]: Host Port Status Leader count Leader distribution Partition distribution 0 storaged0 9779.0 ONLINE 0 No valid partition No valid partition 1 storaged1 9779.0 ONLINE 1 pokemon_club:1 pokemon_club:1 2 storaged2 9779.0 ONLINE 0 No valid partition No valid partition 3 Total NaN None 1 pokemon_club:1 pokemon_club:1 In [5]: trainer = \"Sue\" In [6]: %%ngql ...: GO FROM \"{{ trainer }}\" OVER owns_pokemon YIELD owns_pokemon._dst as pokemon_id | GO FROM $-.pokemon_id OVER owns_pokemon REVERSELY YIELD owns_pokemon._dst AS Trainer_Name; ...: Out[6]: Trainer_Name 0 Jerry 1 Sue 2 Tom 3 Wey In [7]: %ngql help Supported Configurations: ------------------------ \u003e How to config ngql_result_style in \"raw\", \"pandas\" %config IPythonNGQL.ngql_result_style=\"raw\" %config IPythonNGQL.ngql_result_style=\"pandas\" \u003e How to config ngql_verbose in True, False %config IPythonNGQL.ngql_verbose=True \u003e How to config max_connection_pool_size %config IPythonNGQL.max_connection_pool_size=10 Quick Start: ----------- \u003e Connect to Neubla Graph %ngql --address 127.0.0.1 --port 9669 --user user --password password \u003e Use Space %ngql USE nba \u003e Query %ngql SHOW TAGS; \u003e Multile Queries %%ngql SHOW TAGS; SHOW HOSTS; Reload ngql Magic %reload_ext ngql \u003e Variables in query, we are using Jinja2 here name = \"nba\" %ngql USE \"{{ name }}\" In [8]: trainer = \"Sue\" In [9]: %%ngql ...: GO FROM \"{{ trainer }}\" OVER owns_pokemon YIELD owns_pokemon._dst as pokemon_id | GO FROM $-.pokemon_id OVER owns_pokemon REVERSELY YIELD owns_pokemon._dst AS Trainer_Name; ...: ...: Out[9]: Trainer_Name 0 Jerry 1 Sue 2 Tom 3 Wey In [10]: %config IPythonNGQL.ngql_result_style=\"raw\" In [11]: %%ngql USE pokemon_club; ...: GO FROM \"Tom\" OVER owns_pokemon YIELD owns_pokemon._dst as pokemon_id ...: | GO FROM $-.pokemon_id OVER owns_pokemon REVERSELY YIELD owns_pokemon._dst AS Trainer_Name; ...: ...: Out[11]: ResultSet(ExecutionResponse( error_code=0, latency_in_us=3270, data=DataSet( column_names=[b'Trainer_Name'], rows=[Row( values=[Value( sVal=b'Tom')]), Row( values=[Value( sVal=b'Jerry')]), Row( values=[Value( sVal=b'Sue')]), Row( values=[Value( sVal=b'Tom')]), Row( values=[Value( sVal=b'Wey')])]), space_name=b'pokemon_club')) In [12]: r = _ In [13]: r.column_values(key='Trainer_Name')[0]._value.value Out[13]: b'Tom' ","date":"2021-03-07","objectID":"/ipython-ngql/:1:8","series":null,"tags":["Nebula Graph","iPython","Jupyter"],"title":"IPython-nGQL, Nebula Graph çš„ Jupyter æ’ä»¶","uri":"/ipython-ngql/#examples"},{"categories":["Nebula Graph"],"content":"Examples Jupyter Notebook Please refer here:https://github.com/wey-gu/ipython-ngql/blob/main/examples/get_started.ipynb iPython venv â¯ ipython In [1]: %load_ext ngql In [2]: %ngql --address 127.0.0.1 --port 9669 --user user --password password Connection Pool Created Out[2]: Name 0 pokemon_club In [3]: %ngql GO FROM \"Tom\" OVER owns_pokemon YIELD owns_pokemon._dst as pokemon_id | GO FROM $-.pokemon_id OVER owns_pokemon REVERSELY YIELD owns_pokemon._dst AS Trainer_Name Out[3]: Trainer_Name 0 Tom 1 Jerry 2 Sue 3 Tom 4 Wey In [4]: %%ngql ...: SHOW TAGS; ...: SHOW HOSTS; ...: ...: Out[4]: Host Port Status Leader count Leader distribution Partition distribution 0 storaged0 9779.0 ONLINE 0 No valid partition No valid partition 1 storaged1 9779.0 ONLINE 1 pokemon_club:1 pokemon_club:1 2 storaged2 9779.0 ONLINE 0 No valid partition No valid partition 3 Total NaN None 1 pokemon_club:1 pokemon_club:1 In [5]: trainer = \"Sue\" In [6]: %%ngql ...: GO FROM \"{{ trainer }}\" OVER owns_pokemon YIELD owns_pokemon._dst as pokemon_id | GO FROM $-.pokemon_id OVER owns_pokemon REVERSELY YIELD owns_pokemon._dst AS Trainer_Name; ...: Out[6]: Trainer_Name 0 Jerry 1 Sue 2 Tom 3 Wey In [7]: %ngql help Supported Configurations: ------------------------ How to config ngql_result_style in \"raw\", \"pandas\" %config IPythonNGQL.ngql_result_style=\"raw\" %config IPythonNGQL.ngql_result_style=\"pandas\" How to config ngql_verbose in True, False %config IPythonNGQL.ngql_verbose=True How to config max_connection_pool_size %config IPythonNGQL.max_connection_pool_size=10 Quick Start: ----------- Connect to Neubla Graph %ngql --address 127.0.0.1 --port 9669 --user user --password password Use Space %ngql USE nba Query %ngql SHOW TAGS; Multile Queries %%ngql SHOW TAGS; SHOW HOSTS; Reload ngql Magic %reload_ext ngql Variables in query, we are using Jinja2 here name = \"nba\" %ngql USE \"{{ name }}\" In [8]: trainer = \"Sue\" In [9]: %%ngql ...: GO FROM \"{{ trainer }}\" OVER owns_pokemon YIELD owns_pokemon._dst as pokemon_id | GO FROM $-.pokemon_id OVER owns_pokemon REVERSELY YIELD owns_pokemon._dst AS Trainer_Name; ...: ...: Out[9]: Trainer_Name 0 Jerry 1 Sue 2 Tom 3 Wey In [10]: %config IPythonNGQL.ngql_result_style=\"raw\" In [11]: %%ngql USE pokemon_club; ...: GO FROM \"Tom\" OVER owns_pokemon YIELD owns_pokemon._dst as pokemon_id ...: | GO FROM $-.pokemon_id OVER owns_pokemon REVERSELY YIELD owns_pokemon._dst AS Trainer_Name; ...: ...: Out[11]: ResultSet(ExecutionResponse( error_code=0, latency_in_us=3270, data=DataSet( column_names=[b'Trainer_Name'], rows=[Row( values=[Value( sVal=b'Tom')]), Row( values=[Value( sVal=b'Jerry')]), Row( values=[Value( sVal=b'Sue')]), Row( values=[Value( sVal=b'Tom')]), Row( values=[Value( sVal=b'Wey')])]), space_name=b'pokemon_club')) In [12]: r = _ In [13]: r.column_values(key='Trainer_Name')[0]._value.value Out[13]: b'Tom' ","date":"2021-03-07","objectID":"/ipython-ngql/:1:8","series":null,"tags":["Nebula Graph","iPython","Jupyter"],"title":"IPython-nGQL, Nebula Graph çš„ Jupyter æ’ä»¶","uri":"/ipython-ngql/#jupyter-notebook"},{"categories":["Nebula Graph"],"content":"Examples Jupyter Notebook Please refer here:https://github.com/wey-gu/ipython-ngql/blob/main/examples/get_started.ipynb iPython venv â¯ ipython In [1]: %load_ext ngql In [2]: %ngql --address 127.0.0.1 --port 9669 --user user --password password Connection Pool Created Out[2]: Name 0 pokemon_club In [3]: %ngql GO FROM \"Tom\" OVER owns_pokemon YIELD owns_pokemon._dst as pokemon_id | GO FROM $-.pokemon_id OVER owns_pokemon REVERSELY YIELD owns_pokemon._dst AS Trainer_Name Out[3]: Trainer_Name 0 Tom 1 Jerry 2 Sue 3 Tom 4 Wey In [4]: %%ngql ...: SHOW TAGS; ...: SHOW HOSTS; ...: ...: Out[4]: Host Port Status Leader count Leader distribution Partition distribution 0 storaged0 9779.0 ONLINE 0 No valid partition No valid partition 1 storaged1 9779.0 ONLINE 1 pokemon_club:1 pokemon_club:1 2 storaged2 9779.0 ONLINE 0 No valid partition No valid partition 3 Total NaN None 1 pokemon_club:1 pokemon_club:1 In [5]: trainer = \"Sue\" In [6]: %%ngql ...: GO FROM \"{{ trainer }}\" OVER owns_pokemon YIELD owns_pokemon._dst as pokemon_id | GO FROM $-.pokemon_id OVER owns_pokemon REVERSELY YIELD owns_pokemon._dst AS Trainer_Name; ...: Out[6]: Trainer_Name 0 Jerry 1 Sue 2 Tom 3 Wey In [7]: %ngql help Supported Configurations: ------------------------ How to config ngql_result_style in \"raw\", \"pandas\" %config IPythonNGQL.ngql_result_style=\"raw\" %config IPythonNGQL.ngql_result_style=\"pandas\" How to config ngql_verbose in True, False %config IPythonNGQL.ngql_verbose=True How to config max_connection_pool_size %config IPythonNGQL.max_connection_pool_size=10 Quick Start: ----------- Connect to Neubla Graph %ngql --address 127.0.0.1 --port 9669 --user user --password password Use Space %ngql USE nba Query %ngql SHOW TAGS; Multile Queries %%ngql SHOW TAGS; SHOW HOSTS; Reload ngql Magic %reload_ext ngql Variables in query, we are using Jinja2 here name = \"nba\" %ngql USE \"{{ name }}\" In [8]: trainer = \"Sue\" In [9]: %%ngql ...: GO FROM \"{{ trainer }}\" OVER owns_pokemon YIELD owns_pokemon._dst as pokemon_id | GO FROM $-.pokemon_id OVER owns_pokemon REVERSELY YIELD owns_pokemon._dst AS Trainer_Name; ...: ...: Out[9]: Trainer_Name 0 Jerry 1 Sue 2 Tom 3 Wey In [10]: %config IPythonNGQL.ngql_result_style=\"raw\" In [11]: %%ngql USE pokemon_club; ...: GO FROM \"Tom\" OVER owns_pokemon YIELD owns_pokemon._dst as pokemon_id ...: | GO FROM $-.pokemon_id OVER owns_pokemon REVERSELY YIELD owns_pokemon._dst AS Trainer_Name; ...: ...: Out[11]: ResultSet(ExecutionResponse( error_code=0, latency_in_us=3270, data=DataSet( column_names=[b'Trainer_Name'], rows=[Row( values=[Value( sVal=b'Tom')]), Row( values=[Value( sVal=b'Jerry')]), Row( values=[Value( sVal=b'Sue')]), Row( values=[Value( sVal=b'Tom')]), Row( values=[Value( sVal=b'Wey')])]), space_name=b'pokemon_club')) In [12]: r = _ In [13]: r.column_values(key='Trainer_Name')[0]._value.value Out[13]: b'Tom' ","date":"2021-03-07","objectID":"/ipython-ngql/:1:8","series":null,"tags":["Nebula Graph","iPython","Jupyter"],"title":"IPython-nGQL, Nebula Graph çš„ Jupyter æ’ä»¶","uri":"/ipython-ngql/#ipython"}]
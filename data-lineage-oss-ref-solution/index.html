<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="noodp" />
    <title class="pjax-title">åŸºäºå¼€æºæŠ€æœ¯æ ˆçš„æ•°æ®è¡€ç¼˜ã€æ²»ç†å‚è€ƒè§£å†³æ–¹æ¡ˆ - siwei.io</title><meta name="Description" content="ä¹Ÿè®¸æˆ‘ä»¬æ²¡æœ‰å¿…è¦ä»å¤´åœ¨ NebulaGraph ä¸Šæ­å»ºè‡ªå·±çš„æ•°æ®è¡€ç¼˜é¡¹ç›®ï¼Œæœ¬æ–‡åˆ†äº«å¦‚ä½•ç”¨å¼€æºã€ç°ä»£çš„ DataOpsã€ETLã€Dashboardã€å…ƒæ•°æ®ã€æ•°æ®è¡€ç¼˜ç®¡ç†ç³»ç»Ÿæ„å»ºå¤§æ•°æ®æ²»ç†åŸºç¡€è®¾æ–½"><meta property="og:title" content="åŸºäºå¼€æºæŠ€æœ¯æ ˆçš„æ•°æ®è¡€ç¼˜ã€æ²»ç†å‚è€ƒè§£å†³æ–¹æ¡ˆ" />
<meta property="og:description" content="ä¹Ÿè®¸æˆ‘ä»¬æ²¡æœ‰å¿…è¦ä»å¤´åœ¨ NebulaGraph ä¸Šæ­å»ºè‡ªå·±çš„æ•°æ®è¡€ç¼˜é¡¹ç›®ï¼Œæœ¬æ–‡åˆ†äº«å¦‚ä½•ç”¨å¼€æºã€ç°ä»£çš„ DataOpsã€ETLã€Dashboardã€å…ƒæ•°æ®ã€æ•°æ®è¡€ç¼˜ç®¡ç†ç³»ç»Ÿæ„å»ºå¤§æ•°æ®æ²»ç†åŸºç¡€è®¾æ–½" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://siwei.io/data-lineage-oss-ref-solution/" /><meta property="og:image" content="https://siwei.io/data-lineage-oss-ref-solution/featured-image.webp"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-11-25T16:20:43+08:00" />
<meta property="article:modified_time" content="2023-01-09T09:47:06+08:00" /><meta property="og:site_name" content="siwei.io" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://siwei.io/data-lineage-oss-ref-solution/featured-image.webp"/>
<meta name="twitter:title" content="åŸºäºå¼€æºæŠ€æœ¯æ ˆçš„æ•°æ®è¡€ç¼˜ã€æ²»ç†å‚è€ƒè§£å†³æ–¹æ¡ˆ"/>
<meta name="twitter:description" content="ä¹Ÿè®¸æˆ‘ä»¬æ²¡æœ‰å¿…è¦ä»å¤´åœ¨ NebulaGraph ä¸Šæ­å»ºè‡ªå·±çš„æ•°æ®è¡€ç¼˜é¡¹ç›®ï¼Œæœ¬æ–‡åˆ†äº«å¦‚ä½•ç”¨å¼€æºã€ç°ä»£çš„ DataOpsã€ETLã€Dashboardã€å…ƒæ•°æ®ã€æ•°æ®è¡€ç¼˜ç®¡ç†ç³»ç»Ÿæ„å»ºå¤§æ•°æ®æ²»ç†åŸºç¡€è®¾æ–½"/>
<meta name="application-name" content="siwei.io">
<meta name="apple-mobile-web-app-title" content="siwei.io">

<meta name="theme-color" content="#f8f8f8"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://siwei.io/data-lineage-oss-ref-solution/" /><link rel="prev" href="https://siwei.io/apisix-and-nebulagraph/" /><link rel="next" href="https://siwei.io/chatgpt-and-nebulagraph-predict-fifa-world-cup/" /><link rel="stylesheet" href="/lib/normalize/normalize.min.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="preload" as="style" onload="this.onload=null;this.rel='stylesheet'" href="/lib/fontawesome-free/all.min.css">
        <noscript><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"></noscript><link rel="preload" as="style" onload="this.onload=null;this.rel='stylesheet'" href="/lib/animate/animate.min.css">
        <noscript><link rel="stylesheet" href="/lib/animate/animate.min.css"></noscript>
    
    
    
    <meta name="baidu-site-verification" content="code-4R67zl7SwH" /><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "åŸºäºå¼€æºæŠ€æœ¯æ ˆçš„æ•°æ®è¡€ç¼˜ã€æ²»ç†å‚è€ƒè§£å†³æ–¹æ¡ˆ",
        "inLanguage": "zh-CN",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/siwei.io\/data-lineage-oss-ref-solution\/"
        },"image": ["https:\/\/siwei.io\/images\/site-feature-image.webp"],"genre": "posts","keywords": "Nebula Graph, Amundsen, æ•°æ®è¡€ç¼˜, æ•°æ®æ²»ç†","wordcount":  11025 ,
        "url": "https:\/\/siwei.io\/data-lineage-oss-ref-solution\/","datePublished": "2022-11-25T16:20:43+08:00","dateModified": "2023-01-09T09:47:06+08:00","publisher": {
            "@type": "Organization",
            "name": "Wey Gu","logo": "https:\/\/siwei.io\/images\/site-feature-image.webp"},"author": {
                "@type": "Person",
                "name": "Wey Gu"
            },"description": "ä¹Ÿè®¸æˆ‘ä»¬æ²¡æœ‰å¿…è¦ä»å¤´åœ¨ NebulaGraph ä¸Šæ­å»ºè‡ªå·±çš„æ•°æ®è¡€ç¼˜é¡¹ç›®ï¼Œæœ¬æ–‡åˆ†äº«å¦‚ä½•ç”¨å¼€æºã€ç°ä»£çš„ DataOpsã€ETLã€Dashboardã€å…ƒæ•°æ®ã€æ•°æ®è¡€ç¼˜ç®¡ç†ç³»ç»Ÿæ„å»ºå¤§æ•°æ®æ²»ç†åŸºç¡€è®¾æ–½"
    }
    </script></head>

<body header-desktop="fixed" header-mobile="auto"><script type="text/javascript">
        function setTheme(theme) {document.body.setAttribute('theme', theme); document.documentElement.style.setProperty('color-scheme', theme === 'light' ? 'light' : 'dark');}
        function saveTheme(theme) {window.localStorage && localStorage.setItem('theme', theme);}
        function getMeta(metaName) {const metas = document.getElementsByTagName('meta'); for (let i = 0; i < metas.length; i++) if (metas[i].getAttribute('name') === metaName) return metas[i]; return '';}
        if (window.localStorage && localStorage.getItem('theme')) {let theme = localStorage.getItem('theme');theme === 'light' || theme === 'dark' || theme === 'black' ? setTheme(theme) : (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? setTheme('dark') : setTheme('light')); } else { if ('auto' === 'light' || 'auto' === 'dark' || 'auto' === 'black') setTheme('auto'), saveTheme('auto'); else saveTheme('auto'), window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? setTheme('dark') : setTheme('light');}
        let metaColors = {'light': '#f8f8f8','dark': '#252627','black': '#000000'}
        getMeta('theme-color').content = metaColors[document.body.getAttribute('theme')];
    </script>
    <div id="back-to-top"></div>
    <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="siwei.io"><span class="header-title-pre"><i class="fas fa-code-branch"></i></span>siwei.io</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/about/"> å…³äº </a><a class="menu-item" href="/projects/"> é¡¹ç›® </a><a class="menu-item" href="/sketch-notes/"> æ‰‹ç»˜ </a><a class="menu-item" href="/posts/"> åšå®¢ </a><a class="menu-item" href="/talk/"> æ¼”è®² </a><a class="menu-item" href="/cources/"> è¯¾ç¨‹ </a><a class="menu-item" href="https://vesoft.com/cn/careers/" rel="noopener noreferrer" target="_blank"> æ‹›è˜ </a><a class="menu-item" href="/about/#%E8%81%94%E7%B3%BB%E6%88%91"> è”ç³» </a><a class="menu-item" href="/path/"> å­¦ä¹ è·¯å¾„ </a><span class="menu-item delimiter"></span><a href="#" onclick="return false;" class="menu-item language" title="é€‰æ‹©è¯­è¨€">ğŸŒ Chinese<i class="fas fa-chevron-right fa-fw"></i>
                        <select class="language-select" title="Select Language" id="language-select-desktop" onchange="location = this.value;"><option value="/en/data-lineage-oss-ref-solution/">ğŸŒ English</option><option value="/data-lineage-oss-ref-solution/" selected>ğŸŒ Chinese</option></select>
                    </a><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="æœç´¢æ–‡ç« æ ‡é¢˜æˆ–å†…å®¹..." id="search-input-desktop">
                        <a href="#" onclick="return false;" class="search-button search-toggle" id="search-toggle-desktop" title="æœç´¢">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="#" onclick="return false;" class="search-button search-clear" id="search-clear-desktop" title="æ¸…ç©º">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </span><a href="#" onclick="return false;" class="menu-item theme-select" title="åˆ‡æ¢ä¸»é¢˜">
                    <i class="fas fa-adjust fa-fw"></i>
                    <select class="color-theme-select" id="theme-select-desktop" title="åˆ‡æ¢ä¸»é¢˜">
                        <option value="light">æµ…è‰²</option>
                        <option value="dark">æ·±è‰²</option>
                        <option value="black">é»‘è‰²</option>
                        <option value="auto">è·Ÿéšç³»ç»Ÿ</option>
                    </select>
                </a></div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="siwei.io"><span class="header-title-pre"><i class="fas fa-code-branch"></i></span>siwei.io</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="æœç´¢æ–‡ç« æ ‡é¢˜æˆ–å†…å®¹..." id="search-input-mobile">
                        <a href="#" onclick="return false;" class="search-button search-toggle" id="search-toggle-mobile" title="æœç´¢">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="#" onclick="return false;" class="search-button search-clear" id="search-clear-mobile" title="æ¸…ç©º">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </div>
                    <a href="#" onclick="return false;" class="search-cancel" id="search-cancel-mobile">
                        å–æ¶ˆ
                    </a>
                </div><a class="menu-item" href="/about/" title="">å…³äº</a><a class="menu-item" href="/projects/" title="">é¡¹ç›®</a><a class="menu-item" href="/sketch-notes/" title="">æ‰‹ç»˜</a><a class="menu-item" href="/posts/" title="">åšå®¢</a><a class="menu-item" href="/talk/" title="">æ¼”è®²</a><a class="menu-item" href="/cources/" title="">è¯¾ç¨‹</a><a class="menu-item" href="https://vesoft.com/cn/careers/" title="" rel="noopener noreferrer" target="_blank">æ‹›è˜</a><a class="menu-item" href="/about/#%E8%81%94%E7%B3%BB%E6%88%91" title="">è”ç³»</a><a class="menu-item" href="/path/" title="">å­¦ä¹ è·¯å¾„</a><a href="#" onclick="return false;" class="menu-item theme-select" title="åˆ‡æ¢ä¸»é¢˜">
                <i class="fas fa-adjust fa-fw"></i>
                <select class="color-theme-select" id="theme-select-mobile" title="åˆ‡æ¢ä¸»é¢˜">
                    <option value="light">æµ…è‰²</option>
                    <option value="dark">æ·±è‰²</option>
                    <option value="black">é»‘è‰²</option>
                    <option value="auto">è·Ÿéšç³»ç»Ÿ</option>
                </select>
            </a><a href="#" onclick="return false;" class="menu-item" title="é€‰æ‹©è¯­è¨€">ğŸŒ Chinese<i class="fas fa-chevron-right fa-fw"></i>
                    <select class="language-select" title="Select Language" onchange="location = this.value;"><option value="/en/data-lineage-oss-ref-solution/">ğŸŒ English</option><option value="/data-lineage-oss-ref-solution/" selected>ğŸŒ Chinese</option></select>
                </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
            <div class="container"><div class="toc" id="toc-auto">
        <h2 class="toc-title">ç›®å½•</h2>
        <div class="toc-content always-active" id="toc-content-auto"><nav id="TableOfContents">
  <ol>
    <li><a href="#å…ƒæ•°æ®æ²»ç†ç³»ç»Ÿ">å…ƒæ•°æ®æ²»ç†ç³»ç»Ÿ</a></li>
    <li><a href="#å‚è€ƒè§£å†³æ–¹æ¡ˆ">å‚è€ƒè§£å†³æ–¹æ¡ˆ</a>
      <ol>
        <li><a href="#æ–¹æ¡ˆçš„åŠ¨æœº">æ–¹æ¡ˆçš„åŠ¨æœº</a></li>
        <li><a href="#æŠ€æœ¯æ ˆä»‹ç»">æŠ€æœ¯æ ˆä»‹ç»</a>
          <ol>
            <li><a href="#æ•°æ®åº“å’Œæ•°ä»“">æ•°æ®åº“å’Œæ•°ä»“</a></li>
            <li><a href="#æ•°æ®è¿ç»´-dataops">æ•°æ®è¿ç»´ DataOps</a></li>
            <li><a href="#etl">ETL</a></li>
            <li><a href="#æ•°æ®å¯è§†åŒ–">æ•°æ®å¯è§†åŒ–</a></li>
            <li><a href="#ä»»åŠ¡ç¼–æ’dag-job-orchestration">ä»»åŠ¡ç¼–æ’ï¼ˆDAG Job Orchestrationï¼‰</a></li>
            <li><a href="#å…ƒæ•°æ®æ²»ç†">å…ƒæ•°æ®æ²»ç†</a></li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#ç¯å¢ƒæ­å»ºä¸å„ç»„ä»¶åˆè¯†">ç¯å¢ƒæ­å»ºä¸å„ç»„ä»¶åˆè¯†</a>
      <ol>
        <li><a href="#è¿è¡Œä¸€ä¸ªæ•°ä»“æ•°æ®åº“">è¿è¡Œä¸€ä¸ªæ•°ä»“ã€æ•°æ®åº“</a></li>
        <li><a href="#dataops-å·¥å…·é“¾éƒ¨ç½²">DataOps å·¥å…·é“¾éƒ¨ç½²</a>
          <ol>
            <li><a href="#å®‰è£…-meltano">å®‰è£… Meltano</a></li>
            <li><a href="#meltano-gui-ç•Œé¢">Meltano GUI ç•Œé¢</a></li>
            <li><a href="#meltano-é¡¹ç›®ç¤ºä¾‹">Meltano é¡¹ç›®ç¤ºä¾‹</a></li>
          </ol>
        </li>
        <li><a href="#æ­ä¸€ä¸ª-bi-dashboard-ç³»ç»Ÿ">æ­ä¸€ä¸ª BI Dashboard ç³»ç»Ÿ</a>
          <ol>
            <li><a href="#bootstrap-meltano-å’Œ-superset">Bootstrap Meltano å’Œ Superset</a></li>
            <li><a href="#åˆ›å»ºä¸€ä¸ª-dashboard">åˆ›å»ºä¸€ä¸ª Dashboard</a></li>
          </ol>
        </li>
        <li><a href="#å…ƒæ•°æ®å‘ç°ç³»ç»Ÿ">å…ƒæ•°æ®å‘ç°ç³»ç»Ÿ</a>
          <ol>
            <li><a href="#éƒ¨ç½²-amundsen">éƒ¨ç½² Amundsen</a>
              <ol>
                <li><a href="#å…ƒæ•°æ®æœåŠ¡-metadata-service">å…ƒæ•°æ®æœåŠ¡ Metadata service</a></li>
                <li><a href="#æŠ“å–å…ƒæ•°æ®-data-builder">æŠ“å–å…ƒæ•°æ® Data builder</a></li>
                <li><a href="#éªŒè¯ä¸€ä¸‹-amundsen">éªŒè¯ä¸€ä¸‹ Amundsen</a></li>
              </ol>
            </li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#ç©¿é’ˆå¼•çº¿å…ƒæ•°æ®å‘ç°">ç©¿é’ˆå¼•çº¿ï¼šå…ƒæ•°æ®å‘ç°</a>
      <ol>
        <li><a href="#æå–-postgres-å…ƒæ•°æ®">æå– Postgres å…ƒæ•°æ®</a>
          <ol>
            <li><a href="#æ‰§è¡Œ-postgres-å…ƒæ•°æ®-etl">æ‰§è¡Œ Postgres å…ƒæ•°æ® ETL</a></li>
            <li><a href="#éªŒè¯-postgres-ä¸­å…ƒæ•°æ®çš„è·å–">éªŒè¯ Postgres ä¸­å…ƒæ•°æ®çš„è·å–</a></li>
          </ol>
        </li>
        <li><a href="#æå–-dbt-å…ƒæ•°æ®">æå– dbt å…ƒæ•°æ®</a>
          <ol>
            <li><a href="#dbt-å…ƒæ•°æ®-etl-çš„æ‰§è¡Œ">dbt å…ƒæ•°æ® ETL çš„æ‰§è¡Œ</a></li>
            <li><a href="#éªŒè¯-dbt-æŠ“å–ç»“æœ">éªŒè¯ dbt æŠ“å–ç»“æœ</a></li>
          </ol>
        </li>
        <li><a href="#æå–-superset-ä¸­çš„å…ƒæ•°æ®">æå– Superset ä¸­çš„å…ƒæ•°æ®</a>
          <ol>
            <li><a href="#superset-å…ƒæ•°æ®-etl-çš„æ‰§è¡Œ">Superset å…ƒæ•°æ® ETL çš„æ‰§è¡Œ</a></li>
            <li><a href="#éªŒè¯-superset-dashboard-å…ƒæ•°æ®">éªŒè¯ Superset Dashboard å…ƒæ•°æ®</a></li>
          </ol>
        </li>
        <li><a href="#ç”¨-superset-é¢„è§ˆæ•°æ®">ç”¨ Superset é¢„è§ˆæ•°æ®</a></li>
        <li><a href="#å¼€å¯æ•°æ®è¡€ç¼˜ä¿¡æ¯">å¼€å¯æ•°æ®è¡€ç¼˜ä¿¡æ¯</a>
          <ol>
            <li><a href="#åœ¨-nebulagraph-ä¸­æ´å¯Ÿè¡€ç¼˜">åœ¨ NebulaGraph ä¸­æ´å¯Ÿè¡€ç¼˜</a></li>
            <li><a href="#æå–æ•°æ®è¡€ç¼˜">æå–æ•°æ®è¡€ç¼˜</a>
              <ol>
                <li><a href="#é€šè¿‡-dbt">é€šè¿‡ dbt</a></li>
                <li><a href="#é€šè¿‡-open-lineage">é€šè¿‡ Open Lineage</a></li>
              </ol>
            </li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#å›é¡¾">å›é¡¾</a>
      <ol>
        <li><a href="#æ¶‰åŠåˆ°çš„å¼€æº">æ¶‰åŠåˆ°çš„å¼€æº</a></li>
      </ol>
    </li>
  </ol>
</nav></div>
    </div><script>document.getElementsByTagName("main")[0].setAttribute("pageStyle", "normal")</script><script>document.getElementsByTagName("main")[0].setAttribute("autoTOC", "true")</script><article class="page single"><h1 class="single-title animate__animated animate__flipInX">åŸºäºå¼€æºæŠ€æœ¯æ ˆçš„æ•°æ®è¡€ç¼˜ã€æ²»ç†å‚è€ƒè§£å†³æ–¹æ¡ˆ</h1><div class="post-meta">
            <div class="post-meta-line">
                <span class="post-author"><i class="author fas fa-user-circle fa-fw"></i><a href="https://siwei.io" title="Author" target="_blank" rel="noopener noreferrer author" class="author">Wey Gu</a>
                </span>&nbsp;<span class="post-category">æ”¶å½•äº </span>&nbsp;<span class="post-category">ç±»åˆ« <a href="/categories/nebula-graph/"><i class="far fa-folder fa-fw"></i>Nebula Graph</a>&nbsp;<a href="/categories/amundsen/"><i class="far fa-folder fa-fw"></i>Amundsen</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="2022-11-25">2022-11-25</time>&nbsp;<i class="far fa-edit fa-fw"></i>&nbsp;<time datetime="2023-01-09">2023-01-09</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;çº¦ 11025 å­—&nbsp;
                <i class="far fa-clock fa-fw"></i>&nbsp;é¢„è®¡é˜…è¯» 23 åˆ†é’Ÿ&nbsp;</div>
        </div><div class="featured-image"><img
        class="lazyload"
        data-src="/data-lineage-oss-ref-solution/featured-image.webp"
        data-srcset="/data-lineage-oss-ref-solution/featured-image.webp, /data-lineage-oss-ref-solution/featured-image.webp 1.5x, /data-lineage-oss-ref-solution/featured-image.webp 2x"
        data-sizes="auto"
        alt="/data-lineage-oss-ref-solution/featured-image.webp"
        title="ä¹Ÿè®¸æˆ‘ä»¬æ²¡æœ‰å¿…è¦ä»å¤´åœ¨ NebulaGraph ä¸Šæ­å»ºè‡ªå·±çš„æ•°æ®è¡€ç¼˜é¡¹ç›®ï¼Œæœ¬æ–‡åˆ†äº«å¦‚ä½•ç”¨å¼€æºã€ç°ä»£çš„ DataOpsã€ETLã€Dashboardã€å…ƒæ•°æ®ã€æ•°æ®è¡€ç¼˜ç®¡ç†ç³»ç»Ÿæ„å»ºå¤§æ•°æ®æ²»ç†åŸºç¡€è®¾æ–½" height="872" width="1730"></div><div class="details toc" id="toc-static"  kept="">
                <div class="details-summary toc-title">
                    <span>ç›®å½•</span>
                    <span><i class="details-icon fas fa-angle-right"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ol>
    <li><a href="#å…ƒæ•°æ®æ²»ç†ç³»ç»Ÿ">å…ƒæ•°æ®æ²»ç†ç³»ç»Ÿ</a></li>
    <li><a href="#å‚è€ƒè§£å†³æ–¹æ¡ˆ">å‚è€ƒè§£å†³æ–¹æ¡ˆ</a>
      <ol>
        <li><a href="#æ–¹æ¡ˆçš„åŠ¨æœº">æ–¹æ¡ˆçš„åŠ¨æœº</a></li>
        <li><a href="#æŠ€æœ¯æ ˆä»‹ç»">æŠ€æœ¯æ ˆä»‹ç»</a>
          <ol>
            <li><a href="#æ•°æ®åº“å’Œæ•°ä»“">æ•°æ®åº“å’Œæ•°ä»“</a></li>
            <li><a href="#æ•°æ®è¿ç»´-dataops">æ•°æ®è¿ç»´ DataOps</a></li>
            <li><a href="#etl">ETL</a></li>
            <li><a href="#æ•°æ®å¯è§†åŒ–">æ•°æ®å¯è§†åŒ–</a></li>
            <li><a href="#ä»»åŠ¡ç¼–æ’dag-job-orchestration">ä»»åŠ¡ç¼–æ’ï¼ˆDAG Job Orchestrationï¼‰</a></li>
            <li><a href="#å…ƒæ•°æ®æ²»ç†">å…ƒæ•°æ®æ²»ç†</a></li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#ç¯å¢ƒæ­å»ºä¸å„ç»„ä»¶åˆè¯†">ç¯å¢ƒæ­å»ºä¸å„ç»„ä»¶åˆè¯†</a>
      <ol>
        <li><a href="#è¿è¡Œä¸€ä¸ªæ•°ä»“æ•°æ®åº“">è¿è¡Œä¸€ä¸ªæ•°ä»“ã€æ•°æ®åº“</a></li>
        <li><a href="#dataops-å·¥å…·é“¾éƒ¨ç½²">DataOps å·¥å…·é“¾éƒ¨ç½²</a>
          <ol>
            <li><a href="#å®‰è£…-meltano">å®‰è£… Meltano</a></li>
            <li><a href="#meltano-gui-ç•Œé¢">Meltano GUI ç•Œé¢</a></li>
            <li><a href="#meltano-é¡¹ç›®ç¤ºä¾‹">Meltano é¡¹ç›®ç¤ºä¾‹</a></li>
          </ol>
        </li>
        <li><a href="#æ­ä¸€ä¸ª-bi-dashboard-ç³»ç»Ÿ">æ­ä¸€ä¸ª BI Dashboard ç³»ç»Ÿ</a>
          <ol>
            <li><a href="#bootstrap-meltano-å’Œ-superset">Bootstrap Meltano å’Œ Superset</a></li>
            <li><a href="#åˆ›å»ºä¸€ä¸ª-dashboard">åˆ›å»ºä¸€ä¸ª Dashboard</a></li>
          </ol>
        </li>
        <li><a href="#å…ƒæ•°æ®å‘ç°ç³»ç»Ÿ">å…ƒæ•°æ®å‘ç°ç³»ç»Ÿ</a>
          <ol>
            <li><a href="#éƒ¨ç½²-amundsen">éƒ¨ç½² Amundsen</a>
              <ol>
                <li><a href="#å…ƒæ•°æ®æœåŠ¡-metadata-service">å…ƒæ•°æ®æœåŠ¡ Metadata service</a></li>
                <li><a href="#æŠ“å–å…ƒæ•°æ®-data-builder">æŠ“å–å…ƒæ•°æ® Data builder</a></li>
                <li><a href="#éªŒè¯ä¸€ä¸‹-amundsen">éªŒè¯ä¸€ä¸‹ Amundsen</a></li>
              </ol>
            </li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#ç©¿é’ˆå¼•çº¿å…ƒæ•°æ®å‘ç°">ç©¿é’ˆå¼•çº¿ï¼šå…ƒæ•°æ®å‘ç°</a>
      <ol>
        <li><a href="#æå–-postgres-å…ƒæ•°æ®">æå– Postgres å…ƒæ•°æ®</a>
          <ol>
            <li><a href="#æ‰§è¡Œ-postgres-å…ƒæ•°æ®-etl">æ‰§è¡Œ Postgres å…ƒæ•°æ® ETL</a></li>
            <li><a href="#éªŒè¯-postgres-ä¸­å…ƒæ•°æ®çš„è·å–">éªŒè¯ Postgres ä¸­å…ƒæ•°æ®çš„è·å–</a></li>
          </ol>
        </li>
        <li><a href="#æå–-dbt-å…ƒæ•°æ®">æå– dbt å…ƒæ•°æ®</a>
          <ol>
            <li><a href="#dbt-å…ƒæ•°æ®-etl-çš„æ‰§è¡Œ">dbt å…ƒæ•°æ® ETL çš„æ‰§è¡Œ</a></li>
            <li><a href="#éªŒè¯-dbt-æŠ“å–ç»“æœ">éªŒè¯ dbt æŠ“å–ç»“æœ</a></li>
          </ol>
        </li>
        <li><a href="#æå–-superset-ä¸­çš„å…ƒæ•°æ®">æå– Superset ä¸­çš„å…ƒæ•°æ®</a>
          <ol>
            <li><a href="#superset-å…ƒæ•°æ®-etl-çš„æ‰§è¡Œ">Superset å…ƒæ•°æ® ETL çš„æ‰§è¡Œ</a></li>
            <li><a href="#éªŒè¯-superset-dashboard-å…ƒæ•°æ®">éªŒè¯ Superset Dashboard å…ƒæ•°æ®</a></li>
          </ol>
        </li>
        <li><a href="#ç”¨-superset-é¢„è§ˆæ•°æ®">ç”¨ Superset é¢„è§ˆæ•°æ®</a></li>
        <li><a href="#å¼€å¯æ•°æ®è¡€ç¼˜ä¿¡æ¯">å¼€å¯æ•°æ®è¡€ç¼˜ä¿¡æ¯</a>
          <ol>
            <li><a href="#åœ¨-nebulagraph-ä¸­æ´å¯Ÿè¡€ç¼˜">åœ¨ NebulaGraph ä¸­æ´å¯Ÿè¡€ç¼˜</a></li>
            <li><a href="#æå–æ•°æ®è¡€ç¼˜">æå–æ•°æ®è¡€ç¼˜</a>
              <ol>
                <li><a href="#é€šè¿‡-dbt">é€šè¿‡ dbt</a></li>
                <li><a href="#é€šè¿‡-open-lineage">é€šè¿‡ Open Lineage</a></li>
              </ol>
            </li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#å›é¡¾">å›é¡¾</a>
      <ol>
        <li><a href="#æ¶‰åŠåˆ°çš„å¼€æº">æ¶‰åŠåˆ°çš„å¼€æº</a></li>
      </ol>
    </li>
  </ol>
</nav></div>
            </div><div class="content" id="content"><blockquote>
<p>ä¹Ÿè®¸æˆ‘ä»¬æ²¡æœ‰å¿…è¦ä»å¤´åœ¨ NebulaGraph ä¸Šæ­å»ºè‡ªå·±çš„æ•°æ®è¡€ç¼˜é¡¹ç›®ï¼Œæœ¬æ–‡åˆ†äº«å¦‚ä½•ç”¨å¼€æºã€ç°ä»£çš„ DataOpsã€ETLã€Dashboardã€å…ƒæ•°æ®ã€æ•°æ®è¡€ç¼˜ç®¡ç†ç³»ç»Ÿæ„å»ºå¤§æ•°æ®æ²»ç†åŸºç¡€è®¾æ–½</p>
</blockquote>
<h2 id="å…ƒæ•°æ®æ²»ç†ç³»ç»Ÿ" class="headerLink">
    <a href="#%e5%85%83%e6%95%b0%e6%8d%ae%e6%b2%bb%e7%90%86%e7%b3%bb%e7%bb%9f" class="header-mark"></a>1 å…ƒæ•°æ®æ²»ç†ç³»ç»Ÿ</h2><p><strong>å…ƒæ•°æ®æ²»ç†</strong>ç³»ç»Ÿæ˜¯ä¸€ä¸ªæä¾›äº†æ‰€æœ‰æ•°æ®åœ¨å“ªã€å®ƒä»¬çš„æ ¼å¼åŒ–æ–¹å¼ã€ç”Ÿæˆã€è½¬æ¢ã€ä¾èµ–ã€å‘ˆç°å’Œæ‰€å±çš„<strong>ä¸€ç«™å¼è§†å›¾</strong>ã€‚</p>
<p>å…ƒæ•°æ®æ²»ç†ç³»ç»Ÿæ˜¯æ‰€æœ‰æ•°æ®ä»“åº“ã€æ•°æ®åº“ã€è¡¨ã€ä»ªè¡¨æ¿ã€ETL ä½œä¸šç­‰çš„<strong>ç›®å½•æ¥å£</strong>ï¼ˆcatalogï¼‰ï¼Œæœ‰äº†å®ƒï¼Œæˆ‘ä»¬å°±ä¸ç”¨åœ¨ç¾¤é‡Œå–Šâ€œå¤§å®¶å¥½ï¼Œæˆ‘å¯ä»¥æ›´æ”¹è¿™ä¸ªè¡¨çš„ schema å—ï¼Ÿâ€ï¼Œ â€œè¯·é—®è°çŸ¥é“æˆ‘å¦‚ä½•æ‰¾åˆ° table-view-foo-bar çš„åŸå§‹æ•°æ®ï¼Ÿâ€ï¼Œä¸€ä¸ªæˆç†Ÿçš„æ•°æ®æ²»ç†æ–¹æ¡ˆä¸­çš„å…ƒæ•°æ®æ²»ç†ç³»ç»Ÿï¼Œå¯¹æˆè§„æ¨¡çš„æ•°æ®å›¢é˜Ÿæ¥è¯´éå¸¸å¿…è¦ã€‚</p>
<p>å¯¹äºå¦ä¸€ä¸ªè¯ï¼š<strong>æ•°æ®è¡€ç¼˜</strong>åˆ™æ˜¯ä¼—å¤šéœ€è¦ç®¡ç†çš„å…ƒæ•°æ®ä¹‹ä¸€ï¼Œä¾‹å¦‚ï¼ŒæŸäº› Dashboard æ˜¯ æŸä¸€ä¸ª Table View çš„ä¸‹æ¸¸ï¼Œè€Œè¿™ä¸ª Table View åˆæ˜¯ä»å¦å¤–ä¸¤ä¸ªä¸Šæ¸¸çš„è¡¨ JOIN è€Œæ¥ä¸¤ã€‚ æˆ‘ä»¬æ˜¾ç„¶åº”è¯¥æ¸…æ™°çš„æŒæ¡ã€ç®¡ç†è¿™äº›ä¿¡æ¯ï¼Œå»æ„å»ºä¸€ä¸ªå¯ä¿¡ã€å¯æ§çš„ç³»ç»Ÿå’Œæ•°æ®è´¨é‡æ§åˆ¶ä½“ç³»ã€‚</p>
<h2 id="å‚è€ƒè§£å†³æ–¹æ¡ˆ" class="headerLink">
    <a href="#%e5%8f%82%e8%80%83%e8%a7%a3%e5%86%b3%e6%96%b9%e6%a1%88" class="header-mark"></a>2 å‚è€ƒè§£å†³æ–¹æ¡ˆ</h2><h3 id="æ–¹æ¡ˆçš„åŠ¨æœº" class="headerLink">
    <a href="#%e6%96%b9%e6%a1%88%e7%9a%84%e5%8a%a8%e6%9c%ba" class="header-mark"></a>2.1 æ–¹æ¡ˆçš„åŠ¨æœº</h3><p>å…ƒæ•°æ®å’Œæ•°æ®è¡€ç¼˜æœ¬è´¨ä¸Šéå¸¸é€‚åˆå›¾æ•°æ®å»ºæ¨¡ã€å›¾æ•°æ®åº“çš„åœºæ™¯ã€‚è¿™é‡Œå…¸å‹çš„æŸ¥è¯¢å°±æ˜¯é¢å‘å›¾å…³ç³»çš„æŸ¥è¯¢äº†ï¼Œåƒâ€œæŸ¥æ‰¾æ¯ä¸ªç»™å®šç»„ä»¶ï¼ˆå³è¡¨ï¼‰çš„æ‰€æœ‰ n æ·±åº¦æ•°æ®è¡€ç¼˜â€å°±æ˜¯ä¸€ä¸ª NebulaGraph ä¸­çš„<code>FIND ALL PATH</code> æŸ¥è¯¢ã€‚</p>
<p>ä½œä¸º NebulaGraph ç¤¾åŒºä¸­çš„ä¸€å‘˜ï¼Œæˆ‘å‘ç°äººä»¬åœ¨è®ºå›ã€ç¾¤é‡Œè®¨è®ºçš„æŸ¥è¯¢å’Œå›¾å»ºæ¨¡æ€»èƒ½çœ‹å‡ºæ¥å¾ˆå¤šäººéƒ½åœ¨ NebulaGraph ä¸Šä»å¤´æ­å»ºè‡ªå·±çš„æ•°æ®è¡€ç¼˜ç³»ç»Ÿï¼Œè€Œè¿™äº›å·¥ä½œçœ‹èµ·æ¥å¤§å¤šæ•°éƒ½æ˜¯é‡å¤é€ è½®å­ï¼ˆè€Œä¸”è½®å­å¹¶ä¸å®¹æ˜“é€ ï¼‰ã€‚</p>
<p>æˆ‘ä»¬æ¥çœ‹çœ‹è¿™æ ·çš„å…ƒæ•°æ®æ²»ç†ç³»ç»Ÿçš„è½®å­é‡Œï¼Œéƒ½éœ€è¦é‚£äº›åŠŸèƒ½ç»„ä»¶ï¼š</p>
<ul>
<li>å…ƒæ•°æ® extractor
<ul>
<li>è¿™éƒ¨åˆ†éœ€è¦ä»æ•°æ®æ ˆçš„ä¸åŒæ–¹ï¼ˆå¦‚æ•°æ®åº“ã€æ•°ä»“ã€Dashboardï¼Œç”šè‡³ä» ETL Pipeline å’Œåº”ç”¨ã€æœåŠ¡ç­‰ç­‰ï¼‰ä¸­ä»¥æ‹‰æˆ–è€…æ¨çš„æ–¹å¼è·å–ã€‚</li>
</ul>
</li>
<li>å…ƒæ•°æ®å­˜å‚¨
<ul>
<li>å¯ä»¥å­˜åœ¨æ•°æ®åº“ã€å›¾æ•°æ®åº“é‡Œï¼Œæˆ–è€…æœ‰æ—¶å€™å­˜æˆè¶…å¤§çš„ JSON manifest æ–‡ä»¶éƒ½è¡Œ</li>
</ul>
</li>
<li>å…ƒæ•°æ®ç›®å½•æ¥å£ç³»ç»Ÿï¼ˆCatalogï¼‰
<ul>
<li>æä¾› API å’Œ/æˆ– GUI ç•Œé¢ä»¥è¯»å–/å†™å…¥å…ƒæ•°æ®å’Œæ•°æ®è¡€ç¼˜çš„ç³»ç»Ÿ</li>
</ul>
</li>
</ul>
<p>åœ¨ NebulaGraph ç¤¾åŒºä¸­ï¼Œæˆ‘çœ‹åˆ°ä¸å°‘äººå› ä¸ºæé—®çš„æŸ¥è¯¢å’Œå»ºæ¨¡ä¸­æ˜æ˜¾æœ‰æ•°æ®è¡€ç¼˜çš„ç—•è¿¹ï¼Œæ„è¯†åˆ°å¤§å®¶éƒ½åœ¨ä»å¤´æ­å»ºæ•°æ®è¡€ç¼˜ç³»ç»Ÿã€‚è€ƒè™‘åˆ°ç³»ç»Ÿä¸­å…ƒæ•°æ®çš„æå–å¯¹è±¡éƒ½æ˜¯ä»å„ç§çŸ¥åæ•°æ®åº“ã€æ•°ä»“ã€æœ€ç»ˆçš„éœ€æ±‚ä¹Ÿå¤§ç›¸å¾„åº­ï¼Œè¿™ç§é‡å¤çš„å¼€å‘ã€ç ”ç©¶ã€æ¢ç´¢æ˜¯ä¸€ç§å¤§å¤§çš„æµªè´¹ã€‚</p>
<p>æ‰€ä»¥ï¼Œæˆ‘å‡†å¤‡æ­å»ºä¸€ä¸ªèƒ½å¤Ÿå¯å‘å¤§å®¶çš„å‚è€ƒæ•°æ®è¡€ç¼˜ã€æ²»ç†æ–¹æ¡ˆï¼Œåˆ©ç”¨åˆ°å¸‚é¢ä¸Šæœ€å¥½çš„å¼€æºé¡¹ç›®ã€‚å¸Œæœ›èƒ½è®©æ‰“ç®—åœ¨ NebulaGraph ä¸Šå®šä¹‰å’Œè¿­ä»£è‡ªå·±çš„ Graph Model å¹¶åˆ›å»ºå†…éƒ¨å…ƒæ•°æ®å’Œ pipeline çš„äººå¯ä»¥ä»è¿™ä¸ªé¡¹ç›®ä¸­å—ç›Šï¼Œä»è€Œæ‹¥æœ‰ä¸€ä¸ªç›¸å¯¹å®Œå–„ã€è®¾è®¡ç²¾ç¾çš„å¼€ç®±å³ç”¨çš„å…ƒæ•°æ®æ²»ç†ç³»ç»Ÿï¼Œå’Œç›¸å¯¹æ›´å®Œå–„çš„å›¾æ¨¡å‹ã€‚</p>
<p>æˆ‘å°½é‡æŠŠè¿™ä¸ªæ–¹æ¡ˆåšçš„å®Œå¤‡ã€ç«¯åˆ°ç«¯ï¼ˆä¸åªæœ‰å…ƒæ•°æ®ç®¡ç†ï¼‰ï¼Œå¸Œæœ›ä¹Ÿèƒ½ä¸ºè€ƒè™‘åšåŸºäºå›¾åšæ•°æ®æ²»ç†çš„æ–°æ‰‹ä¸€äº›å¯å‘å’Œå‚è€ƒã€‚</p>
<p>ä¸‹å›¾æ˜¯æ•´ä¸ªæ–¹æ¡ˆçš„ç®€å•ç¤ºæ„å›¾ï¼š</p>
<p>å…¶ä¸­ä¸Šæ–¹æ˜¯å…ƒæ•°æ®çš„æ¥æºä¸å¯¼å…¥ã€ä¸‹æ–¹æ˜¯å…ƒæ•°æ®çš„å­˜å‚¨ä¸å±•ç¤ºã€å‘ç°ã€‚</p>
<p><a class="lightgallery" href="https://user-images.githubusercontent.com/1651790/168849779-4826f50e-ff87-4e78-b17f-076f91182c43.svg" title="diagram-of-ref-project" data-thumbnail="https://user-images.githubusercontent.com/1651790/168849779-4826f50e-ff87-4e78-b17f-076f91182c43.svg">
        <img
            class="lazyload"
            data-src="https://user-images.githubusercontent.com/1651790/168849779-4826f50e-ff87-4e78-b17f-076f91182c43.svg"
            data-srcset="https://user-images.githubusercontent.com/1651790/168849779-4826f50e-ff87-4e78-b17f-076f91182c43.svg, https://user-images.githubusercontent.com/1651790/168849779-4826f50e-ff87-4e78-b17f-076f91182c43.svg 1.5x, https://user-images.githubusercontent.com/1651790/168849779-4826f50e-ff87-4e78-b17f-076f91182c43.svg 2x"
            data-sizes="auto"
            alt="https://user-images.githubusercontent.com/1651790/168849779-4826f50e-ff87-4e78-b17f-076f91182c43.svg">
    </a></p>
<h3 id="æŠ€æœ¯æ ˆä»‹ç»" class="headerLink">
    <a href="#%e6%8a%80%e6%9c%af%e6%a0%88%e4%bb%8b%e7%bb%8d" class="header-mark"></a>2.2 æŠ€æœ¯æ ˆä»‹ç»</h3><p>ä¸‹è¾¹ä»‹ç»ä¸€ä¸‹å…¶ä¸­çš„æ¯ä¸€éƒ¨åˆ†ã€‚</p>
<h4 id="æ•°æ®åº“å’Œæ•°ä»“" class="headerLink">
    <a href="#%e6%95%b0%e6%8d%ae%e5%ba%93%e5%92%8c%e6%95%b0%e4%bb%93" class="header-mark"></a>2.2.1 æ•°æ®åº“å’Œæ•°ä»“</h4><p>ä¸ºäº†å¤„ç†å’Œä½¿ç”¨åŸå§‹å’Œä¸­é—´æ•°æ®ï¼Œè¿™é‡Œä¸€å®šæ¶‰åŠè‡³å°‘ä¸€ä¸ªæ•°æ®åº“æˆ–è€…æ•°ä»“ã€‚</p>
<p>å®ƒå¯ä»¥æ˜¯ Hiveã€Apache Deltaã€TiDBã€Cassandraã€MySQL æˆ– Postgresï¼Œåœ¨è¿™ä¸ªå‚è€ƒé¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬é€‰ä¸€ä¸ªç®€å•ã€æµè¡Œçš„ Postgresã€‚</p>
<p>âœ… - æ•°æ®ä»“åº“ï¼šPostgres</p>
<h4 id="æ•°æ®è¿ç»´-dataops" class="headerLink">
    <a href="#%e6%95%b0%e6%8d%ae%e8%bf%90%e7%bb%b4-dataops" class="header-mark"></a>2.2.2 æ•°æ®è¿ç»´ DataOps</h4><p>æˆ‘ä»¬åº”è¯¥æœ‰æŸç§ DataOps çš„æ–¹æ¡ˆï¼Œè®© Pipeline å’Œç¯å¢ƒå…·æœ‰å¯é‡å¤æ€§ã€å¯æµ‹è¯•æ€§å’Œç‰ˆæœ¬æ§åˆ¶æ€§ã€‚</p>
<p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨äº† GitLab åˆ›å»ºçš„ <a href="https://gitlab.com/meltano/meltano" target="_blank" rel="noopener noreferrer">Meltano</a>ã€‚</p>
<p>Meltano æ˜¯ä¸€ä¸ª just-work çš„ DataOps å¹³å°ï¼Œå®ƒä»¥ä¸€ç§ç¥å¥‡è€Œä¼˜é›…çš„æ–¹å¼å°† <a href="https://singer.io/" target="_blank" rel="noopener noreferrer">Singer</a> ä½œä¸º EL å’Œ <a href="https://getdbt.com/" target="_blank" rel="noopener noreferrer">dbt</a> ä½œä¸º T è¿æ¥èµ·æ¥ï¼Œå®ƒè¿˜è¿æ¥åˆ°å…¶ä»–ä¸€äº› dataInfra å®ç”¨ç¨‹åºï¼Œä¾‹å¦‚ Apache Superset å’Œ Apache Airflow ç­‰ã€‚</p>
<p>è‡³æ­¤ï¼Œæˆ‘ä»¬åˆçº³å…¥äº†ä¸€ä¸ªæˆå‘˜ï¼š</p>
<p>âœ… - GitOpsï¼šMeltano <a href="https://gitlab.com/meltano/meltano" target="_blank" rel="noopener noreferrer">https://gitlab.com/meltano/meltano</a></p>
<h4 id="etl" class="headerLink">
    <a href="#etl" class="header-mark"></a>2.2.3 ETL</h4><p>å¦‚å‰è¾¹æåˆ°ï¼Œæˆ‘ä»¬è¿˜åˆ©ç”¨ <a href="https://singer.io/" target="_blank" rel="noopener noreferrer">Singer</a> ä¸ Meltano ä¸€èµ·å°†æ¥è‡ªè®¸å¤šä¸åŒæ•°æ®æºçš„æ•°æ® Eï¼ˆæå–ï¼‰å’Œ Lï¼ˆåŠ è½½ï¼‰æ•°æ®ç›®æ ‡ï¼Œå¹¶ä½¿ç”¨ <a href="https://getdbt.com/" target="_blank" rel="noopener noreferrer">dbt</a> ä½œä¸º Transform çš„å¹³å°ã€‚</p>
<p>âœ… - ELï¼šSinger <a href="https://singer.io/" target="_blank" rel="noopener noreferrer">https://singer.io/</a></p>
<p>âœ… - T: dbt <a href="https://getdbt.com/" target="_blank" rel="noopener noreferrer">https://getdbt.com/</a></p>
<h4 id="æ•°æ®å¯è§†åŒ–" class="headerLink">
    <a href="#%e6%95%b0%e6%8d%ae%e5%8f%af%e8%a7%86%e5%8c%96" class="header-mark"></a>2.2.4 æ•°æ®å¯è§†åŒ–</h4><p>åœ¨æ•°æ®ä¹‹ä¸Šåˆ›å»º Dashboardã€å›¾è¡¨å’Œè¡¨æ ¼æ¥è·å¾—æ´å¯Ÿæ˜¯å¾ˆç›´æ¥çš„éœ€æ±‚ï¼ˆå¯ä»¥æƒ³è±¡ä¸ºæƒ³è±¡å¤§æ•°æ®ä¹‹ä¸Šçš„ excel å›¾æ ‡åŠŸèƒ½ï¼‰ã€‚</p>
<p><a class="lightgallery" href="https://user-images.githubusercontent.com/1651790/172800854-8e01acae-696d-4e07-8e3e-a7d34dec8278.png" title="https://user-images.githubusercontent.com/1651790/172800854-8e01acae-696d-4e07-8e3e-a7d34dec8278.png" data-thumbnail="https://user-images.githubusercontent.com/1651790/172800854-8e01acae-696d-4e07-8e3e-a7d34dec8278.png">
        <img
            class="lazyload"
            data-src="https://user-images.githubusercontent.com/1651790/172800854-8e01acae-696d-4e07-8e3e-a7d34dec8278.png"
            data-srcset="https://user-images.githubusercontent.com/1651790/172800854-8e01acae-696d-4e07-8e3e-a7d34dec8278.png, https://user-images.githubusercontent.com/1651790/172800854-8e01acae-696d-4e07-8e3e-a7d34dec8278.png 1.5x, https://user-images.githubusercontent.com/1651790/172800854-8e01acae-696d-4e07-8e3e-a7d34dec8278.png 2x"
            data-sizes="auto"
            alt="https://user-images.githubusercontent.com/1651790/172800854-8e01acae-696d-4e07-8e3e-a7d34dec8278.png">
    </a></p>
<p><a href="https://superset.apache.org/" target="_blank" rel="noopener noreferrer">Apache Superset</a> æ˜¯æˆ‘å¾ˆå–œæ¬¢çš„å¼€æºæ•°æ®å¯è§†åŒ–é¡¹ç›®ï¼Œæˆ‘å‡†å¤‡ç”¨å®ƒæ¥ä½œä¸ºè¢«æ²»ç†ç®¡ç†çš„ç›®æ ‡ä¹‹ä¸€ï¼ŒåŒæ—¶ï¼Œä¹Ÿä¼šåˆ©ç”¨å®ƒçš„å¯è§†åŒ–ä½œä¸ºå…ƒæ•°æ®æ´å¯ŸåŠŸèƒ½çš„ä¸€éƒ¨åˆ†ã€‚</p>
<p>âœ… - Dashboardï¼šApache Superset <a href="https://superset.apache.org/" target="_blank" rel="noopener noreferrer">https://superset.apache.org/</a></p>
<h4 id="ä»»åŠ¡ç¼–æ’dag-job-orchestration" class="headerLink">
    <a href="#%e4%bb%bb%e5%8a%a1%e7%bc%96%e6%8e%92dag-job-orchestration" class="header-mark"></a>2.2.5 ä»»åŠ¡ç¼–æ’ï¼ˆDAG Job Orchestrationï¼‰</h4><p>åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬çš„ DataOps ä½œä¸šã€ä»»åŠ¡ä¼šå¢é•¿åˆ°éœ€è¦ä¸€ä¸ªç¼–æ’ç³»ç»Ÿçš„è§„æ¨¡ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ <a href="https://airflow.apache.org/" target="_blank" rel="noopener noreferrer">Apache Airflow</a> æ¥è´Ÿè´£è¿™ä¸€å—ã€‚</p>
<p>âœ… - DAGï¼šApache Airflow <a href="https://airflow.apache.org/" target="_blank" rel="noopener noreferrer">https://airflow.apache.org/</a></p>
<h4 id="å…ƒæ•°æ®æ²»ç†" class="headerLink">
    <a href="#%e5%85%83%e6%95%b0%e6%8d%ae%e6%b2%bb%e7%90%86" class="header-mark"></a>2.2.6 å…ƒæ•°æ®æ²»ç†</h4><p>éšç€è¶Šæ¥è¶Šå¤šçš„ç»„ä»¶å’Œæ•°æ®è¢«å¼•å…¥æ•°æ®åŸºç¡€è®¾æ–½ï¼Œåœ¨æ•°æ®åº“ã€è¡¨ã€æ•°æ®å»ºæ¨¡(schema)ã€Dashboardã€DAGï¼ˆç¼–æ’ç³»ç»Ÿä¸­çš„æœ‰å‘æ— ç¯å›¾ï¼‰ã€åº”ç”¨ä¸æœåŠ¡çš„æ‰€æœ‰ç”Ÿå‘½å‘¨æœŸä¸­éƒ½å°†å­˜åœ¨æµ·é‡çš„å…ƒæ•°æ®ï¼Œéœ€è¦å¯¹å®ƒä»¬çš„ç®¡ç†å‘˜å’Œå›¢é˜Ÿè¿›è¡ŒååŒç®¡ç†ã€è¿æ¥å’Œå‘ç°ã€‚</p>
<p><a href="https://www.amundsen.io/amundsen/" target="_blank" rel="noopener noreferrer">Linux Foundation Amundsen</a> æ˜¯æˆ‘è®¤ä¸ºå¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜çš„æœ€ä½³é¡¹ç›®ä¹‹ä¸€ã€‚</p>
<p><a class="lightgallery" href="https://user-images.githubusercontent.com/1651790/172801018-ecd67fa9-2743-451f-8734-b14f2a814199.png" title="https://user-images.githubusercontent.com/1651790/172801018-ecd67fa9-2743-451f-8734-b14f2a814199.png" data-thumbnail="https://user-images.githubusercontent.com/1651790/172801018-ecd67fa9-2743-451f-8734-b14f2a814199.png">
        <img
            class="lazyload"
            data-src="https://user-images.githubusercontent.com/1651790/172801018-ecd67fa9-2743-451f-8734-b14f2a814199.png"
            data-srcset="https://user-images.githubusercontent.com/1651790/172801018-ecd67fa9-2743-451f-8734-b14f2a814199.png, https://user-images.githubusercontent.com/1651790/172801018-ecd67fa9-2743-451f-8734-b14f2a814199.png 1.5x, https://user-images.githubusercontent.com/1651790/172801018-ecd67fa9-2743-451f-8734-b14f2a814199.png 2x"
            data-sizes="auto"
            alt="https://user-images.githubusercontent.com/1651790/172801018-ecd67fa9-2743-451f-8734-b14f2a814199.png">
    </a></p>
<p>âœ… - æ•°æ®å‘ç°ï¼šLinux Foundation Amundsen <a href="https://www.amundsen.io/amundsen/" target="_blank" rel="noopener noreferrer">https://www.amundsen.io/amundsen/</a></p>
<p>Amundsen ç”¨å›¾æ•°æ®åº“ä¸ºäº‹å®æºï¼ˆsingle source of truthï¼‰ä»¥åŠ é€Ÿå¤šè·³æŸ¥è¯¢ï¼ŒElastic Search ä¸ºå…¨æ–‡æœç´¢å¼•æ“ï¼Œå®ƒèƒ½å¯¹æ‰€æœ‰å…ƒæ•°æ®åŠå…¶è¡€ç¼˜è¿›è¡Œäº†é¡ºæ»‘çš„å¤„ç†è¿˜æä¾›äº†ä¼˜é›…çš„ UI å’Œ APIã€‚</p>
<p>Amundsen æ”¯æŒå¤šç§å›¾æ•°æ®åº“ä¸ºåç«¯ï¼Œè¿™é‡Œå’±ä»¬ç”¨ <a href="https://nebula-graph.com.cn" target="_blank" rel="noopener noreferrer">NebulaGraph</a>ã€‚</p>
<p>âœ… - å…¨æ–‡æœç´¢ï¼šElastic Search</p>
<p>âœ… - å›¾æ•°æ®åº“ï¼šNebulaGraph</p>
<p>ç°åœ¨ï¼Œæ‰€æœ‰ç»„ä»¶éƒ½é½æ´»äº†ï¼Œå¼€å§‹ç»„è£…å®ƒä»¬å§ã€‚</p>
<h2 id="ç¯å¢ƒæ­å»ºä¸å„ç»„ä»¶åˆè¯†" class="headerLink">
    <a href="#%e7%8e%af%e5%a2%83%e6%90%ad%e5%bb%ba%e4%b8%8e%e5%90%84%e7%bb%84%e4%bb%b6%e5%88%9d%e8%af%86" class="header-mark"></a>3 ç¯å¢ƒæ­å»ºä¸å„ç»„ä»¶åˆè¯†</h2><p>æ•´ä¸ªé¡¹ç›®æ–¹æ¡ˆéƒ½æ˜¯å¼€æºçš„ï¼Œå¤§å®¶å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°å®ƒçš„æ‰€æœ‰ç»†èŠ‚ï¼š</p>
<ul>
<li><a href="https://github.com/wey-gu/data-lineage-ref-solution" target="_blank" rel="noopener noreferrer">https://github.com/wey-gu/data-lineage-ref-solution</a></li>
</ul>
<p>æ•´ä¸ªé¡¹ç›®å¤§å®¶çš„å®éªŒä¸­æˆ‘éµå¾ªå°½é‡å¹²å‡€ã€é¼“åŠ±çš„åŸåˆ™ï¼Œéœ€è¦å‡è®¾åœ¨ä¸€ä¸ª unix-like çš„ç³»ç»Ÿä¸Šè¿è¡Œï¼Œæœ‰äº’è”ç½‘å’Œ Docker-Composeã€‚</p>
<blockquote>
<p>æ³¨ï¼šå‚è€ƒ <a href="https://docs.docker.com/compose/install/" target="_blank" rel="noopener noreferrer">https://docs.docker.com/compose/install/</a> åœ¨ç»§ç»­ä¹‹å‰å®‰è£… Docker å’Œ Docker Composeã€‚</p>
</blockquote>
<p>è¿™é‡Œæˆ‘ä»¬åœ¨ Ubuntu 20.04 LTS X86_64 ä¸Šè¿è¡Œå®ƒï¼Œä½†åœ¨å…¶ä»–å‘è¡Œç‰ˆæˆ– Linux ç‰ˆæœ¬ä¸Šåº”è¯¥ä¹Ÿæ²¡æœ‰é—®é¢˜ã€‚</p>
<h3 id="è¿è¡Œä¸€ä¸ªæ•°ä»“æ•°æ®åº“" class="headerLink">
    <a href="#%e8%bf%90%e8%a1%8c%e4%b8%80%e4%b8%aa%e6%95%b0%e4%bb%93%e6%95%b0%e6%8d%ae%e5%ba%93" class="header-mark"></a>3.1 è¿è¡Œä¸€ä¸ªæ•°ä»“ã€æ•°æ®åº“</h3><p>é¦–å…ˆï¼Œå®‰è£… Postgres ä½œä¸ºæˆ‘ä»¬çš„æ•°ä»“ã€‚</p>
<p>è¿™ä¸ªå•è¡Œå‘½ä»¤ä¼šåˆ›å»ºä¸€ä¸ªä½¿ç”¨ docker åœ¨åå°è¿è¡Œçš„ Postgresï¼Œè¿›ç¨‹å…³é—­ä¹‹åå®¹å™¨ä¸ä¼šæ®‹ç•™è€Œæ˜¯è¢«æ¸…ç†æ‰ï¼ˆå› ä¸ºå‚æ•°<code>--rm</code>ï¼‰ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker run --rm --name postgres <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -e <span class="nv">POSTGRES_PASSWORD</span><span class="o">=</span>lineage_ref <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -e <span class="nv">POSTGRES_USER</span><span class="o">=</span>lineage_ref <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -e <span class="nv">POSTGRES_DB</span><span class="o">=</span>warehouse -d <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -p 5432:5432 postgres
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç„¶åæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Postgres CLI æˆ– GUI å®¢æˆ·ç«¯æ¥éªŒè¯å®ƒã€‚</p>
<blockquote>
<p>æç¤ºï¼šå¯ä»¥ç”¨ VS Code æ’ä»¶ï¼š<a href="https://marketplace.visualstudio.com/items?itemName=mtxr.sqltools" target="_blank" rel="noopener noreferrer">SQL TOOLS</a> å¿«é€Ÿä»¥ GUI æ–¹å¼è¿æ¥åˆ°æ•°æ®åº“ï¼ˆæ”¯æŒ MariaDBã€Postgres ã€Cassandra ç­‰ï¼‰</p>
<p><a href="https://marketplace.visualstudio.com/items?itemName=mtxr.sqltools" target="_blank" rel="noopener noreferrer">https://marketplace.visualstudio.com/items?itemName=mtxr.sqltools</a></p>
</blockquote>
<h3 id="dataops-å·¥å…·é“¾éƒ¨ç½²" class="headerLink">
    <a href="#dataops-%e5%b7%a5%e5%85%b7%e9%93%be%e9%83%a8%e7%bd%b2" class="header-mark"></a>3.2 DataOps å·¥å…·é“¾éƒ¨ç½²</h3><p>ç„¶åï¼Œå®‰è£…æœ‰æœºç»“åˆäº† Singler å’Œ dbt çš„ Meltanoã€‚</p>
<p>Meltano å¸®åŠ©æˆ‘ä»¬ç®¡ç† ETL å·¥å…·ï¼ˆä½œä¸ºæ’ä»¶ï¼‰åŠå…¶æ‰€æœ‰é…ç½®å’Œ pipelineã€‚ è¿™äº›å…ƒä¿¡æ¯ä½äº meltano é…ç½®åŠå…¶ç³»ç»Ÿæ•°æ®åº“ï¼ˆhttps://docs.meltano.com/concepts/project#system-databaseï¼‰ä¸­ï¼Œå…¶ä¸­é…ç½®æ˜¯åŸºäºæ–‡ä»¶çš„ï¼ˆå¯ä»¥ä½¿ç”¨ GitOps ç®¡ç†ï¼‰ï¼Œå®ƒçš„é»˜è®¤ç³»ç»Ÿæ•°æ®åº“æ˜¯ SQLiteã€‚</p>
<h4 id="å®‰è£…-meltano" class="headerLink">
    <a href="#%e5%ae%89%e8%a3%85-meltano" class="header-mark"></a>3.2.1 å®‰è£… Meltano</h4><p>ä½¿ç”¨ Meltano çš„å·¥ä½œæµæ˜¯å¯åŠ¨ä¸€ä¸ªâ€œmeltano é¡¹ç›®â€å¹¶å¼€å§‹å°† Eã€L å’Œ T æ·»åŠ åˆ°é…ç½®æ–‡ä»¶ä¸­ã€‚ é¡¹ç›®çš„å¯åŠ¨åªéœ€è¦ä¸€ä¸ª CLI å‘½ä»¤è°ƒç”¨ï¼š<code>meltano init yourprojectname</code>ï¼Œåœ¨é‚£ä¹‹å‰ï¼Œå¯ä»¥å…ˆç”¨ Python çš„åŒ…ç®¡ç†å™¨ï¼špip æˆ–è€… Docker é•œåƒå®‰è£… Meltanoï¼š</p>
<ul>
<li>åœ¨ python è™šæ‹Ÿç¯å¢ƒä¸­ä½¿ç”¨ pip å®‰è£… Meltanoï¼š</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">mkdir .venv
</span></span><span class="line"><span class="cl"><span class="c1"># example in a debian flavor Linux distro</span>
</span></span><span class="line"><span class="cl">sudo apt-get install python3-dev python3-pip python3-venv python3-wheel -y
</span></span><span class="line"><span class="cl">python3 -m venv .venv/meltano
</span></span><span class="line"><span class="cl"><span class="nb">source</span> .venv/meltano/bin/activate
</span></span><span class="line"><span class="cl">python3 -m pip install wheel
</span></span><span class="line"><span class="cl">python3 -m pip install meltano
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># init a project</span>
</span></span><span class="line"><span class="cl">mkdir meltano_projects <span class="o">&amp;&amp;</span> <span class="nb">cd</span> meltano_projects
</span></span><span class="line"><span class="cl"><span class="c1"># replace &lt;yourprojectname&gt; with your own one</span>
</span></span><span class="line"><span class="cl">touch .env
</span></span><span class="line"><span class="cl">meltano init &lt;yourprojectname&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>æˆ–è€…ç”¨å®¹å™¨å®‰è£… Meltanoï¼š</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker pull meltano/meltano:latest
</span></span><span class="line"><span class="cl">docker run --rm meltano/meltano --version
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># init a project</span>
</span></span><span class="line"><span class="cl">mkdir meltano_projects <span class="o">&amp;&amp;</span> <span class="nb">cd</span> meltano_projects
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># replace &lt;yourprojectname&gt; with your own one</span>
</span></span><span class="line"><span class="cl">touch .env
</span></span><span class="line"><span class="cl">docker run --rm -v <span class="s2">&#34;</span><span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span><span class="s2">&#34;</span>:/projects <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>             -w /projects --env-file .env <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>             meltano/meltano init &lt;yourprojectname&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>é™¤äº† <code>meltano init</code>ï¼Œè¿˜æœ‰ä¸€äº›å…¶ä»–å‘½ä»¤ï¼Œä¾‹å¦‚ <code>meltano etl</code> è¡¨ç¤º ETL çš„æ‰§è¡Œï¼Œè¿˜æœ‰ <code>meltano invoke &lt;plugin&gt;</code> æ¥è°ƒç”¨æ’ä»¶å‘½ä»¤ï¼Œè¯¦ç»†å¯ä»¥å‚è€ƒå®ƒçš„é€ŸæŸ¥è¡¨ï¼ˆhttps://docs.meltano.com/reference/command-line-interfaceï¼‰ã€‚</p>
<h4 id="meltano-gui-ç•Œé¢" class="headerLink">
    <a href="#meltano-gui-%e7%95%8c%e9%9d%a2" class="header-mark"></a>3.2.2 Meltano GUI ç•Œé¢</h4><p>Meltano è¿˜å¸¦æœ‰ä¸€ä¸ªåŸºäº Web çš„ UIï¼Œæ‰§è¡Œ <code>ui</code> å­å‘½ä»¤å°±æ˜¯å¯åŠ¨å®ƒï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">meltano ui
</span></span></code></pre></td></tr></table>
</div>
</div><p>é»˜è®¤ä»–ä¼šè·‘åœ¨ http://localhost:5000 ä¸Šã€‚</p>
<p>å¯¹äº Docker è¿è¡Œçš„æƒ…å†µï¼Œåªéœ€è¦åœ¨æš´éœ² 5000 ç«¯å£çš„æƒ…å†µä¸‹è¿è¡Œå®¹å™¨å³å¯ï¼Œç”±äºå®¹å™¨çš„é»˜è®¤å‘½ä»¤å·²ç»æ˜¯ <code>meltano ui</code>ï¼Œæ‰€ä»¥ <code>run</code> çš„å‘½ä»¤åªéœ€ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker run -v <span class="s2">&#34;</span><span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span><span class="s2">&#34;</span>:/project <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>             -w /project <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>             -p 5000:5000 <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>             meltano/meltano
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="meltano-é¡¹ç›®ç¤ºä¾‹" class="headerLink">
    <a href="#meltano-%e9%a1%b9%e7%9b%ae%e7%a4%ba%e4%be%8b" class="header-mark"></a>3.2.3 Meltano é¡¹ç›®ç¤ºä¾‹</h4><p>å†™åˆ°è¿™é‡Œçš„æ—¶å€™ï¼Œæˆ‘æ³¨æ„åˆ° <a href="https://github.com/pnadolny13" target="_blank" rel="noopener noreferrer">Pat Nadolny</a> åˆ›å»ºäº†å¾ˆå¥½çš„ç¤ºä¾‹é¡¹ç›®åœ¨ <a href="https://github.com/pnadolny13/meltano_example_implementations/tree/main/meltano_projects/singer_dbt_jaffle" target="_blank" rel="noopener noreferrer">https://github.com/pnadolny13/meltano_example_implementations/tree/main/meltano_projects/singer_dbt_jaffle</a>ï¼Œå®ƒåˆ©ç”¨ dbt çš„ Meltano ç¤ºä¾‹æ•°æ®é›†ï¼Œé‡‡ç”¨ Airflow ç¼–æ’ ETL ä»»åŠ¡ï¼ˆhttps://github.com/pnadolny13/meltano_example_implementations/tree/main/meltano_projects/dbt_orchestrationï¼Œè¿˜æœ‰åˆ©ç”¨ Superset çš„ä¾‹å­ï¼ˆhttps://github.com/pnadolny13/meltano_example_implementations/tree/main/meltano_projects/jaffle_supersetï¼‰ã€‚</p>
<p>è¿™é‡Œï¼Œæˆ‘å°±ä¸é‡å¤é€ è½®å­äº†ï¼Œç›´æ¥åˆ©ç”¨ä»–çš„ä¾‹å­å§ã€‚</p>
<p>å’±ä»¬å¯ä»¥å‚ç…§ <a href="https://github.com/pnadolny13/meltano_example_implementations/tree/main/meltano_projects/singer_dbt_jaffle" target="_blank" rel="noopener noreferrer">https://github.com/pnadolny13/meltano_example_implementations/tree/main/meltano_projects/singer_dbt_jaffle</a>ï¼Œè¿è¡Œè¿™æ ·çš„æ•°æ®ç®¡é“ï¼ˆpipelineï¼‰ï¼š</p>
<ul>
<li><a href="https://hub.meltano.com/taps/csv" target="_blank" rel="noopener noreferrer">tap-CSV</a>(Singer)ï¼Œä» CSV æ–‡ä»¶ä¸­æå–æ•°æ®</li>
<li><a href="https://hub.meltano.com/targets/postgres" target="_blank" rel="noopener noreferrer">target-postgres</a>(Singer)ï¼Œå°†æ•°æ®åŠ è½½åˆ° Postgres</li>
<li><a href="https://hub.meltano.com/transformers/dbt" target="_blank" rel="noopener noreferrer">dbt</a>ï¼Œå°†æ•°æ®è½¬æ¢ä¸ºèšåˆè¡¨æˆ–è§†å›¾</li>
</ul>
<blockquote>
<p>æ³¨æ„ï¼Œå‰è¾¹æˆ‘ä»¬å·²ç»å¯åŠ¨äº† postgresï¼Œé‚£ä¸€æ­¥å¯ä»¥è·³è¿‡ã€‚</p>
</blockquote>
<p>æ“ä½œè¿‡ç¨‹æ˜¯ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">git clone https://github.com/pnadolny13/meltano_example_implementations.git
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> meltano_example_implementations/meltano_projects/singer_dbt_jaffle/
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">meltano install
</span></span><span class="line"><span class="cl">touch .env
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> <span class="nv">PG_PASSWORD</span><span class="o">=</span><span class="s2">&#34;lineage_ref&#34;</span> &gt;&gt; .env
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> <span class="nv">PG_USERNAME</span><span class="o">=</span><span class="s2">&#34;lineage_ref&#34;</span> &gt;&gt; .env
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Extract and Load(with Singer)</span>
</span></span><span class="line"><span class="cl">meltano run tap-csv target-postgres
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Trasnform(with dbt)</span>
</span></span><span class="line"><span class="cl">meltano run dbt:run
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Generate dbt docs</span>
</span></span><span class="line"><span class="cl">meltano invoke dbt docs generate
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Serve generated dbt docs</span>
</span></span><span class="line"><span class="cl">meltano invoke dbt docs to serve
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Then visit http://localhost:8080</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥è¿æ¥åˆ° Postgres æ¥æŸ¥çœ‹ åŠ è½½å’Œè½¬æ¢åçš„æ•°æ®é¢„è§ˆå¦‚ä¸‹ï¼Œæˆªå›¾æ¥è‡ª VS Code çš„ SQLToolï¼š</p>
<p>Payments è¡¨é‡Œé•¿è¿™æ ·å­ï¼š</p>
<p><a class="lightgallery" href="https://user-images.githubusercontent.com/1651790/167540494-01e3dbd2-6ab1-41d2-998e-3b79f755bdc7.png" title="https://user-images.githubusercontent.com/1651790/167540494-01e3dbd2-6ab1-41d2-998e-3b79f755bdc7.png" data-thumbnail="https://user-images.githubusercontent.com/1651790/167540494-01e3dbd2-6ab1-41d2-998e-3b79f755bdc7.png">
        <img
            class="lazyload"
            data-src="https://user-images.githubusercontent.com/1651790/167540494-01e3dbd2-6ab1-41d2-998e-3b79f755bdc7.png"
            data-srcset="https://user-images.githubusercontent.com/1651790/167540494-01e3dbd2-6ab1-41d2-998e-3b79f755bdc7.png, https://user-images.githubusercontent.com/1651790/167540494-01e3dbd2-6ab1-41d2-998e-3b79f755bdc7.png 1.5x, https://user-images.githubusercontent.com/1651790/167540494-01e3dbd2-6ab1-41d2-998e-3b79f755bdc7.png 2x"
            data-sizes="auto"
            alt="https://user-images.githubusercontent.com/1651790/167540494-01e3dbd2-6ab1-41d2-998e-3b79f755bdc7.png">
    </a></p>
<h3 id="æ­ä¸€ä¸ª-bi-dashboard-ç³»ç»Ÿ" class="headerLink">
    <a href="#%e6%90%ad%e4%b8%80%e4%b8%aa-bi-dashboard-%e7%b3%bb%e7%bb%9f" class="header-mark"></a>3.3 æ­ä¸€ä¸ª BI Dashboard ç³»ç»Ÿ</h3><p>ç°åœ¨ï¼Œæˆ‘ä»¬æœ‰äº†æ•°æ®ä»“åº“ä¸­çš„ä¸€äº›æ•°æ®ï¼Œç”¨ ETL å·¥å…·é“¾å°†ä¸åŒçš„æ•°æ®æºå¯¼äº†è¿›å»ï¼Œæ¥ä¸‹æ¥å¯ä»¥è¯•ç€ç”¨ä¸€ä¸‹è¿™äº›æ•°æ®äº†ã€‚</p>
<p>åƒä»ªè¡¨å¤§ç›˜ Dashbaord è¿™æ ·çš„ BI å·¥å…·èƒ½å¸®åŠ©æˆ‘ä»¬ä»æ•°æ®ä¸­è·å¾—æœ‰ç”¨çš„æ´å¯Ÿï¼Œä½¿ç”¨ Apache Supersetï¼Œå¯ä»¥å¾ˆå®¹æ˜“åœ°åˆ›å»ºå’Œç®¡ç†åŸºäºè¿™äº›æ•°æ®æºçš„ Dashboard å’Œå„å¼å„æ ·çš„å›¾è¡¨ã€‚</p>
<p>æœ¬ç« çš„é‡ç‚¹ä¸åœ¨äº Apache Superset æœ¬èº«ï¼Œæ‰€ä»¥ï¼Œå’±ä»¬è¿˜æ˜¯å¤ç”¨ <a href="https://github.com/pnadolny13" target="_blank" rel="noopener noreferrer">Pat Nadolny</a> åœ¨çš„ä¾‹å­ <a href="https://github.com/pnadolny13/meltano_example_implementations/tree/main/meltano_projects/jaffle_superset" target="_blank" rel="noopener noreferrer">https://github.com/pnadolny13/meltano_example_implementations/tree/main/meltano_projects/jaffle_superset</a>ã€‚</p>
<h4 id="bootstrap-meltano-å’Œ-superset" class="headerLink">
    <a href="#bootstrap-meltano-%e5%92%8c-superset" class="header-mark"></a>3.3.1 Bootstrap Meltano å’Œ Superset</h4><p>åˆ›å»ºä¸€ä¸ªå®‰è£…äº† Meltano çš„ python venvï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">mkdir .venv
</span></span><span class="line"><span class="cl">python3 -m venv .venv/meltano
</span></span><span class="line"><span class="cl"><span class="nb">source</span> .venv/meltano/bin/activate
</span></span><span class="line"><span class="cl">python3 -m pip install wheel
</span></span><span class="line"><span class="cl">python3 -m pip install meltano
</span></span></code></pre></td></tr></table>
</div>
</div><p>å‚è€ƒ Pat çš„ Guideï¼ˆhttps://github.com/pnadolny13/meltano_example_implementations/tree/main/meltano_projects/jaffle_supersetï¼‰ï¼Œç¨å¾®åšä¸€äº›ä¿®æ”¹ï¼š</p>
<ul>
<li>å…‹éš† repoï¼Œè¿›å…¥ <code>jaffle_superset</code> é¡¹ç›®</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">git clone https://github.com/pnadolny13/meltano_example_implementations.git
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> meltano_example_implementations/meltano_projects/jaffle_superset/
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>ä¿®æ”¹meltanoé…ç½®æ–‡ä»¶ï¼Œè®© Superset è¿æ¥åˆ°æˆ‘ä»¬åˆ›å»ºçš„ Postgresï¼š</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">vim meltano_projects/jaffle_superset/meltano.yml
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¿™é‡Œï¼Œæˆ‘å°†ä¸»æœºåæ›´æ”¹ä¸ºâ€œ10.1.1.111â€ï¼Œè¿™æ˜¯æˆ‘å½“å‰ä¸»æœºçš„ IPï¼Œè€Œå¦‚æœè¯»è€…åœ¨ Windows æˆ–è€… macOS æœºå™¨çš„ Docker Desktop ä¸Šè·‘çš„è¯ï¼Œè¿™é‡Œä¸è¦ä¿®æ”¹ï¼Œå¦åˆ™è¦å‚è€ƒæˆ‘å»æ”¹æˆè‡ªå·±å®é™…çš„åœ°å€ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-diff" data-lang="diff"><span class="line"><span class="cl"><span class="gd">--- a/meltano_projects/jaffle_superset/meltano.yml
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+++ b/meltano_projects/jaffle_superset/meltano.yml
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gu">@@ -71,7 +71,7 @@ plugins:
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>               A list of database driver dependencies can be found here https://superset.apache.org/docs/databases/installing-database-drivers
</span></span><span class="line"><span class="cl">     config:
</span></span><span class="line"><span class="cl">       database_name: my_postgres
</span></span><span class="line"><span class="cl"><span class="gd">-      sqlalchemy_uri: postgresql+psycopg2://${PG_USERNAME}:${PG_PASSWORD}@host.docker.internal:${PG_PORT}/${PG_DATABASE}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+      sqlalchemy_uri: postgresql+psycopg2://${PG_USERNAME}:${PG_PASSWORD}@10.1.1.168:${PG_PORT}/${PG_DATABASE}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>       tables:
</span></span><span class="line"><span class="cl">       - model.my_meltano_project.customers
</span></span><span class="line"><span class="cl">       - model.my_meltano_project.orders
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>æ·»åŠ  Postgres ç™»å½•çš„ä¿¡æ¯åˆ°  <code>.env</code> æ–‡ä»¶ï¼š</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">echo</span> <span class="nv">PG_USERNAME</span><span class="o">=</span>lineage_ref &gt;&gt; .env
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> <span class="nv">PG_PASSWORD</span><span class="o">=</span>lineage_ref &gt;&gt; .env
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>å®‰è£… Meltano é¡¹ç›®ï¼Œè¿è¡Œ ETL ä»»åŠ¡</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">meltano install
</span></span><span class="line"><span class="cl">meltano run tap-csv target-postgres dbt:run
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>è°ƒç”¨ã€å¯åŠ¨ supersetï¼Œè¿™é‡Œæ³¨æ„ <code>ui</code> ä¸æ˜¯ meltano çš„å†…éƒ¨å‘½ä»¤ï¼Œè€Œæ˜¯ä¸€ä¸ªé…ç½®è¿›å»çš„è‡ªå®šä¹‰è¡Œä¸ºï¼ˆuser-defined actionï¼‰</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">meltano invoke superset:ui
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>åœ¨å¦ä¸€ä¸ªå‘½ä»¤è¡Œç»ˆç«¯ï¼Œæ‰§è¡Œå¦ä¸€ä¸ªè‡ªå®šä¹‰çš„å‘½ä»¤ <code>load_datasources</code></li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">meltano invoke superset:load_datasources
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>é€šè¿‡æµè§ˆå™¨è®¿é—® http://localhost:8088/ å°±æ˜¯Superset çš„å›¾å½¢ç•Œé¢äº†ï¼š</li>
</ul>
<p><a class="lightgallery" href="https://user-images.githubusercontent.com/1651790/168570300-186b56a5-58e8-4ff1-bc06-89fd77d74166.png" title="https://user-images.githubusercontent.com/1651790/168570300-186b56a5-58e8-4ff1-bc06-89fd77d74166.png" data-thumbnail="https://user-images.githubusercontent.com/1651790/168570300-186b56a5-58e8-4ff1-bc06-89fd77d74166.png">
        <img
            class="lazyload"
            data-src="https://user-images.githubusercontent.com/1651790/168570300-186b56a5-58e8-4ff1-bc06-89fd77d74166.png"
            data-srcset="https://user-images.githubusercontent.com/1651790/168570300-186b56a5-58e8-4ff1-bc06-89fd77d74166.png, https://user-images.githubusercontent.com/1651790/168570300-186b56a5-58e8-4ff1-bc06-89fd77d74166.png 1.5x, https://user-images.githubusercontent.com/1651790/168570300-186b56a5-58e8-4ff1-bc06-89fd77d74166.png 2x"
            data-sizes="auto"
            alt="https://user-images.githubusercontent.com/1651790/168570300-186b56a5-58e8-4ff1-bc06-89fd77d74166.png">
    </a></p>
<h4 id="åˆ›å»ºä¸€ä¸ª-dashboard" class="headerLink">
    <a href="#%e5%88%9b%e5%bb%ba%e4%b8%80%e4%b8%aa-dashboard" class="header-mark"></a>3.3.2 åˆ›å»ºä¸€ä¸ª Dashboard</h4><p>è¯•ä¸€ä¸‹åœ¨è¿™ä¸ª Meltano é¡¹ç›®ä¸­å®šä¹‰çš„ Postgres ä¸­çš„ ETL æ•°æ®ä¸Šåˆ›å»ºä¸€ä¸ª Dashboard å§</p>
<ul>
<li>ç‚¹å‡» <code>+ DASHBOARD</code>ï¼Œå¡«å†™ä»ªè¡¨ç›˜åç§°ï¼Œç„¶åç‚¹å‡» <code>SAVE</code>ï¼Œç„¶åç‚¹å‡» <code>+ CREATE A NEW CHART</code></li>
</ul>
<p><a class="lightgallery" href="https://user-images.githubusercontent.com/1651790/168570363-c6b4f929-2aad-4f03-8e3e-b1b61f560ce5.png" title="https://user-images.githubusercontent.com/1651790/168570363-c6b4f929-2aad-4f03-8e3e-b1b61f560ce5.png" data-thumbnail="https://user-images.githubusercontent.com/1651790/168570363-c6b4f929-2aad-4f03-8e3e-b1b61f560ce5.png">
        <img
            class="lazyload"
            data-src="https://user-images.githubusercontent.com/1651790/168570363-c6b4f929-2aad-4f03-8e3e-b1b61f560ce5.png"
            data-srcset="https://user-images.githubusercontent.com/1651790/168570363-c6b4f929-2aad-4f03-8e3e-b1b61f560ce5.png, https://user-images.githubusercontent.com/1651790/168570363-c6b4f929-2aad-4f03-8e3e-b1b61f560ce5.png 1.5x, https://user-images.githubusercontent.com/1651790/168570363-c6b4f929-2aad-4f03-8e3e-b1b61f560ce5.png 2x"
            data-sizes="auto"
            alt="https://user-images.githubusercontent.com/1651790/168570363-c6b4f929-2aad-4f03-8e3e-b1b61f560ce5.png">
    </a></p>
<ul>
<li>åœ¨æ–°å›¾è¡¨ï¼ˆCreate a new chartï¼‰è§†å›¾ä¸­ï¼Œæˆ‘ä»¬åº”è¯¥é€‰æ‹©å›¾è¡¨ç±»å‹å’Œæ•°æ®é›†ã€‚ åœ¨è¿™é‡Œï¼Œæˆ‘é€‰æ‹©äº† <code>orders</code> è¡¨ä½œä¸ºæ•°æ®æºå’Œ <code>Pie Chart</code> å›¾è¡¨ç±»å‹ï¼š</li>
</ul>
<p><a class="lightgallery" href="https://user-images.githubusercontent.com/1651790/168570927-9559a2a1-fed7-43be-9f6a-f6fb3c263830.png" title="https://user-images.githubusercontent.com/1651790/168570927-9559a2a1-fed7-43be-9f6a-f6fb3c263830.png" data-thumbnail="https://user-images.githubusercontent.com/1651790/168570927-9559a2a1-fed7-43be-9f6a-f6fb3c263830.png">
        <img
            class="lazyload"
            data-src="https://user-images.githubusercontent.com/1651790/168570927-9559a2a1-fed7-43be-9f6a-f6fb3c263830.png"
            data-srcset="https://user-images.githubusercontent.com/1651790/168570927-9559a2a1-fed7-43be-9f6a-f6fb3c263830.png, https://user-images.githubusercontent.com/1651790/168570927-9559a2a1-fed7-43be-9f6a-f6fb3c263830.png 1.5x, https://user-images.githubusercontent.com/1651790/168570927-9559a2a1-fed7-43be-9f6a-f6fb3c263830.png 2x"
            data-sizes="auto"
            alt="https://user-images.githubusercontent.com/1651790/168570927-9559a2a1-fed7-43be-9f6a-f6fb3c263830.png">
    </a></p>
<ul>
<li>ç‚¹å‡»â€œCREATE NEW CHARTâ€åï¼Œæˆ‘ä»¬åœ¨å›¾è¡¨å®šä¹‰è§†å›¾ä¸­ï¼Œæˆ‘é€‰æ‹©äº†â€œstatusâ€çš„â€œQueryâ€ä¸ºâ€œDIMENSIONSâ€ï¼Œâ€œCOUNT(amount)â€ä¸ºâ€œMETRICâ€ã€‚ è‡³æ­¤ï¼Œå’±ä»¬å°±å¯ä»¥çœ‹åˆ°æ¯ä¸ªè®¢å•çŠ¶æ€åˆ†å¸ƒçš„é¥¼å›¾äº†ã€‚</li>
</ul>
<p><a class="lightgallery" href="https://user-images.githubusercontent.com/1651790/168571130-a65ba88e-1ebe-4699-8783-08e5ecf54a0c.png" title="https://user-images.githubusercontent.com/1651790/168571130-a65ba88e-1ebe-4699-8783-08e5ecf54a0c.png" data-thumbnail="https://user-images.githubusercontent.com/1651790/168571130-a65ba88e-1ebe-4699-8783-08e5ecf54a0c.png">
        <img
            class="lazyload"
            data-src="https://user-images.githubusercontent.com/1651790/168571130-a65ba88e-1ebe-4699-8783-08e5ecf54a0c.png"
            data-srcset="https://user-images.githubusercontent.com/1651790/168571130-a65ba88e-1ebe-4699-8783-08e5ecf54a0c.png, https://user-images.githubusercontent.com/1651790/168571130-a65ba88e-1ebe-4699-8783-08e5ecf54a0c.png 1.5x, https://user-images.githubusercontent.com/1651790/168571130-a65ba88e-1ebe-4699-8783-08e5ecf54a0c.png 2x"
            data-sizes="auto"
            alt="https://user-images.githubusercontent.com/1651790/168571130-a65ba88e-1ebe-4699-8783-08e5ecf54a0c.png">
    </a></p>
<ul>
<li>ç‚¹å‡» <code>SAVE</code> ï¼Œå®ƒä¼šè¯¢é—®åº”è¯¥å°†æ­¤å›¾è¡¨æ·»åŠ åˆ°å“ªä¸ª Dashboardï¼Œé€‰æ‹©åï¼Œå•å‡» <code>SAVE &amp; GO TO DASHBOARD</code>ã€‚</li>
</ul>
<p><a class="lightgallery" href="https://user-images.githubusercontent.com/1651790/168571301-8ae69983-eda8-4e75-99cf-6904f583fc7c.png" title="https://user-images.githubusercontent.com/1651790/168571301-8ae69983-eda8-4e75-99cf-6904f583fc7c.png" data-thumbnail="https://user-images.githubusercontent.com/1651790/168571301-8ae69983-eda8-4e75-99cf-6904f583fc7c.png">
        <img
            class="lazyload"
            data-src="https://user-images.githubusercontent.com/1651790/168571301-8ae69983-eda8-4e75-99cf-6904f583fc7c.png"
            data-srcset="https://user-images.githubusercontent.com/1651790/168571301-8ae69983-eda8-4e75-99cf-6904f583fc7c.png, https://user-images.githubusercontent.com/1651790/168571301-8ae69983-eda8-4e75-99cf-6904f583fc7c.png 1.5x, https://user-images.githubusercontent.com/1651790/168571301-8ae69983-eda8-4e75-99cf-6904f583fc7c.png 2x"
            data-sizes="auto"
            alt="https://user-images.githubusercontent.com/1651790/168571301-8ae69983-eda8-4e75-99cf-6904f583fc7c.png">
    </a></p>
<ul>
<li>ç„¶åï¼Œåœ¨ Dashboard ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°é‚£é‡Œçš„æ‰€æœ‰å›¾è¡¨ã€‚ æ‚¨å¯ä»¥çœ‹åˆ°æˆ‘è¿˜æ·»åŠ äº†å¦ä¸€ä¸ªå›¾è¡¨æ¥æ˜¾ç¤ºå®¢æˆ·è®¢å•æ•°é‡åˆ†å¸ƒï¼š</li>
</ul>
<p><a class="lightgallery" href="https://user-images.githubusercontent.com/1651790/168571878-30a77057-1f66-448a-9bbd-0dedcee24cc9.png" title="https://user-images.githubusercontent.com/1651790/168571878-30a77057-1f66-448a-9bbd-0dedcee24cc9.png" data-thumbnail="https://user-images.githubusercontent.com/1651790/168571878-30a77057-1f66-448a-9bbd-0dedcee24cc9.png">
        <img
            class="lazyload"
            data-src="https://user-images.githubusercontent.com/1651790/168571878-30a77057-1f66-448a-9bbd-0dedcee24cc9.png"
            data-srcset="https://user-images.githubusercontent.com/1651790/168571878-30a77057-1f66-448a-9bbd-0dedcee24cc9.png, https://user-images.githubusercontent.com/1651790/168571878-30a77057-1f66-448a-9bbd-0dedcee24cc9.png 1.5x, https://user-images.githubusercontent.com/1651790/168571878-30a77057-1f66-448a-9bbd-0dedcee24cc9.png 2x"
            data-sizes="auto"
            alt="https://user-images.githubusercontent.com/1651790/168571878-30a77057-1f66-448a-9bbd-0dedcee24cc9.png">
    </a></p>
<ul>
<li>ç‚¹  <code>Â·Â·Â·</code> çš„è¯ï¼Œè¿˜èƒ½çœ‹åˆ°åˆ·æ–°ç‡è®¾ç½®ã€ä¸‹è½½æ¸²æŸ“å›¾ç­‰å…¶ä»–çš„åŠŸèƒ½ã€‚</li>
</ul>
<p><a class="lightgallery" href="https://user-images.githubusercontent.com/1651790/168573874-b5d57919-2866-4b3c-a4e5-55b6e6ef342e.png" title="https://user-images.githubusercontent.com/1651790/168573874-b5d57919-2866-4b3c-a4e5-55b6e6ef342e.png" data-thumbnail="https://user-images.githubusercontent.com/1651790/168573874-b5d57919-2866-4b3c-a4e5-55b6e6ef342e.png">
        <img
            class="lazyload"
            data-src="https://user-images.githubusercontent.com/1651790/168573874-b5d57919-2866-4b3c-a4e5-55b6e6ef342e.png"
            data-srcset="https://user-images.githubusercontent.com/1651790/168573874-b5d57919-2866-4b3c-a4e5-55b6e6ef342e.png, https://user-images.githubusercontent.com/1651790/168573874-b5d57919-2866-4b3c-a4e5-55b6e6ef342e.png 1.5x, https://user-images.githubusercontent.com/1651790/168573874-b5d57919-2866-4b3c-a4e5-55b6e6ef342e.png 2x"
            data-sizes="auto"
            alt="https://user-images.githubusercontent.com/1651790/168573874-b5d57919-2866-4b3c-a4e5-55b6e6ef342e.png">
    </a></p>
<p>ç›®å‰ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªç®€å•ä½†å…¸å‹çš„ homelab æ•°æ®æŠ€æœ¯æ ˆäº†ï¼Œå¹¶ä¸”æ‰€æœ‰ä¸œè¥¿éƒ½æ˜¯å¼€æºçš„ï¼</p>
<p>æƒ³è±¡ä¸€ä¸‹ï¼Œæˆ‘ä»¬åœ¨ CSV ä¸­æœ‰ 100 ä¸ªæ•°æ®é›†ï¼Œåœ¨æ•°æ®ä»“åº“ä¸­æœ‰ 200 ä¸ªè¡¨ï¼Œå¹¶ä¸”æœ‰å‡ ä¸ªæ•°æ®å·¥ç¨‹å¸ˆåœ¨è¿è¡Œä¸åŒçš„é¡¹ç›®ï¼Œè¿™äº›é¡¹ç›®ä½¿ç”¨ã€ç”Ÿæˆä¸åŒçš„åº”ç”¨ä¸æœåŠ¡ã€Dashbaord å’Œæ•°æ®åº“ã€‚ å½“æœ‰äººæƒ³è¦æŸ¥æ‰¾ã€å‘ç°æˆ–è€…ä¿®æ”¹å…¶ä¸­çš„ä¸€äº›è¡¨ã€æ•°æ®é›†ã€Dashbaord å’Œç®¡é“ï¼Œåœ¨æ²Ÿé€šå’Œå·¥ç¨‹æ–¹é¢å¯èƒ½éƒ½æ˜¯éå¸¸ä¸å¥½ç®¡ç†çš„ã€‚</p>
<p>å¦‚å‰è¾¹æåˆ°çš„ï¼Œæˆ‘ä»¬éœ€è¦è¿™ä¸ªç¤ºä¾‹é¡¹ç›®çš„ä¸»è¦éƒ¨åˆ†ï¼šå…ƒæ•°æ®å‘ç°ç³»ç»Ÿã€‚</p>
<h3 id="å…ƒæ•°æ®å‘ç°ç³»ç»Ÿ" class="headerLink">
    <a href="#%e5%85%83%e6%95%b0%e6%8d%ae%e5%8f%91%e7%8e%b0%e7%b3%bb%e7%bb%9f" class="header-mark"></a>3.4 å…ƒæ•°æ®å‘ç°ç³»ç»Ÿ</h3><p>ç„¶åï¼Œæˆ‘ä»¬éƒ¨ç½²ä¸€ä¸ªå¸¦æœ‰ NebulaGraph å’Œ Elasticsearch çš„ Amundsenã€‚</p>
<blockquote>
<p>æ³¨ï¼šç›®å‰ã€NebulaGraph ä½œä¸º Amundsen åç«¯çš„ PRã€‘ï¼ˆhttps://github.com/amundsen-io/amundsen/pull/1817ï¼‰å°šæœªåˆå¹¶ï¼Œæˆ‘è¿˜åœ¨ä¸ Amundsen å›¢é˜Ÿåˆä½œï¼ˆhttps://github.com/amundsen-io/rfcs/pull/48ï¼‰æ¥å®ç°å®ƒã€‚</p>
</blockquote>
<p>æœ‰äº† Amundsenï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸€ä¸ªåœ°æ–¹å‘ç°å’Œç®¡ç†æ•´ä¸ªæ•°æ®æ ˆä¸­çš„æ‰€æœ‰å…ƒæ•°æ®ã€‚</p>
<p>Amundsen ä¸»è¦æœ‰ä¸¤ä¸ªéƒ¨åˆ†ç»„æˆï¼š</p>
<ul>
<li>å…ƒæ•°æ®å¯¼å…¥ Metadata Ingestion
<ul>
<li><a href="https://www.amundsen.io/amundsen/databuilder/" target="_blank" rel="noopener noreferrer">Amundsen Data builder</a></li>
</ul>
</li>
<li>å…ƒæ•°æ®ç›®å½•æœåŠ¡ Metadata Catalog
<ul>
<li><a href="https://www.amundsen.io/amundsen/frontend/" target="_blank" rel="noopener noreferrer">Amundsen Frontend service</a></li>
<li><a href="https://www.amundsen.io/amundsen/metadata/" target="_blank" rel="noopener noreferrer">Amundsen Metadata service</a></li>
<li><a href="https://www.amundsen.io/amundsen/search/" target="_blank" rel="noopener noreferrer">Amundsen Search service</a></li>
</ul>
</li>
</ul>
<p>å®ƒçš„å·¥ä½œåŸç†æ˜¯ï¼šåˆ©ç”¨ <code>Data builder</code> ä»ä¸åŒæ¥æºæå–å…ƒæ•°æ®ï¼Œå¹¶å°†å…ƒæ•°æ®æŒä¹…åŒ–åˆ° <code>Meta service</code> çš„åç«¯å­˜å‚¨å’Œ <code>Search service</code> çš„åç«¯å­˜å‚¨ä¸­ï¼Œç”¨æˆ·ä» <code>Froent service</code> æˆ–é€šè¿‡ <code>Meta Service</code> çš„APIã€‚</p>
<h4 id="éƒ¨ç½²-amundsen" class="headerLink">
    <a href="#%e9%83%a8%e7%bd%b2-amundsen" class="header-mark"></a>3.4.1 éƒ¨ç½² Amundsen</h4><h5 id="å…ƒæ•°æ®æœåŠ¡-metadata-service" class="headerLink">
    <a href="#%e5%85%83%e6%95%b0%e6%8d%ae%e6%9c%8d%e5%8a%a1-metadata-service" class="header-mark"></a>3.4.1.1 å…ƒæ•°æ®æœåŠ¡ Metadata service</h5><p>æˆ‘ä»¬ç”¨ docker-compose æ–‡ä»¶éƒ¨ç½²ä¸€ä¸ª Amundsen é›†ç¾¤ã€‚ ç”±äº NebulaGraph åç«¯æ”¯æŒå°šæœªåˆå¹¶ï¼Œè¿˜ä¸èƒ½ç”¨å®˜æ–¹çš„ä»£ç ï¼Œå…ˆç”¨æˆ‘è‡ªå·±çš„åˆ†å‰ç‰ˆæœ¬ã€‚</p>
<p>é¦–å…ˆï¼Œè®©æˆ‘ä»¬å…‹éš†åŒ…å«æ‰€æœ‰å­æ¨¡å—çš„ repoï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">git clone -b amundsen_nebula_graph --recursive git@github.com:wey-gu/amundsen.git
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> amundsen
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç„¶åï¼Œå¯åŠ¨æ‰€æœ‰ç›®å½•æœåŠ¡ï¼ˆcatalog servicesï¼‰åŠå…¶åç«¯å­˜å‚¨ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker-compose -f docker-amundsen-nebula.yml up
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>æ³¨ï¼šå¯ä»¥æ·»åŠ  <code>-d</code> æ¥è®©å®¹å™¨åœ¨åå°è¿è¡Œï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker-compose -f docker-amundsen-nebula.yml up -d
</span></span></code></pre></td></tr></table>
</div>
</div><p>å…³é—­åå°è¿è¡Œçš„é›†ç¾¤</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker-compose -f docker-amundsen-nebula.yml stop
</span></span></code></pre></td></tr></table>
</div>
</div><p>åˆ é™¤åå°è¿è¡Œçš„é›†ç¾¤</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker-compose -f docker-amundsen-nebula.yml down
</span></span></code></pre></td></tr></table>
</div>
</div></blockquote>
<p>ç”±äºè¿™ä¸ª docker-compose æ–‡ä»¶æ˜¯ä¾›å¼€å‘äººå‘˜è¯•ç©ã€è°ƒè¯• Amundsen ç”¨çš„ï¼Œè€Œä¸æ˜¯ç»™ç”Ÿäº§éƒ¨ç½²å‡†å¤‡çš„ï¼Œå®ƒåœ¨å¯åŠ¨çš„æ—¶å€™ä¼šä»ä»£ç åº“æ„å»ºé•œåƒï¼Œç¬¬ä¸€æ¬¡è·‘çš„æ—¶å€™å¯åŠ¨ä¼šæ…¢ä¸€äº›ã€‚</p>
<p>éƒ¨ç½²å¥½äº†ä¹‹åï¼Œæˆ‘ä»¬ä½¿ç”¨ Data builder å°†ä¸€äº›ç¤ºä¾‹ã€è™šæ„çš„æ•°æ®åŠ è½½å­˜å‚¨é‡Œã€‚</p>
<h5 id="æŠ“å–å…ƒæ•°æ®-data-builder" class="headerLink">
    <a href="#%e6%8a%93%e5%8f%96%e5%85%83%e6%95%b0%e6%8d%ae-data-builder" class="header-mark"></a>3.4.1.2 æŠ“å–å…ƒæ•°æ® Data builder</h5><p>Amundsen Data builder å°±åƒ Meltano ç³»ç»Ÿä¸€æ ·ï¼Œåªä¸è¿‡æ˜¯ç”¨åœ¨å…ƒæ•°æ®çš„ä¸Šçš„ ETL ï¼Œå®ƒæŠŠå…ƒæ•°æ®åŠ è½½åˆ°â€œMeta serviceâ€å’Œâ€œSearch serviceâ€çš„åç«¯å­˜å‚¨ï¼šNebulaGraph å’Œ Elasticsearch é‡Œã€‚ è¿™é‡Œçš„ Data builder åªæ˜¯ä¸€ä¸ª python æ¨¡å—ï¼Œæ‰€æœ‰çš„å…ƒæ•°æ® ETL ä½œä¸šå¯ä»¥ä½œä¸ºè„šæœ¬è¿è¡Œï¼Œä¹Ÿå¯ä»¥ç”¨ Apache Airflow ç­‰ DAG å¹³å°è¿›è¡Œç¼–æ’ã€‚</p>
<p>å®‰è£… <a href="https://github.com/amundsen-io/amundsen/tree/main/databuilder" target="_blank" rel="noopener noreferrer">Amundsen Data builder</a>ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">cd</span> databuilder
</span></span><span class="line"><span class="cl">python3 -m venv .venv
</span></span><span class="line"><span class="cl"><span class="nb">source</span> .venv/bin/activate
</span></span><span class="line"><span class="cl">python3 -m pip install wheel
</span></span><span class="line"><span class="cl">python3 -m pip install -r requirements.txt
</span></span><span class="line"><span class="cl">python3 setup.py install
</span></span></code></pre></td></tr></table>
</div>
</div><p>è°ƒç”¨è¿™ä¸ªç¤ºä¾‹æ•°æ®æ„å»ºå™¨ ETL è„šæœ¬æ¥æŠŠç¤ºä¾‹çš„è™šæ‹Ÿæ•°æ®å¯¼è¿›å»ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">python3 example/scripts/sample_data_loader_nebula.py
</span></span></code></pre></td></tr></table>
</div>
</div><h5 id="éªŒè¯ä¸€ä¸‹-amundsen" class="headerLink">
    <a href="#%e9%aa%8c%e8%af%81%e4%b8%80%e4%b8%8b-amundsen" class="header-mark"></a>3.4.1.3 éªŒè¯ä¸€ä¸‹ Amundsen</h5><p>åœ¨è®¿é—® Amundsen ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªæµ‹è¯•ç”¨æˆ·ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># run a container with curl attached to amundsenfrontend</span>
</span></span><span class="line"><span class="cl">docker run -it --rm --net container:amundsenfrontend nicolaka/netshoot
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Create a user with id test_user_id</span>
</span></span><span class="line"><span class="cl">curl -X PUT -v http://amundsenmetadata:5002/user <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-Type: application/json&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --data <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    <span class="s1">&#39;{&#34;user_id&#34;:&#34;test_user_id&#34;,&#34;first_name&#34;:&#34;test&#34;,&#34;last_name&#34;:&#34;user&#34;, &#34;email&#34;:&#34;test_user_id@mail.com&#34;}&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">exit</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç„¶åæˆ‘ä»¬å¯ä»¥åœ¨ <a href="http://localhost:5000/" target="_blank" rel="noopener noreferrer">http://localhost:5000</a> æŸ¥çœ‹ UI å¹¶å°è¯•æœç´¢ <code>test</code>ï¼Œå®ƒåº”è¯¥ä¼šè¿”å›ä¸€äº›ç»“æœã€‚</p>
<p><a class="lightgallery" href="https://github.com/amundsen-io/amundsen/raw/master/docs/img/search-page.png" title="https://github.com/amundsen-io/amundsen/raw/master/docs/img/search-page.png" data-thumbnail="https://github.com/amundsen-io/amundsen/raw/master/docs/img/search-page.png">
        <img
            class="lazyload"
            data-src="https://github.com/amundsen-io/amundsen/raw/master/docs/img/search-page.png"
            data-srcset="https://github.com/amundsen-io/amundsen/raw/master/docs/img/search-page.png, https://github.com/amundsen-io/amundsen/raw/master/docs/img/search-page.png 1.5x, https://github.com/amundsen-io/amundsen/raw/master/docs/img/search-page.png 2x"
            data-sizes="auto"
            alt="https://github.com/amundsen-io/amundsen/raw/master/docs/img/search-page.png">
    </a></p>
<p>ç„¶åï¼Œå¯ä»¥å•å‡»å¹¶æµè§ˆåœ¨â€œsample_data_loader_nebula.pyâ€æœŸé—´åŠ è½½åˆ° Amundsen çš„é‚£äº›ç¤ºä¾‹å…ƒæ•°æ®ã€‚</p>
<p>æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡ NebulaStudio(http://localhost:7001) è®¿é—® NebulaGraph é‡Œçš„è¿™äº›æ•°æ®ã€‚</p>
<blockquote>
<p>æ³¨æ„åœ¨ Nebula Studio ä¸­ï¼Œé»˜è®¤ç™»å½•å­—æ®µä¸ºï¼š</p>
<ul>
<li>ä¸»æœºï¼š<code>graphd:9669</code></li>
<li>ç”¨æˆ·ï¼š<code>root</code></li>
<li>å¯†ç ï¼š<code>nebula</code></li>
</ul>
</blockquote>
<p>ä¸‹å›¾æ˜¾ç¤ºäº†æœ‰å…³ Amundsen ç»„ä»¶çš„æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
</span></span><span class="line"><span class="cl">       â”‚ Frontend:5000          â”‚ â”‚ Metadata Sources                       â”‚
</span></span><span class="line"><span class="cl">       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
</span></span><span class="line"><span class="cl">       â”‚ Metaservice:5001       â”‚ â”‚ â”‚        â”‚ â”‚         â”‚ â”‚             â”‚ â”‚
</span></span><span class="line"><span class="cl">       â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚ â”‚ â”‚ Foo DB â”‚ â”‚ Bar App â”‚ â”‚ X Dashboard â”‚ â”‚
</span></span><span class="line"><span class="cl">  â”Œâ”€â”€â”€â”€â”¼â”€â”¤ Nebula Proxy â”‚       â”‚ â”‚ â”‚        â”‚ â”‚         â”‚ â”‚             â”‚ â”‚
</span></span><span class="line"><span class="cl">  â”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚ â”‚ â”‚        â”‚ â”‚         â”‚ â”‚             â”‚ â”‚
</span></span><span class="line"><span class="cl">  â”‚    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
</span></span><span class="line"><span class="cl">â”Œâ”€â”¼â”€â”€â”€â”€â”¤ Search searvice:5002   â”‚ â”‚                  â”‚                     â”‚
</span></span><span class="line"><span class="cl">â”‚ â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</span></span><span class="line"><span class="cl">â”‚ â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
</span></span><span class="line"><span class="cl">â”‚ â”‚    â”‚                                             â”‚                       â”‚
</span></span><span class="line"><span class="cl">â”‚ â”‚    â”‚ Databuilder     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
</span></span><span class="line"><span class="cl">â”‚ â”‚    â”‚                 â”‚                                                   â”‚
</span></span><span class="line"><span class="cl">â”‚ â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
</span></span><span class="line"><span class="cl">â”‚ â”‚ â”Œâ”€â”€â”¼â”€â–º Extractor of Sources           â”œâ”€â–º nebula_search_data_extractor â”‚ â”‚
</span></span><span class="line"><span class="cl">â”‚ â”‚ â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
</span></span><span class="line"><span class="cl">â”‚ â”‚ â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
</span></span><span class="line"><span class="cl">â”‚ â”‚ â”‚  â”‚ â”‚ Loader filesystem_csv_nebula   â”‚ â”‚ Loader Elastic FS loader     â”‚ â”‚
</span></span><span class="line"><span class="cl">â”‚ â”‚ â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
</span></span><span class="line"><span class="cl">â”‚ â”‚ â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
</span></span><span class="line"><span class="cl">â”‚ â”‚ â”‚  â”‚ â”‚ Publisher nebula_csv_publisher â”‚ â”‚ Publisher Elasticsearch      â”‚ â”‚
</span></span><span class="line"><span class="cl">â”‚ â”‚ â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
</span></span><span class="line"><span class="cl">â”‚ â”‚ â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</span></span><span class="line"><span class="cl">â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚                                 â”‚
</span></span><span class="line"><span class="cl">â”‚ â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â–ºâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
</span></span><span class="line"><span class="cl">â”‚ â”‚    â”‚ Nebula Graphâ”‚   â”‚                         â”‚ â”‚           â”‚
</span></span><span class="line"><span class="cl">â”‚ â””â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â” â”‚ â”‚           â”‚
</span></span><span class="line"><span class="cl">â”‚      â”‚     â”‚           â”‚           â”‚     â”‚MetaDâ”‚ â”‚ â”‚           â”‚
</span></span><span class="line"><span class="cl">â”‚      â”‚ â”Œâ”€â”€â”€â–¼â”€â”€â”    â”Œâ”€â”€â”€â–¼â”€â”€â”    â”Œâ”€â”€â”€â–¼â”€â”€â”  â””â”€â”€â”€â”€â”€â”˜ â”‚ â”‚           â”‚
</span></span><span class="line"><span class="cl">â”‚ â”Œâ”€â”€â”€â”€â”¼â”€â–ºGraphDâ”‚    â”‚GraphDâ”‚    â”‚GraphDâ”‚          â”‚ â”‚           â”‚
</span></span><span class="line"><span class="cl">â”‚ â”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”˜  â”Œâ”€â”€â”€â”€â”€â” â”‚ â”‚           â”‚
</span></span><span class="line"><span class="cl">â”‚ â”‚    â”‚ :9669                             â”‚MetaDâ”‚ â”‚ â”‚  Elastic  â”‚
</span></span><span class="line"><span class="cl">â”‚ â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â””â”€â”€â”€â”€â”€â”˜ â”‚ â”‚  Search   â”‚
</span></span><span class="line"><span class="cl">â”‚ â”‚    â”‚ â”‚        â”‚ â”‚        â”‚ â”‚        â”‚          â”‚ â”‚  Cluster  â”‚
</span></span><span class="line"><span class="cl">â”‚ â”‚    â”‚ â”‚StorageDâ”‚ â”‚StorageDâ”‚ â”‚StorageDâ”‚  â”Œâ”€â”€â”€â”€â”€â” â”‚ â”‚  :9200    â”‚
</span></span><span class="line"><span class="cl">â”‚ â”‚    â”‚ â”‚        â”‚ â”‚        â”‚ â”‚        â”‚  â”‚MetaDâ”‚ â”‚ â”‚           â”‚
</span></span><span class="line"><span class="cl">â”‚ â”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”˜ â”‚ â”‚           â”‚
</span></span><span class="line"><span class="cl">â”‚ â”‚    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚           â”‚
</span></span><span class="line"><span class="cl">â”‚ â””â”€â”€â”€â”€â”¤ Nebula Studio:7001                        â”‚ â”‚           â”‚
</span></span><span class="line"><span class="cl">â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”˜
</span></span><span class="line"><span class="cl">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="ç©¿é’ˆå¼•çº¿å…ƒæ•°æ®å‘ç°" class="headerLink">
    <a href="#%e7%a9%bf%e9%92%88%e5%bc%95%e7%ba%bf%e5%85%83%e6%95%b0%e6%8d%ae%e5%8f%91%e7%8e%b0" class="header-mark"></a>4 ç©¿é’ˆå¼•çº¿ï¼šå…ƒæ•°æ®å‘ç°</h2><p>è®¾ç½®å¥½åŸºæœ¬ç¯å¢ƒåï¼Œè®©æˆ‘ä»¬æŠŠæ‰€æœ‰ä¸œè¥¿ç©¿èµ·æ¥ã€‚è¿˜è®°å¾—æˆ‘ä»¬æœ‰ ELT ä¸€äº›æ•°æ®åˆ° PostgreSQL å—ï¼Ÿ</p>
<p><a class="lightgallery" href="https://user-images.githubusercontent.com/1651790/167540494-01e3dbd2-6ab1-41d2-998e-3b79f755bdc7.png" title="https://user-images.githubusercontent.com/1651790/167540494-01e3dbd2-6ab1-41d2-998e-3b79f755bdc7.png" data-thumbnail="https://user-images.githubusercontent.com/1651790/167540494-01e3dbd2-6ab1-41d2-998e-3b79f755bdc7.png">
        <img
            class="lazyload"
            data-src="https://user-images.githubusercontent.com/1651790/167540494-01e3dbd2-6ab1-41d2-998e-3b79f755bdc7.png"
            data-srcset="https://user-images.githubusercontent.com/1651790/167540494-01e3dbd2-6ab1-41d2-998e-3b79f755bdc7.png, https://user-images.githubusercontent.com/1651790/167540494-01e3dbd2-6ab1-41d2-998e-3b79f755bdc7.png 1.5x, https://user-images.githubusercontent.com/1651790/167540494-01e3dbd2-6ab1-41d2-998e-3b79f755bdc7.png 2x"
            data-sizes="auto"
            alt="https://user-images.githubusercontent.com/1651790/167540494-01e3dbd2-6ab1-41d2-998e-3b79f755bdc7.png">
    </a></p>
<p>é‚£ä¹ˆï¼Œæˆ‘ä»¬å¦‚ä½•è®© Amundsen å‘ç°æœ‰å…³è¿™äº›æ•°æ®å’Œ ETL çš„å…ƒæ•°æ®å‘¢ï¼Ÿ</p>
<h3 id="æå–-postgres-å…ƒæ•°æ®" class="headerLink">
    <a href="#%e6%8f%90%e5%8f%96-postgres-%e5%85%83%e6%95%b0%e6%8d%ae" class="header-mark"></a>4.1 æå– Postgres å…ƒæ•°æ®</h3><p>æˆ‘ä»¬ä»æ•°æ®æºå¼€å§‹ï¼šé¦–å…ˆæ˜¯ Postgresã€‚</p>
<p>æˆ‘ä»¬ä¸º python3 å®‰è£… Postgres å®¢æˆ·ç«¯ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo apt-get install libpq-dev
</span></span><span class="line"><span class="cl">pip3 install Psycopg2
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="æ‰§è¡Œ-postgres-å…ƒæ•°æ®-etl" class="headerLink">
    <a href="#%e6%89%a7%e8%a1%8c-postgres-%e5%85%83%e6%95%b0%e6%8d%ae-etl" class="header-mark"></a>4.1.1 æ‰§è¡Œ Postgres å…ƒæ•°æ® ETL</h4><p>è¿è¡Œä¸€ä¸ªè„šæœ¬æ¥è§£æ Postgres å…ƒæ•°æ®ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">CREDENTIALS_POSTGRES_USER</span><span class="o">=</span>lineage_ref
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">CREDENTIALS_POSTGRES_PASSWORD</span><span class="o">=</span>lineage_ref
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">CREDENTIALS_POSTGRES_DATABASE</span><span class="o">=</span>warehouse
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">python3 example/scripts/sample_postgres_loader_nebula.py
</span></span></code></pre></td></tr></table>
</div>
</div><p>If you look into the code of the sample script for loading Postgres metadata to Nebula, the main lines are quite straightforward:</p>
<p>æˆ‘ä»¬çœ‹çœ‹æŠŠ Postgres å…ƒæ•°æ®åŠ è½½åˆ° NebulaGraph çš„ç¤ºä¾‹è„šæœ¬çš„ä»£ç ï¼Œéå¸¸ç®€å•ç›´æ¥ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># part 1: PostgressMetadata --&gt; CSV --&gt; Nebula Graph</span>
</span></span><span class="line"><span class="cl"><span class="n">job</span> <span class="o">=</span> <span class="n">DefaultJob</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">      <span class="n">conf</span><span class="o">=</span><span class="n">job_config</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="n">task</span><span class="o">=</span><span class="n">DefaultTask</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">          <span class="n">extractor</span><span class="o">=</span><span class="n">PostgresMetadataExtractor</span><span class="p">(),</span>
</span></span><span class="line"><span class="cl">          <span class="n">loader</span><span class="o">=</span><span class="n">FsNebulaCSVLoader</span><span class="p">()),</span>
</span></span><span class="line"><span class="cl">      <span class="n">publisher</span><span class="o">=</span><span class="n">NebulaCsvPublisher</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">...</span>
</span></span><span class="line"><span class="cl"><span class="c1"># part 2: Metadata stored in NebulaGraph --&gt; Elasticsearch</span>
</span></span><span class="line"><span class="cl"><span class="n">extractor</span> <span class="o">=</span> <span class="n">NebulaSearchDataExtractor</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="n">task</span> <span class="o">=</span> <span class="n">SearchMetadatatoElasticasearchTask</span><span class="p">(</span><span class="n">extractor</span><span class="o">=</span><span class="n">extractor</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">job</span> <span class="o">=</span> <span class="n">DefaultJob</span><span class="p">(</span><span class="n">conf</span><span class="o">=</span><span class="n">job_config</span><span class="p">,</span> <span class="n">task</span><span class="o">=</span><span class="n">task</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç¬¬ä¸€ä¸ªå·¥ä½œè·¯å¾„æ˜¯ï¼š<code>PostgressMetadata --&gt; CSV --&gt; Nebula Graph</code></p>
<ul>
<li><code>PostgresMetadataExtractor</code> ç”¨äºä» Postgres ä¸­æå–/æå–å…ƒæ•°æ®ï¼Œå¯ä»¥å‚è€ƒæ–‡æ¡£ï¼ˆhttps://www.amundsen.io/amundsen/databuilder/#postgresmetadataextractorï¼‰ã€‚</li>
<li><code>FsNebulaCSVLoader</code> ç”¨äºå°†æå–çš„æ•°æ®ä¸­é—´æ”¾ç½®ä¸º CSV æ–‡ä»¶</li>
<li><code>NebulaCsvPublisher</code> ç”¨äºå°†å…ƒæ•°æ®ä»¥ CSV çš„å½¢å¼å‘å¸ƒåˆ° NebulaGraph</li>
</ul>
<p>ç¬¬äºŒä¸ªå·¥ä½œè·¯å¾„æ˜¯ï¼š<code>Metadata stored in NebulaGraph --&gt; Elasticsearch</code></p>
<ul>
<li><code>NebulaSearchDataExtractor</code> ç”¨äºè·å–å­˜å‚¨åœ¨ Nebula Graph ä¸­çš„å…ƒæ•°æ®</li>
<li><code>SearchMetadatatoElasticasearchTask</code> ç”¨äºä½¿ Elasticsearch å¯¹å…ƒæ•°æ®è¿›è¡Œç´¢å¼•ã€‚</li>
</ul>
<blockquote>
<p>è¯·æ³¨æ„ï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è„šæœ¬ä¸­æˆ–ä½¿ç”¨ Apache Airflow ç­‰ç¼–æ’å¹³å°è§¦å‘è¿™äº›ä½œä¸šã€‚</p>
</blockquote>
<h4 id="éªŒè¯-postgres-ä¸­å…ƒæ•°æ®çš„è·å–" class="headerLink">
    <a href="#%e9%aa%8c%e8%af%81-postgres-%e4%b8%ad%e5%85%83%e6%95%b0%e6%8d%ae%e7%9a%84%e8%8e%b7%e5%8f%96" class="header-mark"></a>4.1.2 éªŒè¯ Postgres ä¸­å…ƒæ•°æ®çš„è·å–</h4><p>æœç´¢<code>payments</code>æˆ–è€…ç›´æ¥è®¿é—®http://localhost:5000/table_detail/warehouse/postgres/public/paymentsï¼Œä½ å¯ä»¥çœ‹åˆ°æˆ‘ä»¬ Postgres çš„å…ƒæ•°æ®ï¼Œæ¯”å¦‚ï¼š</p>
<p><a class="lightgallery" href="https://user-images.githubusercontent.com/1651790/168475180-ebfaa188-268c-4fbe-a614-135d56d07e5d.png" title="https://user-images.githubusercontent.com/1651790/168475180-ebfaa188-268c-4fbe-a614-135d56d07e5d.png" data-thumbnail="https://user-images.githubusercontent.com/1651790/168475180-ebfaa188-268c-4fbe-a614-135d56d07e5d.png">
        <img
            class="lazyload"
            data-src="https://user-images.githubusercontent.com/1651790/168475180-ebfaa188-268c-4fbe-a614-135d56d07e5d.png"
            data-srcset="https://user-images.githubusercontent.com/1651790/168475180-ebfaa188-268c-4fbe-a614-135d56d07e5d.png, https://user-images.githubusercontent.com/1651790/168475180-ebfaa188-268c-4fbe-a614-135d56d07e5d.png 1.5x, https://user-images.githubusercontent.com/1651790/168475180-ebfaa188-268c-4fbe-a614-135d56d07e5d.png 2x"
            data-sizes="auto"
            alt="https://user-images.githubusercontent.com/1651790/168475180-ebfaa188-268c-4fbe-a614-135d56d07e5d.png">
    </a></p>
<p>ç„¶åï¼Œåƒä¸Šé¢çš„å±å¹•æˆªå›¾ä¸€æ ·ï¼Œå¯ä»¥è½»æ¾å®Œæˆå…ƒæ•°æ®ç®¡ç†æ“ä½œï¼Œå¦‚æ·»åŠ æ ‡ç­¾ã€æ‰€æœ‰è€…å’Œæè¿°ã€‚</p>
<h3 id="æå–-dbt-å…ƒæ•°æ®" class="headerLink">
    <a href="#%e6%8f%90%e5%8f%96-dbt-%e5%85%83%e6%95%b0%e6%8d%ae" class="header-mark"></a>4.2 æå– dbt å…ƒæ•°æ®</h3><p>å®é™…ä¸Šï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä» <a href="https://www.getdbt.com/" target="_blank" rel="noopener noreferrer">dbt</a> æœ¬èº«æå–å…ƒæ•°æ®ã€‚</p>
<p>Amundsen <a href="https://www.amundsen.io/amundsen/databuilder/#dbtextractor" target="_blank" rel="noopener noreferrer">DbtExtractor</a> ä¼šè§£æ <code>catalog.json</code> æˆ– <code>manifest.json</code> æ–‡ä»¶ä»¥å°†å…ƒæ•°æ®åŠ è½½åˆ° Amundsen å­˜å‚¨ï¼ˆNebulaGraph å’Œ Elasticsearch )ã€‚</p>
<p>åœ¨ä¸Šé¢çš„ meltano ç« èŠ‚ä¸­ï¼Œæˆ‘ä»¬å·²ç»ä½¿ç”¨ <code>meltano invoke dbt docs generate</code> ç”Ÿæˆäº†è¿™ä¸ªæ–‡ä»¶ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">14:23:15  Done.
</span></span><span class="line"><span class="cl">14:23:15  Building catalog
</span></span><span class="line"><span class="cl">14:23:15  Catalog written to /home/ubuntu/ref-data-lineage/meltano_example_implementations/meltano_projects/singer_dbt_jaffle/.meltano/transformers/dbt/target/catalog.json
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="dbt-å…ƒæ•°æ®-etl-çš„æ‰§è¡Œ" class="headerLink">
    <a href="#dbt-%e5%85%83%e6%95%b0%e6%8d%ae-etl-%e7%9a%84%e6%89%a7%e8%a1%8c" class="header-mark"></a>4.2.1 dbt å…ƒæ•°æ® ETL çš„æ‰§è¡Œ</h4><p>æˆ‘ä»¬è¯•ç€è§£æç¤ºä¾‹ dbt æ–‡ä»¶ä¸­çš„å…ƒæ•°æ®å§ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ ls -l example/sample_data/dbt/
</span></span><span class="line"><span class="cl">total <span class="m">184</span>
</span></span><span class="line"><span class="cl">-rw-rw-r-- <span class="m">1</span> w w   <span class="m">5320</span> May <span class="m">15</span> 07:17 catalog.json
</span></span><span class="line"><span class="cl">-rw-rw-r-- <span class="m">1</span> w w <span class="m">177163</span> May <span class="m">15</span> 07:17 manifest.json
</span></span></code></pre></td></tr></table>
</div>
</div><p>æˆ‘å†™çš„è¿™ä¸ªç¤ºä¾‹çš„åŠ è½½ä¾‹å­å¦‚ä¸‹ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">python3 example/scripts/sample_dbt_loader_nebula.py
</span></span></code></pre></td></tr></table>
</div>
</div><p>å…¶ä¸­ä¸»è¦çš„ä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># part 1: Dbt manifest --&gt; CSV --&gt; Nebula Graph</span>
</span></span><span class="line"><span class="cl"><span class="n">job</span> <span class="o">=</span> <span class="n">DefaultJob</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">      <span class="n">conf</span><span class="o">=</span><span class="n">job_config</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="n">task</span><span class="o">=</span><span class="n">DefaultTask</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">          <span class="n">extractor</span><span class="o">=</span><span class="n">DbtExtractor</span><span class="p">(),</span>
</span></span><span class="line"><span class="cl">          <span class="n">loader</span><span class="o">=</span><span class="n">FsNebulaCSVLoader</span><span class="p">()),</span>
</span></span><span class="line"><span class="cl">      <span class="n">publisher</span><span class="o">=</span><span class="n">NebulaCsvPublisher</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">...</span>
</span></span><span class="line"><span class="cl"><span class="c1"># part 2: Metadata stored in NebulaGraph --&gt; Elasticsearch</span>
</span></span><span class="line"><span class="cl"><span class="n">extractor</span> <span class="o">=</span> <span class="n">NebulaSearchDataExtractor</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="n">task</span> <span class="o">=</span> <span class="n">SearchMetadatatoElasticasearchTask</span><span class="p">(</span><span class="n">extractor</span><span class="o">=</span><span class="n">extractor</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">job</span> <span class="o">=</span> <span class="n">DefaultJob</span><span class="p">(</span><span class="n">conf</span><span class="o">=</span><span class="n">job_config</span><span class="p">,</span> <span class="n">task</span><span class="o">=</span><span class="n">task</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å®ƒå’Œ Postgres å…ƒæ•°æ® ETL çš„å”¯ä¸€åŒºåˆ«æ˜¯ <code>extractor=DbtExtractor()</code>ï¼Œå®ƒå¸¦æœ‰ä»¥ä¸‹é…ç½®ä»¥è·å–æœ‰å…³ dbt é¡¹ç›®çš„ä»¥ä¸‹ä¿¡æ¯ï¼š</p>
<ul>
<li>æ•°æ®åº“åç§°</li>
<li>ç›®å½•_json</li>
<li>manifest_json</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">job_config</span> <span class="o">=</span> <span class="n">ConfigFactory</span><span class="o">.</span><span class="n">from_dict</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">  <span class="s1">&#39;extractor.dbt.database_name&#39;</span><span class="p">:</span> <span class="n">database_name</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="s1">&#39;extractor.dbt.catalog_json&#39;</span><span class="p">:</span> <span class="n">catalog_file_loc</span><span class="p">,</span>  <span class="c1"># File</span>
</span></span><span class="line"><span class="cl">  <span class="s1">&#39;extractor.dbt.manifest_json&#39;</span><span class="p">:</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">manifest_data</span><span class="p">),</span>  <span class="c1"># JSON Dumped objecy</span>
</span></span><span class="line"><span class="cl">  <span class="s1">&#39;extractor.dbt.source_url&#39;</span><span class="p">:</span> <span class="n">source_url</span><span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="éªŒè¯-dbt-æŠ“å–ç»“æœ" class="headerLink">
    <a href="#%e9%aa%8c%e8%af%81-dbt-%e6%8a%93%e5%8f%96%e7%bb%93%e6%9e%9c" class="header-mark"></a>4.2.2 éªŒè¯ dbt æŠ“å–ç»“æœ</h4><p>æœç´¢ <code>dbt_demo</code> æˆ–è€…ç›´æ¥è®¿é—® http://localhost:5000/table_detail/dbt_demo/snowflake/public/raw_inventory_valueï¼Œå¯ä»¥çœ‹åˆ°</p>
<p><a class="lightgallery" href="https://user-images.githubusercontent.com/1651790/168479864-2f73ea73-265f-4cd2-999f-e7effbaf3ec1.png" title="https://user-images.githubusercontent.com/1651790/168479864-2f73ea73-265f-4cd2-999f-e7effbaf3ec1.png" data-thumbnail="https://user-images.githubusercontent.com/1651790/168479864-2f73ea73-265f-4cd2-999f-e7effbaf3ec1.png">
        <img
            class="lazyload"
            data-src="https://user-images.githubusercontent.com/1651790/168479864-2f73ea73-265f-4cd2-999f-e7effbaf3ec1.png"
            data-srcset="https://user-images.githubusercontent.com/1651790/168479864-2f73ea73-265f-4cd2-999f-e7effbaf3ec1.png, https://user-images.githubusercontent.com/1651790/168479864-2f73ea73-265f-4cd2-999f-e7effbaf3ec1.png 1.5x, https://user-images.githubusercontent.com/1651790/168479864-2f73ea73-265f-4cd2-999f-e7effbaf3ec1.png 2x"
            data-sizes="auto"
            alt="https://user-images.githubusercontent.com/1651790/168479864-2f73ea73-265f-4cd2-999f-e7effbaf3ec1.png">
    </a></p>
<blockquote>
<p>å°æç¤ºï¼šæˆ‘ä»¬å¯ä»¥é€‰æ‹©å¯ç”¨ DEBUG log çº§åˆ«å»çœ‹å·²å‘é€åˆ° Elasticsearch å’Œ NebulaGraph çš„å†…å®¹ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-diff" data-lang="diff"><span class="line"><span class="cl"><span class="gd">- logging.basicConfig(level=logging.INFO)
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+ logging.basicConfig(level=logging.DEBUG)
</span></span></span></code></pre></td></tr></table>
</div>
</div></blockquote>
<p>æˆ–è€…ï¼Œåœ¨ NebulaStudio ä¸­æ¢ç´¢å¯¼å…¥çš„æ•°æ®ï¼š</p>
<p>é¦–å…ˆï¼Œç‚¹å‡» â€œStart with Verticesâ€ï¼Œå¡«å†™é¡¶ç‚¹ vidï¼š<code>snowflake://dbt_demo.public/fact_warehouse_inventory</code></p>
<p><a class="lightgallery" href="https://user-images.githubusercontent.com/1651790/168480047-26c28cde-5df8-40af-8da4-6ab0203094e2.png" title="https://user-images.githubusercontent.com/1651790/168480047-26c28cde-5df8-40af-8da4-6ab0203094e2.png" data-thumbnail="https://user-images.githubusercontent.com/1651790/168480047-26c28cde-5df8-40af-8da4-6ab0203094e2.png">
        <img
            class="lazyload"
            data-src="https://user-images.githubusercontent.com/1651790/168480047-26c28cde-5df8-40af-8da4-6ab0203094e2.png"
            data-srcset="https://user-images.githubusercontent.com/1651790/168480047-26c28cde-5df8-40af-8da4-6ab0203094e2.png, https://user-images.githubusercontent.com/1651790/168480047-26c28cde-5df8-40af-8da4-6ab0203094e2.png 1.5x, https://user-images.githubusercontent.com/1651790/168480047-26c28cde-5df8-40af-8da4-6ab0203094e2.png 2x"
            data-sizes="auto"
            alt="https://user-images.githubusercontent.com/1651790/168480047-26c28cde-5df8-40af-8da4-6ab0203094e2.png">
    </a></p>
<p>ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°é¡¶ç‚¹æ˜¾ç¤ºä¸ºç²‰çº¢è‰²çš„ç‚¹ã€‚ è®©æˆ‘ä»¬ä¿®æ”¹ <code>Expand</code> / â€æ‹“å±•â€œé€‰é¡¹ï¼š</p>
<ul>
<li>æ–¹å‘ï¼šåŒå‘</li>
<li>æ­¥æ•°ï¼šå•å‘ã€ä¸‰æ­¥</li>
</ul>
<p><a class="lightgallery" href="https://user-images.githubusercontent.com/1651790/168480101-7b7b5824-06d9-4155-87c9-798db0dc7612.png" title="https://user-images.githubusercontent.com/1651790/168480101-7b7b5824-06d9-4155-87c9-798db0dc7612.png" data-thumbnail="https://user-images.githubusercontent.com/1651790/168480101-7b7b5824-06d9-4155-87c9-798db0dc7612.png">
        <img
            class="lazyload"
            data-src="https://user-images.githubusercontent.com/1651790/168480101-7b7b5824-06d9-4155-87c9-798db0dc7612.png"
            data-srcset="https://user-images.githubusercontent.com/1651790/168480101-7b7b5824-06d9-4155-87c9-798db0dc7612.png, https://user-images.githubusercontent.com/1651790/168480101-7b7b5824-06d9-4155-87c9-798db0dc7612.png 1.5x, https://user-images.githubusercontent.com/1651790/168480101-7b7b5824-06d9-4155-87c9-798db0dc7612.png 2x"
            data-sizes="auto"
            alt="https://user-images.githubusercontent.com/1651790/168480101-7b7b5824-06d9-4155-87c9-798db0dc7612.png">
    </a></p>
<p>å¹¶åŒå‡»é¡¶ç‚¹ï¼ˆç‚¹ï¼‰ï¼Œå®ƒå°†åŒå‘æ‹“å±• 3 æ­¥ï¼š</p>
<p><a class="lightgallery" href="https://user-images.githubusercontent.com/1651790/168480280-1dc88d1b-1f1e-48fd-9997-972965522ef5.png" title="https://user-images.githubusercontent.com/1651790/168480280-1dc88d1b-1f1e-48fd-9997-972965522ef5.png" data-thumbnail="https://user-images.githubusercontent.com/1651790/168480280-1dc88d1b-1f1e-48fd-9997-972965522ef5.png">
        <img
            class="lazyload"
            data-src="https://user-images.githubusercontent.com/1651790/168480280-1dc88d1b-1f1e-48fd-9997-972965522ef5.png"
            data-srcset="https://user-images.githubusercontent.com/1651790/168480280-1dc88d1b-1f1e-48fd-9997-972965522ef5.png, https://user-images.githubusercontent.com/1651790/168480280-1dc88d1b-1f1e-48fd-9997-972965522ef5.png 1.5x, https://user-images.githubusercontent.com/1651790/168480280-1dc88d1b-1f1e-48fd-9997-972965522ef5.png 2x"
            data-sizes="auto"
            alt="https://user-images.githubusercontent.com/1651790/168480280-1dc88d1b-1f1e-48fd-9997-972965522ef5.png">
    </a></p>
<p>ä»ä¸Šè¾¹è¿™ä¸ªæˆªå›¾é‡Œæˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œåœ¨å¯è§†åŒ–ä¹‹åçš„å›¾æ•°æ®åº“ä¸­ï¼Œè¿™äº›å…ƒæ•°æ®å¯ä»¥å¾ˆå®¹æ˜“è¢«æŸ¥çœ‹ã€åˆ†æï¼Œå¹¶ä»ä¸­è·å¾—æ´å¯Ÿã€‚</p>
<blockquote>
<p>å°è´´å£«ï¼Œæ‚¨å¯ä»¥ç‚¹å‡» ğŸ‘ å›¾æ ‡é€‰æ‹©ä¸€äº›è¦æ˜¾ç¤ºçš„å±æ€§ï¼Œæˆ‘åœ¨æˆªå›¾ä¹‹å‰å°±æ˜¯é€šè¿‡å®ƒè®©ä¸€äº›ä¿¡æ¯æ˜¾ç¤ºå‡ºæ¥çš„ã€‚</p>
</blockquote>
<p>è€Œä¸”ï¼Œæˆ‘ä»¬åœ¨ NebulaStudio ä¸­çœ‹åˆ°çš„ä¹Ÿä¸ Amundsen å…ƒæ•°æ®æœåŠ¡çš„æ•°æ®æ¨¡å‹ç›¸å‘¼åº”ï¼š</p>
<p><a class="lightgallery" href="https://www.amundsen.io/amundsen/img/graph_model.png" title="https://www.amundsen.io/amundsen/img/graph_model.png" data-thumbnail="https://www.amundsen.io/amundsen/img/graph_model.png">
        <img
            class="lazyload"
            data-src="https://www.amundsen.io/amundsen/img/graph_model.png"
            data-srcset="https://www.amundsen.io/amundsen/img/graph_model.png, https://www.amundsen.io/amundsen/img/graph_model.png 1.5x, https://www.amundsen.io/amundsen/img/graph_model.png 2x"
            data-sizes="auto"
            alt="https://www.amundsen.io/amundsen/img/graph_model.png">
    </a></p>
<p>æœ€åï¼Œè¯·è®°ä½æˆ‘ä»¬æ›¾åˆ©ç”¨ dbt æ¥è½¬æ¢meltano ä¸­çš„ä¸€äº›æ•°æ®ï¼Œå¹¶ä¸”æ¸…å•æ–‡ä»¶è·¯å¾„æ˜¯<code>.meltano/transformers/dbt/target/catalog.json</code>ï¼Œæ‚¨å¯ä»¥å°è¯•åˆ›å»ºä¸€ä¸ªæ•°æ®æ„å»ºå™¨ä½œä¸šæ¥å¯¼å…¥å®ƒã€‚</p>
<h3 id="æå–-superset-ä¸­çš„å…ƒæ•°æ®" class="headerLink">
    <a href="#%e6%8f%90%e5%8f%96-superset-%e4%b8%ad%e7%9a%84%e5%85%83%e6%95%b0%e6%8d%ae" class="header-mark"></a>4.3 æå– Superset ä¸­çš„å…ƒæ•°æ®</h3><p>Amundsen çš„ Superset extractor å¯ä»¥è·å–</p>
<ul>
<li>Dashboard å…ƒæ•°æ®æŠ½å– <a href="https://www.amundsen.io/amundsen/databuilder/databuilder/extractor/dashboard/apache_superset/apache_superset_metadata_extractor.py" target="_blank" rel="noopener noreferrer">https://www.amundsen.io/amundsen/databuilder/databuilder/extractor/dashboard/apache_superset/apache_superset_metadata_extractor.py</a></li>
<li>å›¾è¡¨å…ƒæ•°æ®æŠ½å– <a href="https://www.amundsen.io/amundsen/databuilder/databuilder" target="_blank" rel="noopener noreferrer">https://www.amundsen.io/amundsen/databuilder/databuilder</a> /extractor/dashboard/apache_superset/apache_superset_chart_extractor.py</li>
<li>Superset å…ƒç´ ä¸æ•°æ®æºï¼ˆè¡¨ï¼‰çš„å…³ç³»æŠ½å– <a href="https://www.amundsen.io/amundsen/databuilder/databuilder/extractor/dashboard/apache_superset/apache_superset_table_extractor.py" target="_blank" rel="noopener noreferrer">https://www.amundsen.io/amundsen/databuilder/databuilder/extractor/dashboard/apache_superset/apache_superset_table_extractor.py</a></li>
</ul>
<p>å’±ä»¬ç°åœ¨å°±å°è¯•æ‘„å–ä¹‹å‰åˆ›å»ºçš„ Superset Dashboard çš„å…ƒæ•°æ®ã€‚</p>
<h4 id="superset-å…ƒæ•°æ®-etl-çš„æ‰§è¡Œ" class="headerLink">
    <a href="#superset-%e5%85%83%e6%95%b0%e6%8d%ae-etl-%e7%9a%84%e6%89%a7%e8%a1%8c" class="header-mark"></a>4.3.1 Superset å…ƒæ•°æ® ETL çš„æ‰§è¡Œ</h4><p>ä¸‹è¾¹æ‰§è¡Œçš„ç¤ºä¾‹ Superset æå–è„šæœ¬å¯ä»¥ä»ä¸­è·å–æ•°æ®å¹¶å°†å…ƒæ•°æ®åŠ è½½åˆ° NebulaGraph å’Œ Elasticsearch ä¸­ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">python3</span> <span class="n">sample_superset_data_loader_nebula</span><span class="o">.</span><span class="n">py</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¦‚æœæˆ‘ä»¬å°†æ—¥å¿—è®°å½•çº§åˆ«è®¾ç½®ä¸ºâ€œDEBUGâ€ï¼Œæˆ‘ä»¬å®é™…ä¸Šå¯ä»¥çœ‹åˆ°è¿™äº›ä¸­é—´çš„è¿‡ç¨‹æ—¥å¿—ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># fetching metadata from superset</span>
</span></span><span class="line"><span class="cl"><span class="n">DEBUG</span><span class="p">:</span><span class="n">urllib3</span><span class="o">.</span><span class="n">connectionpool</span><span class="p">:</span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">localhost</span><span class="p">:</span><span class="mi">8088</span> <span class="s2">&#34;POST /api/v1/security/login HTTP/1.1&#34;</span> <span class="mi">200</span> <span class="mi">280</span>
</span></span><span class="line"><span class="cl"><span class="n">INFO</span><span class="p">:</span><span class="n">databuilder</span><span class="o">.</span><span class="n">task</span><span class="o">.</span><span class="n">task</span><span class="p">:</span><span class="n">Running</span> <span class="n">a</span> <span class="n">task</span>
</span></span><span class="line"><span class="cl"><span class="n">DEBUG</span><span class="p">:</span><span class="n">urllib3</span><span class="o">.</span><span class="n">connectionpool</span><span class="p">:</span><span class="n">Starting</span> <span class="n">new</span> <span class="n">HTTP</span> <span class="n">connection</span> <span class="p">(</span><span class="mi">1</span><span class="p">):</span> <span class="n">localhost</span><span class="p">:</span><span class="mi">8088</span>
</span></span><span class="line"><span class="cl"><span class="n">DEBUG</span><span class="p">:</span><span class="n">urllib3</span><span class="o">.</span><span class="n">connectionpool</span><span class="p">:</span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">localhost</span><span class="p">:</span><span class="mi">8088</span> <span class="s2">&#34;GET /api/v1/dashboard?q=(page_size:20,page:0,order_direction:desc) HTTP/1.1&#34;</span> <span class="mi">308</span> <span class="mi">374</span>
</span></span><span class="line"><span class="cl"><span class="n">DEBUG</span><span class="p">:</span><span class="n">urllib3</span><span class="o">.</span><span class="n">connectionpool</span><span class="p">:</span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">localhost</span><span class="p">:</span><span class="mi">8088</span> <span class="s2">&#34;GET /api/v1/dashboard/?q=(page_size:20,page:0,order_direction:desc) HTTP/1.1&#34;</span> <span class="mi">200</span> <span class="mi">1058</span>
</span></span><span class="line"><span class="cl"><span class="o">...</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># insert Dashboard</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">DEBUG</span><span class="p">:</span><span class="n">databuilder</span><span class="o">.</span><span class="n">publisher</span><span class="o">.</span><span class="n">nebula_csv_publisher</span><span class="p">:</span><span class="n">Query</span><span class="p">:</span> <span class="n">INSERT</span> <span class="n">VERTEX</span> <span class="err">`</span><span class="n">Dashboard</span><span class="err">`</span> <span class="p">(</span><span class="err">`</span><span class="n">dashboard_url</span><span class="err">`</span><span class="p">,</span> <span class="err">`</span><span class="n">name</span><span class="err">`</span><span class="p">,</span> <span class="n">published_tag</span><span class="p">,</span> <span class="n">publisher_last_updated_epoch_ms</span><span class="p">)</span> <span class="n">VALUES</span>  <span class="s2">&#34;superset_dashboard://my_cluster.1/3&#34;</span><span class="p">:(</span><span class="s2">&#34;http://localhost:8088/superset/dashboard/3/&#34;</span><span class="p">,</span><span class="s2">&#34;my_dashboard&#34;</span><span class="p">,</span><span class="s2">&#34;unique_tag&#34;</span><span class="p">,</span><span class="n">timestamp</span><span class="p">());</span>
</span></span><span class="line"><span class="cl"><span class="o">...</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># insert a DASHBOARD_WITH_TABLE relationship/edge</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">INFO</span><span class="p">:</span><span class="n">databuilder</span><span class="o">.</span><span class="n">publisher</span><span class="o">.</span><span class="n">nebula_csv_publisher</span><span class="p">:</span><span class="n">Importing</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">edge</span> <span class="n">files</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;/tmp/amundsen/dashboard/relationships/Dashboard_Table_DASHBOARD_WITH_TABLE.csv&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="n">DEBUG</span><span class="p">:</span><span class="n">databuilder</span><span class="o">.</span><span class="n">publisher</span><span class="o">.</span><span class="n">nebula_csv_publisher</span><span class="p">:</span><span class="n">Query</span><span class="p">:</span>
</span></span><span class="line"><span class="cl"><span class="n">INSERT</span> <span class="n">edge</span> <span class="err">`</span><span class="n">DASHBOARD_WITH_TABLE</span><span class="err">`</span> <span class="p">(</span><span class="err">`</span><span class="n">END_LABEL</span><span class="err">`</span><span class="p">,</span> <span class="err">`</span><span class="n">START_LABEL</span><span class="err">`</span><span class="p">,</span> <span class="n">published_tag</span><span class="p">,</span> <span class="n">publisher_last_updated_epoch_ms</span><span class="p">)</span> <span class="n">VALUES</span> <span class="s2">&#34;superset_dashboard://my_cluster.1/3&#34;</span><span class="o">-&gt;</span><span class="s2">&#34;postgresql+psycopg2://my_cluster.warehouse/orders&#34;</span><span class="p">:(</span><span class="s2">&#34;Table&#34;</span><span class="p">,</span><span class="s2">&#34;Dashboard&#34;</span><span class="p">,</span><span class="s2">&#34;unique_tag&#34;</span><span class="p">,</span> <span class="n">timestamp</span><span class="p">()),</span> <span class="s2">&#34;superset_dashboard://my_cluster.1/3&#34;</span><span class="o">-&gt;</span><span class="s2">&#34;postgresql+psycopg2://my_cluster.warehouse/customers&#34;</span><span class="p">:(</span><span class="s2">&#34;Table&#34;</span><span class="p">,</span><span class="s2">&#34;Dashboard&#34;</span><span class="p">,</span><span class="s2">&#34;unique_tag&#34;</span><span class="p">,</span> <span class="n">timestamp</span><span class="p">());</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="éªŒè¯-superset-dashboard-å…ƒæ•°æ®" class="headerLink">
    <a href="#%e9%aa%8c%e8%af%81-superset-dashboard-%e5%85%83%e6%95%b0%e6%8d%ae" class="header-mark"></a>4.3.2 éªŒè¯ Superset Dashboard å…ƒæ•°æ®</h4><p>é€šè¿‡åœ¨ Amundsen ä¸­æœç´¢å®ƒï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥è·å¾— Dashboard ä¿¡æ¯ã€‚</p>
<p>æˆ‘ä»¬ä¹Ÿå¯ä»¥ä» NebulaStudio è¿›è¡ŒéªŒè¯ã€‚</p>
<p><a class="lightgallery" href="https://user-images.githubusercontent.com/1651790/168719624-738323dd-4c6e-475f-a370-f149181c6184.png" title="https://user-images.githubusercontent.com/1651790/168719624-738323dd-4c6e-475f-a370-f149181c6184.png" data-thumbnail="https://user-images.githubusercontent.com/1651790/168719624-738323dd-4c6e-475f-a370-f149181c6184.png">
        <img
            class="lazyload"
            data-src="https://user-images.githubusercontent.com/1651790/168719624-738323dd-4c6e-475f-a370-f149181c6184.png"
            data-srcset="https://user-images.githubusercontent.com/1651790/168719624-738323dd-4c6e-475f-a370-f149181c6184.png, https://user-images.githubusercontent.com/1651790/168719624-738323dd-4c6e-475f-a370-f149181c6184.png 1.5x, https://user-images.githubusercontent.com/1651790/168719624-738323dd-4c6e-475f-a370-f149181c6184.png 2x"
            data-sizes="auto"
            alt="https://user-images.githubusercontent.com/1651790/168719624-738323dd-4c6e-475f-a370-f149181c6184.png">
    </a></p>
<blockquote>
<p>æ³¨ï¼šå¯ä»¥å‚é˜… <a href="https://www.amundsen.io/amundsen/databuilder/docs/dashboard_ingestion_guide/" target="_blank" rel="noopener noreferrer">Dashboard æŠ“å–æŒ‡å—</a> ä¸­çš„ Amundsen Dashboard å›¾å»ºæ¨¡ï¼š</p>
<p><a class="lightgallery" href="https://www.amundsen.io/amundsen/databuilder/docs/assets/dashboard_graph_modeling.png?raw=true" title="dashboard_graph_modeling" data-thumbnail="https://www.amundsen.io/amundsen/databuilder/docs/assets/dashboard_graph_modeling.png?raw=true">
        <img
            class="lazyload"
            data-src="https://www.amundsen.io/amundsen/databuilder/docs/assets/dashboard_graph_modeling.png?raw=true"
            data-srcset="https://www.amundsen.io/amundsen/databuilder/docs/assets/dashboard_graph_modeling.png?raw=true, https://www.amundsen.io/amundsen/databuilder/docs/assets/dashboard_graph_modeling.png?raw=true 1.5x, https://www.amundsen.io/amundsen/databuilder/docs/assets/dashboard_graph_modeling.png?raw=true 2x"
            data-sizes="auto"
            alt="https://www.amundsen.io/amundsen/databuilder/docs/assets/dashboard_graph_modeling.png?raw=true">
    </a></p>
</blockquote>
<h3 id="ç”¨-superset-é¢„è§ˆæ•°æ®" class="headerLink">
    <a href="#%e7%94%a8-superset-%e9%a2%84%e8%a7%88%e6%95%b0%e6%8d%ae" class="header-mark"></a>4.4 ç”¨ Superset é¢„è§ˆæ•°æ®</h3><p>Supersetå¯ä»¥ç”¨æ¥é¢„è§ˆè¿™æ ·çš„è¡¨æ ¼æ•°æ®ã€‚ ç›¸åº”çš„æ–‡æ¡£å¯ä»¥å‚è€ƒ <a href="https://www.amundsen.io/amundsen/frontend/docs/configuration/#preview-client" target="_blank" rel="noopener noreferrer">https://www.amundsen.io/amundsen/frontend/docs/configuration/#preview-client</a> ï¼Œå…¶ä¸­ <code>/superset/sql_json/</code> çš„ API è¢« Amundsen Frontend service è°ƒç”¨ï¼Œå–å¾—é¢„è§ˆä¿¡æ¯ã€‚</p>
<p><a class="lightgallery" href="https://github.com/amundsen-io/amundsenfrontendlibrary/blob/master/docs/img/data_preview.png?raw=true" title="https://github.com/amundsen-io/amundsenfrontendlibrary/blob/master/docs/img/data_preview.png?raw=true" data-thumbnail="https://github.com/amundsen-io/amundsenfrontendlibrary/blob/master/docs/img/data_preview.png?raw=true">
        <img
            class="lazyload"
            data-src="https://github.com/amundsen-io/amundsenfrontendlibrary/blob/master/docs/img/data_preview.png?raw=true"
            data-srcset="https://github.com/amundsen-io/amundsenfrontendlibrary/blob/master/docs/img/data_preview.png?raw=true, https://github.com/amundsen-io/amundsenfrontendlibrary/blob/master/docs/img/data_preview.png?raw=true 1.5x, https://github.com/amundsen-io/amundsenfrontendlibrary/blob/master/docs/img/data_preview.png?raw=true 2x"
            data-sizes="auto"
            alt="https://github.com/amundsen-io/amundsenfrontendlibrary/blob/master/docs/img/data_preview.png?raw=true">
    </a></p>
<h3 id="å¼€å¯æ•°æ®è¡€ç¼˜ä¿¡æ¯" class="headerLink">
    <a href="#%e5%bc%80%e5%90%af%e6%95%b0%e6%8d%ae%e8%a1%80%e7%bc%98%e4%bf%a1%e6%81%af" class="header-mark"></a>4.5 å¼€å¯æ•°æ®è¡€ç¼˜ä¿¡æ¯</h3><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ•°æ®è¡€ç¼˜æ˜¯å…³é—­çš„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼å¯ç”¨å®ƒï¼š</p>
<ol start="0">
<li><code>cd</code> åˆ° Amundsen ä»£ç ä»“åº“ä¸‹ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ä»¬è¿è¡Œ <code>docker-compose -f docker-amundsen-nebula.yml up</code> å‘½ä»¤çš„åœ°æ–¹</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">cd</span> amundsen
</span></span></code></pre></td></tr></table>
</div>
</div><ol>
<li>ä¿®æ”¹ frontend ä¸‹çš„ typescript é…ç½®</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-diff" data-lang="diff"><span class="line"><span class="cl"><span class="gd">--- a/frontend/amundsen_application/static/js/config/config-default.ts
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+++ b/frontend/amundsen_application/static/js/config/config-default.ts
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>   tableLineage: {
</span></span><span class="line"><span class="cl"><span class="gd">-    inAppListEnabled: false,
</span></span></span><span class="line"><span class="cl"><span class="gd">-    inAppPageEnabled: false,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+    inAppListEnabled: true,
</span></span></span><span class="line"><span class="cl"><span class="gi">+    inAppPageEnabled: true,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>     externalEnabled: false,
</span></span><span class="line"><span class="cl">     iconPath: &#39;PATH_TO_ICON&#39;,
</span></span><span class="line"><span class="cl">     isBeta: false,
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="2">
<li>é‡æ–°æ„å»º docker é•œåƒï¼Œå…¶ä¸­å°†é‡å»ºå‰ç«¯å›¾åƒã€‚</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker-compose -f docker-amundsen-nebula.yml build
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç„¶åï¼Œé‡æ–°è¿è¡Œ <code>up -d</code> ä»¥ç¡®ä¿å‰ç«¯ç”¨æ–°çš„é…ç½®ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker-compose -f docker-amundsen-nebula.yml up -d
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç»“æœå¤§æ¦‚é•¿è¿™æ ·å­ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ docker-compose -f docker-amundsen-nebula.yml up -d
</span></span><span class="line"><span class="cl">...
</span></span><span class="line"><span class="cl">Recreating amundsenfrontend           ... <span class="k">done</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥è®¿é—® http://localhost:5000/lineage/table/gold/hive/test_schema/test_table1 çœ‹åˆ° <code>Lineage ï¼ˆbetaï¼‰</code> è¡€ç¼˜æŒ‰é’®å·²ç»æ˜¾ç¤ºå‡ºæ¥äº†ï¼š</p>
<p><a class="lightgallery" href="https://user-images.githubusercontent.com/1651790/168838731-79d0e3bc-439e-4f6b-8ef7-83b37e9bcb12.png" title="https://user-images.githubusercontent.com/1651790/168838731-79d0e3bc-439e-4f6b-8ef7-83b37e9bcb12.png" data-thumbnail="https://user-images.githubusercontent.com/1651790/168838731-79d0e3bc-439e-4f6b-8ef7-83b37e9bcb12.png">
        <img
            class="lazyload"
            data-src="https://user-images.githubusercontent.com/1651790/168838731-79d0e3bc-439e-4f6b-8ef7-83b37e9bcb12.png"
            data-srcset="https://user-images.githubusercontent.com/1651790/168838731-79d0e3bc-439e-4f6b-8ef7-83b37e9bcb12.png, https://user-images.githubusercontent.com/1651790/168838731-79d0e3bc-439e-4f6b-8ef7-83b37e9bcb12.png 1.5x, https://user-images.githubusercontent.com/1651790/168838731-79d0e3bc-439e-4f6b-8ef7-83b37e9bcb12.png 2x"
            data-sizes="auto"
            alt="https://user-images.githubusercontent.com/1651790/168838731-79d0e3bc-439e-4f6b-8ef7-83b37e9bcb12.png">
    </a></p>
<p>æˆ‘ä»¬å¯ä»¥ç‚¹å‡» <code>Downstream</code> åœ¨å­˜åœ¨çš„æ—¶å€™æŸ¥çœ‹è¯¥è¡¨çš„ä¸‹æ¸¸èµ„æºï¼š</p>
<p><a class="lightgallery" href="https://user-images.githubusercontent.com/1651790/168839251-efd523af-d729-44cf-a40b-fa83a0852654.png" title="https://user-images.githubusercontent.com/1651790/168839251-efd523af-d729-44cf-a40b-fa83a0852654.png" data-thumbnail="https://user-images.githubusercontent.com/1651790/168839251-efd523af-d729-44cf-a40b-fa83a0852654.png">
        <img
            class="lazyload"
            data-src="https://user-images.githubusercontent.com/1651790/168839251-efd523af-d729-44cf-a40b-fa83a0852654.png"
            data-srcset="https://user-images.githubusercontent.com/1651790/168839251-efd523af-d729-44cf-a40b-fa83a0852654.png, https://user-images.githubusercontent.com/1651790/168839251-efd523af-d729-44cf-a40b-fa83a0852654.png 1.5x, https://user-images.githubusercontent.com/1651790/168839251-efd523af-d729-44cf-a40b-fa83a0852654.png 2x"
            data-sizes="auto"
            alt="https://user-images.githubusercontent.com/1651790/168839251-efd523af-d729-44cf-a40b-fa83a0852654.png">
    </a></p>
<p>æˆ–è€…ç‚¹è¡€ç¼˜æŒ‰é’®æŸ¥çœ‹è¡€ç¼˜çš„å›¾è¡¨å¼ï¼š</p>
<p><a class="lightgallery" href="https://user-images.githubusercontent.com/1651790/168838814-e6ff5152-c24b-470e-a46a-48f183ba7201.png" title="https://user-images.githubusercontent.com/1651790/168838814-e6ff5152-c24b-470e-a46a-48f183ba7201.png" data-thumbnail="https://user-images.githubusercontent.com/1651790/168838814-e6ff5152-c24b-470e-a46a-48f183ba7201.png">
        <img
            class="lazyload"
            data-src="https://user-images.githubusercontent.com/1651790/168838814-e6ff5152-c24b-470e-a46a-48f183ba7201.png"
            data-srcset="https://user-images.githubusercontent.com/1651790/168838814-e6ff5152-c24b-470e-a46a-48f183ba7201.png, https://user-images.githubusercontent.com/1651790/168838814-e6ff5152-c24b-470e-a46a-48f183ba7201.png 1.5x, https://user-images.githubusercontent.com/1651790/168838814-e6ff5152-c24b-470e-a46a-48f183ba7201.png 2x"
            data-sizes="auto"
            alt="https://user-images.githubusercontent.com/1651790/168838814-e6ff5152-c24b-470e-a46a-48f183ba7201.png">
    </a></p>
<p>ä¹Ÿæœ‰ç”¨äºè¡€ç¼˜æŸ¥è¯¢çš„ APIã€‚ è¿™ä¸ªä¾‹å­ä¸­æˆ‘ä»¬ç”¨ cURL è°ƒç”¨ä¸‹è¿™ä¸ª APIï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker run -it --rm --net container:amundsenfrontend nicolaka/netshoot
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">curl <span class="s2">&#34;http://amundsenmetadata:5002/table/snowflake://dbt_demo.public/raw_inventory_value/lineage?depth=3&amp;direction=both&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä¸Šé¢çš„ API è°ƒç”¨æ˜¯æŸ¥è¯¢ä¸Šæ¸¸å’Œä¸‹æ¸¸æ–¹å‘çš„ linageï¼Œè¡¨ <code>snowflake://dbt_demo.public/raw_inventory_value</code> çš„æ·±åº¦ä¸º 3ã€‚</p>
<p>ç»“æœåº”è¯¥æ˜¯è¿™æ ·çš„ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;depth&#34;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;downstream_entities&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;level&#34;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;usage&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;key&#34;</span><span class="p">:</span> <span class="s2">&#34;snowflake://dbt_demo.public/fact_daily_expenses&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;parent&#34;</span><span class="p">:</span> <span class="s2">&#34;snowflake://dbt_demo.public/fact_warehouse_inventory&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;badges&#34;</span><span class="p">:</span> <span class="p">[],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;source&#34;</span><span class="p">:</span> <span class="s2">&#34;snowflake&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;level&#34;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;usage&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;key&#34;</span><span class="p">:</span> <span class="s2">&#34;snowflake://dbt_demo.public/fact_warehouse_inventory&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;parent&#34;</span><span class="p">:</span> <span class="s2">&#34;snowflake://dbt_demo.public/raw_inventory_value&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;badges&#34;</span><span class="p">:</span> <span class="p">[],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;source&#34;</span><span class="p">:</span> <span class="s2">&#34;snowflake&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;key&#34;</span><span class="p">:</span> <span class="s2">&#34;snowflake://dbt_demo.public/raw_inventory_value&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;direction&#34;</span><span class="p">:</span> <span class="s2">&#34;both&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;upstream_entities&#34;</span><span class="p">:</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å®é™…ä¸Šï¼Œè¿™ä¸ªè¡€ç¼˜æ•°æ®å°±æ˜¯åœ¨æˆ‘ä»¬çš„ <a href="https://github.com/amundsen-io/amundsen/blob/main/databuilder/databuilder/extractor/dbt_extractor.py" target="_blank" rel="noopener noreferrer">DbtExtractor</a> æ‰§è¡ŒæœŸé—´æå–å’ŒåŠ è½½çš„ï¼Œå…¶ä¸­ <code>extractor .dbt.{DbtExtractor.EXTRACT_LINEAGE}</code> é»˜è®¤ä¸º <code>True</code>ï¼Œå› æ­¤åˆ›å»ºäº†è¡€ç¼˜å…ƒæ•°æ®å¹¶å°†å…¶åŠ è½½åˆ°äº† Amundsenã€‚</p>
<h4 id="åœ¨-nebulagraph-ä¸­æ´å¯Ÿè¡€ç¼˜" class="headerLink">
    <a href="#%e5%9c%a8-nebulagraph-%e4%b8%ad%e6%b4%9e%e5%af%9f%e8%a1%80%e7%bc%98" class="header-mark"></a>4.5.1 åœ¨ NebulaGraph ä¸­æ´å¯Ÿè¡€ç¼˜</h4><p>ä½¿ç”¨å›¾æ•°æ®åº“ä½œä¸ºå…ƒæ•°æ®å­˜å‚¨çš„ä¸¤ä¸ªä¼˜ç‚¹æ˜¯ï¼š</p>
<ul>
<li>å›¾æŸ¥è¯¢æœ¬èº«æ˜¯ä¸€ä¸ªçµæ´»çš„ DSL for lineage APIï¼Œä¾‹å¦‚ï¼Œè¿™ä¸ªæŸ¥è¯¢å¸®åŠ©æˆ‘ä»¬æ‰§è¡Œ Amundsen å…ƒæ•°æ® API çš„ç­‰ä»·çš„æŸ¥è¯¢ï¼š</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-mysql" data-lang="mysql"><span class="line"><span class="cl"><span class="k">MATCH</span><span class="w"> </span><span class="n">p</span><span class="o">=</span><span class="p">(</span><span class="n">t</span><span class="p">:</span><span class="o">`</span><span class="k">Table</span><span class="o">`</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="p">[:</span><span class="o">`</span><span class="n">HAS_UPSTREAM</span><span class="o">`|</span><span class="p">:</span><span class="o">`</span><span class="n">HAS_DOWNSTREAM</span><span class="o">`</span><span class="w"> </span><span class="o">*</span><span class="mi">1</span><span class="p">..</span><span class="mi">3</span><span class="p">]</span><span class="o">-&gt;</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">WHERE</span><span class="w"> </span><span class="nf">id</span><span class="p">(</span><span class="n">t</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&#34;snowflake://dbt_demo.public/raw_inventory_value&#34;</span><span class="w"> </span><span class="k">RETURN</span><span class="w"> </span><span class="n">p</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>æˆ‘ä»¬ç°åœ¨ç”šè‡³å¯ä»¥åœ¨ NebulaGraph Studio æˆ–è€… Explorer çš„æ§åˆ¶å°ä¸­æŸ¥è¯¢å®ƒ</li>
</ul>
<p><a class="lightgallery" href="https://user-images.githubusercontent.com/1651790/168844882-ca3d0587-7946-4e17-8264-9dc973a44673.png" title="https://user-images.githubusercontent.com/1651790/168844882-ca3d0587-7946-4e17-8264-9dc973a44673.png" data-thumbnail="https://user-images.githubusercontent.com/1651790/168844882-ca3d0587-7946-4e17-8264-9dc973a44673.png">
        <img
            class="lazyload"
            data-src="https://user-images.githubusercontent.com/1651790/168844882-ca3d0587-7946-4e17-8264-9dc973a44673.png"
            data-srcset="https://user-images.githubusercontent.com/1651790/168844882-ca3d0587-7946-4e17-8264-9dc973a44673.png, https://user-images.githubusercontent.com/1651790/168844882-ca3d0587-7946-4e17-8264-9dc973a44673.png 1.5x, https://user-images.githubusercontent.com/1651790/168844882-ca3d0587-7946-4e17-8264-9dc973a44673.png 2x"
            data-sizes="auto"
            alt="https://user-images.githubusercontent.com/1651790/168844882-ca3d0587-7946-4e17-8264-9dc973a44673.png">
    </a></p>
<p>â€‹    ç„¶åæ¸²æŸ“è¿™ä¸ªç»“æœï¼š</p>
<p><a class="lightgallery" href="https://user-images.githubusercontent.com/1651790/168845155-b0e7a5ce-3ddf-4cc9-89a3-aaf1bbb0f5ec.png" title="https://user-images.githubusercontent.com/1651790/168845155-b0e7a5ce-3ddf-4cc9-89a3-aaf1bbb0f5ec.png" data-thumbnail="https://user-images.githubusercontent.com/1651790/168845155-b0e7a5ce-3ddf-4cc9-89a3-aaf1bbb0f5ec.png">
        <img
            class="lazyload"
            data-src="https://user-images.githubusercontent.com/1651790/168845155-b0e7a5ce-3ddf-4cc9-89a3-aaf1bbb0f5ec.png"
            data-srcset="https://user-images.githubusercontent.com/1651790/168845155-b0e7a5ce-3ddf-4cc9-89a3-aaf1bbb0f5ec.png, https://user-images.githubusercontent.com/1651790/168845155-b0e7a5ce-3ddf-4cc9-89a3-aaf1bbb0f5ec.png 1.5x, https://user-images.githubusercontent.com/1651790/168845155-b0e7a5ce-3ddf-4cc9-89a3-aaf1bbb0f5ec.png 2x"
            data-sizes="auto"
            alt="https://user-images.githubusercontent.com/1651790/168845155-b0e7a5ce-3ddf-4cc9-89a3-aaf1bbb0f5ec.png">
    </a></p>
<h4 id="æå–æ•°æ®è¡€ç¼˜" class="headerLink">
    <a href="#%e6%8f%90%e5%8f%96%e6%95%b0%e6%8d%ae%e8%a1%80%e7%bc%98" class="header-mark"></a>4.5.2 æå–æ•°æ®è¡€ç¼˜</h4><p>è¿™äº›è¡€ç¼˜ä¿¡æ¯æ˜¯éœ€è¦æˆ‘ä»¬æ˜ç¡®æŒ‡å®šã€è·å–çš„ï¼Œè·å–çš„æ–¹å¼å¯ä»¥æ˜¯è‡ªå·±å†™çš„ extractorï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€äº›å·²ç»æœ‰çš„æ–¹å¼ã€‚æ¯”å¦‚ dbt çš„ extractorå’Œ Open Lineage é¡¹ç›®çš„ Amundsen extractorã€‚</p>
<h5 id="é€šè¿‡-dbt" class="headerLink">
    <a href="#%e9%80%9a%e8%bf%87-dbt" class="header-mark"></a>4.5.2.1 é€šè¿‡ dbt</h5><p>è¿™ä¸ªåœ¨åˆšæ‰å·²ç»å±•ç¤ºè¿‡äº†ï¼ŒDbt çš„ Extractor ä¼šä»è¡¨çº§åˆ«è·å–è¡€ç¼˜å’Œå…¶ä»– dbt ä¸­äº§ç”Ÿçš„å…ƒæ•°æ®ä¿¡æ¯ä¸€èµ·è¢«æ‹¿åˆ°ã€‚</p>
<h5 id="é€šè¿‡-open-lineage" class="headerLink">
    <a href="#%e9%80%9a%e8%bf%87-open-lineage" class="header-mark"></a>4.5.2.2 é€šè¿‡ Open Lineage</h5><p>Amundsen ä¸­çš„å¦ä¸€ä¸ªå¼€ç®±å³ç”¨çš„è¡€ç¼˜ Extractor æ˜¯ <a href="https://www.amundsen.io/amundsen/databuilder/#openlineagetablelineageextractor" target="_blank" rel="noopener noreferrer">OpenLineageTableLineageExtractor</a>ã€‚</p>
<p><a href="https://openlineage.io/" target="_blank" rel="noopener noreferrer">Open Lineage</a> æ˜¯ä¸€ä¸ªå¼€æ”¾çš„æ¡†æ¶ï¼Œå¯ä»¥å°†ä¸åŒæ¥æºçš„è¡€ç»Ÿæ•°æ®æ”¶é›†åˆ°ä¸€ä¸ªåœ°æ–¹ï¼Œå®ƒå¯ä»¥å°†è¡€ç»Ÿä¿¡æ¯è¾“å‡ºä¸º JSON æ–‡ä»¶ï¼šhttps://www.amundsen.io/amundsen/databuilder/#openlineagetablelineageextractor</p>
<p>ä¸‹è¾¹æ˜¯å®ƒçš„ Amundsen data builder ä¾‹å­ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">dict_config</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># ...</span>
</span></span><span class="line"><span class="cl">    <span class="sa">f</span><span class="s1">&#39;extractor.openlineage_tablelineage.</span><span class="si">{</span><span class="n">OpenLineageTableLineageExtractor</span><span class="o">.</span><span class="n">CLUSTER_NAME</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">:</span> <span class="s1">&#39;datalab&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="sa">f</span><span class="s1">&#39;extractor.openlineage_tablelineage.</span><span class="si">{</span><span class="n">OpenLineageTableLineageExtractor</span><span class="o">.</span><span class="n">OL_DATASET_NAMESPACE_OVERRIDE</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">:</span> <span class="s1">&#39;hive_table&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="sa">f</span><span class="s1">&#39;extractor.openlineage_tablelineage.</span><span class="si">{</span><span class="n">OpenLineageTableLineageExtractor</span><span class="o">.</span><span class="n">TABLE_LINEAGE_FILE_LOCATION</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">:</span> <span class="s1">&#39;input_dir/openlineage_nd.json&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="o">...</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">task</span> <span class="o">=</span> <span class="n">DefaultTask</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="n">extractor</span><span class="o">=</span><span class="n">OpenLineageTableLineageExtractor</span><span class="p">(),</span>
</span></span><span class="line"><span class="cl">    <span class="n">loader</span><span class="o">=</span><span class="n">FsNebulaCSVLoader</span><span class="p">())</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="å›é¡¾" class="headerLink">
    <a href="#%e5%9b%9e%e9%a1%be" class="header-mark"></a>5 å›é¡¾</h2><p>æ•´å¥—å…ƒæ•°æ®æ²»ç†/å‘ç°çš„æ–¹æ¡ˆæ€è·¯å¦‚ä¸‹ï¼š</p>
<ul>
<li>å°†æ•´ä¸ªæ•°æ®æŠ€æœ¯æ ˆä¸­çš„ç»„ä»¶ä½œä¸ºå…ƒæ•°æ®æºï¼ˆä»ä»»ä½•æ•°æ®åº“ã€æ•°ä»“ï¼Œåˆ° dbtã€Airflowã€Openlineageã€Superset ç­‰å„çº§é¡¹ç›®ï¼‰</li>
<li>ä½¿ç”¨ Databuilderï¼ˆä½œä¸ºè„šæœ¬æˆ– DAGï¼‰è¿è¡Œå…ƒæ•°æ® ETLï¼Œä»¥ä½¿ç”¨ NebulaGraph å’Œ Elasticsearch å­˜å‚¨å’Œç´¢å¼•</li>
<li>ä»å‰ç«¯ UIï¼ˆä½¿ç”¨ Superset é¢„è§ˆï¼‰æˆ– API å»ä½¿ç”¨ã€æ¶ˆè´¹ã€ç®¡ç†å’Œå‘ç°å…ƒæ•°æ®</li>
<li>é€šè¿‡æŸ¥è¯¢å’Œ UI å¯¹ NebulaGraphï¼Œæˆ‘ä»¬å¯ä»¥è·å¾—æ›´å¤šçš„å¯èƒ½æ€§ã€çµæ´»æ€§å’Œæ•°æ®ã€è¡€ç¼˜çš„æ´å¯Ÿ</li>
</ul>
<p><a class="lightgallery" href="https://user-images.githubusercontent.com/1651790/168849779-4826f50e-ff87-4e78-b17f-076f91182c43.svg" title="https://user-images.githubusercontent.com/1651790/168849779-4826f50e-ff87-4e78-b17f-076f91182c43.svg" data-thumbnail="https://user-images.githubusercontent.com/1651790/168849779-4826f50e-ff87-4e78-b17f-076f91182c43.svg">
        <img
            class="lazyload"
            data-src="https://user-images.githubusercontent.com/1651790/168849779-4826f50e-ff87-4e78-b17f-076f91182c43.svg"
            data-srcset="https://user-images.githubusercontent.com/1651790/168849779-4826f50e-ff87-4e78-b17f-076f91182c43.svg, https://user-images.githubusercontent.com/1651790/168849779-4826f50e-ff87-4e78-b17f-076f91182c43.svg 1.5x, https://user-images.githubusercontent.com/1651790/168849779-4826f50e-ff87-4e78-b17f-076f91182c43.svg 2x"
            data-sizes="auto"
            alt="https://user-images.githubusercontent.com/1651790/168849779-4826f50e-ff87-4e78-b17f-076f91182c43.svg">
    </a></p>
<h3 id="æ¶‰åŠåˆ°çš„å¼€æº" class="headerLink">
    <a href="#%e6%b6%89%e5%8f%8a%e5%88%b0%e7%9a%84%e5%bc%80%e6%ba%90" class="header-mark"></a>5.1 æ¶‰åŠåˆ°çš„å¼€æº</h3><p>æ­¤å‚è€ƒé¡¹ç›®ä¸­ä½¿ç”¨çš„æ‰€æœ‰é¡¹ç›®éƒ½æŒ‰å­—å…¸é¡ºåºåœ¨ä¸‹é¢åˆ—å‡ºã€‚</p>
<ul>
<li>Amundsen</li>
<li>Apache Airflow</li>
<li>Apache Superset</li>
<li>dbt</li>
<li>Elasticsearch</li>
<li>meltano</li>
<li>Nebula Graph</li>
<li>Open Lineage</li>
<li>singer</li>
</ul>
<blockquote>
<p>é¢˜å›¾ç‰ˆæƒï¼š <a href="https://unsplash.com/photos/PhnJhjH9Y9s" target="_blank" rel="noopener noreferrer">Phil Hearing</a></p>
</blockquote></div>

        


<h2>ç›¸å…³å†…å®¹</h2>
<div class="related-container">
    <div class="related-item-container">
            <div class="related-image">
                <a href="/nebulagraph-sns/"><img
        class="lazyload"
        data-src="/nebulagraph-sns/featured-image.webp"
        data-srcset="/nebulagraph-sns/featured-image.webp, /nebulagraph-sns/featured-image.webp 1.5x, /nebulagraph-sns/featured-image.webp 2x"
        data-sizes="auto"
        alt="/nebulagraph-sns/featured-image.webp"
        title="ä¹Ÿè®¸æˆ‘ä»¬æ²¡æœ‰å¿…è¦ä»å¤´åœ¨ NebulaGraph ä¸Šæ­å»ºè‡ªå·±çš„æ•°æ®è¡€ç¼˜é¡¹ç›®ï¼Œæœ¬æ–‡åˆ†äº«å¦‚ä½•ç”¨å¼€æºã€ç°ä»£çš„ DataOpsã€ETLã€Dashboardã€å…ƒæ•°æ®ã€æ•°æ®è¡€ç¼˜ç®¡ç†ç³»ç»Ÿæ„å»ºå¤§æ•°æ®æ²»ç†åŸºç¡€è®¾æ–½" height="200" width="400"></a>
            </div><h2 class="related-title">
                <a href="/nebulagraph-sns/">å›¾æ•°æ®åº“çš„ç¤¾äº¤ç½‘ç»œåº”ç”¨</a>
            </h2>
        </div>
    <div class="related-item-container">
            <div class="related-image">
                <a href="/chatgpt-and-nebulagraph-predict-fifa-world-cup/"><img
        class="lazyload"
        data-src="/chatgpt-and-nebulagraph-predict-fifa-world-cup/featured-image.webp"
        data-srcset="/chatgpt-and-nebulagraph-predict-fifa-world-cup/featured-image.webp, /chatgpt-and-nebulagraph-predict-fifa-world-cup/featured-image.webp 1.5x, /chatgpt-and-nebulagraph-predict-fifa-world-cup/featured-image.webp 2x"
        data-sizes="auto"
        alt="/chatgpt-and-nebulagraph-predict-fifa-world-cup/featured-image.webp"
        title="ä¹Ÿè®¸æˆ‘ä»¬æ²¡æœ‰å¿…è¦ä»å¤´åœ¨ NebulaGraph ä¸Šæ­å»ºè‡ªå·±çš„æ•°æ®è¡€ç¼˜é¡¹ç›®ï¼Œæœ¬æ–‡åˆ†äº«å¦‚ä½•ç”¨å¼€æºã€ç°ä»£çš„ DataOpsã€ETLã€Dashboardã€å…ƒæ•°æ®ã€æ•°æ®è¡€ç¼˜ç®¡ç†ç³»ç»Ÿæ„å»ºå¤§æ•°æ®æ²»ç†åŸºç¡€è®¾æ–½" height="200" width="400"></a>
            </div><h2 class="related-title">
                <a href="/chatgpt-and-nebulagraph-predict-fifa-world-cup/">chatGPT åŠ  NebulaGraph é¢„æµ‹ 2022 ä¸–ç•Œæ¯å† å†›çƒé˜Ÿ</a>
            </h2>
        </div>
    <div class="related-item-container">
            <div class="related-image">
                <a href="/apisix-and-nebulagraph/"><img
        class="lazyload"
        data-src="/apisix-and-nebulagraph/featured-image.webp"
        data-srcset="/apisix-and-nebulagraph/featured-image.webp, /apisix-and-nebulagraph/featured-image.webp 1.5x, /apisix-and-nebulagraph/featured-image.webp 2x"
        data-sizes="auto"
        alt="/apisix-and-nebulagraph/featured-image.webp"
        title="ä¹Ÿè®¸æˆ‘ä»¬æ²¡æœ‰å¿…è¦ä»å¤´åœ¨ NebulaGraph ä¸Šæ­å»ºè‡ªå·±çš„æ•°æ®è¡€ç¼˜é¡¹ç›®ï¼Œæœ¬æ–‡åˆ†äº«å¦‚ä½•ç”¨å¼€æºã€ç°ä»£çš„ DataOpsã€ETLã€Dashboardã€å…ƒæ•°æ®ã€æ•°æ®è¡€ç¼˜ç®¡ç†ç³»ç»Ÿæ„å»ºå¤§æ•°æ®æ²»ç†åŸºç¡€è®¾æ–½" height="200" width="400"></a>
            </div><h2 class="related-title">
                <a href="/apisix-and-nebulagraph/">NebulaGraph çš„äº‘åŸç”Ÿ API ç½‘å…³æœ€ä½³å®è·µ</a>
            </h2>
        </div>
    <div class="related-item-container">
            <div class="related-image">
                <a href="/nebulagraph-etl-dbt/"><img
        class="lazyload"
        data-src="/nebulagraph-etl-dbt/featured-image.webp"
        data-srcset="/nebulagraph-etl-dbt/featured-image.webp, /nebulagraph-etl-dbt/featured-image.webp 1.5x, /nebulagraph-etl-dbt/featured-image.webp 2x"
        data-sizes="auto"
        alt="/nebulagraph-etl-dbt/featured-image.webp"
        title="ä¹Ÿè®¸æˆ‘ä»¬æ²¡æœ‰å¿…è¦ä»å¤´åœ¨ NebulaGraph ä¸Šæ­å»ºè‡ªå·±çš„æ•°æ®è¡€ç¼˜é¡¹ç›®ï¼Œæœ¬æ–‡åˆ†äº«å¦‚ä½•ç”¨å¼€æºã€ç°ä»£çš„ DataOpsã€ETLã€Dashboardã€å…ƒæ•°æ®ã€æ•°æ®è¡€ç¼˜ç®¡ç†ç³»ç»Ÿæ„å»ºå¤§æ•°æ®æ²»ç†åŸºç¡€è®¾æ–½" height="200" width="400"></a>
            </div><h2 class="related-title">
                <a href="/nebulagraph-etl-dbt/">åˆ©ç”¨ dbtï¼ŒåŸºäºè¡¨ç»“æ„çš„ Nebulagraph å›¾å»ºæ¨¡ä¸ ETL</a>
            </h2>
        </div>
    <div class="related-item-container">
            <div class="related-image">
                <a href="/recommendation-system-with-graphdb/"><img
        class="lazyload"
        data-src="/recommendation-system-with-graphdb/featured-image.webp"
        data-srcset="/recommendation-system-with-graphdb/featured-image.webp, /recommendation-system-with-graphdb/featured-image.webp 1.5x, /recommendation-system-with-graphdb/featured-image.webp 2x"
        data-sizes="auto"
        alt="/recommendation-system-with-graphdb/featured-image.webp"
        title="ä¹Ÿè®¸æˆ‘ä»¬æ²¡æœ‰å¿…è¦ä»å¤´åœ¨ NebulaGraph ä¸Šæ­å»ºè‡ªå·±çš„æ•°æ®è¡€ç¼˜é¡¹ç›®ï¼Œæœ¬æ–‡åˆ†äº«å¦‚ä½•ç”¨å¼€æºã€ç°ä»£çš„ DataOpsã€ETLã€Dashboardã€å…ƒæ•°æ®ã€æ•°æ®è¡€ç¼˜ç®¡ç†ç³»ç»Ÿæ„å»ºå¤§æ•°æ®æ²»ç†åŸºç¡€è®¾æ–½" height="200" width="400"></a>
            </div><h2 class="related-title">
                <a href="/recommendation-system-with-graphdb/">åŸºäºå›¾æ•°æ®åº“çš„æ¨èç³»ç»Ÿ</a>
            </h2>
        </div>
    

</div>

<div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>æ›´æ–°äº 2023-01-09&nbsp;<a class="git-hash" href="github.com/siwei-io/siwei-io.github.io/commit/f4791b7aeddadd69f830895e5d1f7a80fdb3e15c" target="_blank" title="commit by wey-gu(1651790&#43;wey-gu@users.noreply.github.com) f4791b7aeddadd69f830895e5d1f7a80fdb3e15c: draft sns en, typo fixes" rel="noopener noreferrer">
                                    <i class="fas fa-hashtag fa-fw"></i>f4791b7</a></span>
            </div>
            <div class="post-info-license"></div>
        </div>
        <div class="post-info-line">
            <div class="post-info-md"><span><a class="link-to-mardown" href=/data-lineage-oss-ref-solution/index.md target="_blank" rel="noopener noreferrer">é˜…è¯»åŸå§‹æ–‡æ¡£</a>
                    </span></div>
            <div class="post-info-share">
                <span><a href="#" onclick="return false;" title="åˆ†äº«åˆ° Twitter" data-sharer="twitter" data-url="https://siwei.io/data-lineage-oss-ref-solution/" data-title="åŸºäºå¼€æºæŠ€æœ¯æ ˆçš„æ•°æ®è¡€ç¼˜ã€æ²»ç†å‚è€ƒè§£å†³æ–¹æ¡ˆ" data-via="wey_gu" data-hashtags="Nebula Graph,Amundsen,æ•°æ®è¡€ç¼˜,æ•°æ®æ²»ç†"><i class="fab fa-twitter fa-fw"></i></a><a href="#" onclick="return false;" title="åˆ†äº«åˆ° Facebook" data-sharer="facebook" data-url="https://siwei.io/data-lineage-oss-ref-solution/" data-hashtag="Nebula Graph"><i class="fab fa-facebook-square fa-fw"></i></a><a href="#" onclick="return false;" title="åˆ†äº«åˆ° WhatsApp" data-sharer="whatsapp" data-url="https://siwei.io/data-lineage-oss-ref-solution/" data-title="åŸºäºå¼€æºæŠ€æœ¯æ ˆçš„æ•°æ®è¡€ç¼˜ã€æ²»ç†å‚è€ƒè§£å†³æ–¹æ¡ˆ" data-web><i class="fab fa-whatsapp fa-fw"></i></a><a href="#" onclick="return false;" title="åˆ†äº«åˆ° Line" data-sharer="line" data-url="https://siwei.io/data-lineage-oss-ref-solution/" data-title="åŸºäºå¼€æºæŠ€æœ¯æ ˆçš„æ•°æ®è¡€ç¼˜ã€æ²»ç†å‚è€ƒè§£å†³æ–¹æ¡ˆ"><i data-svg-src="/lib/simple-icons/icons/line.min.svg"></i></a><a href="#" onclick="return false;" title="åˆ†äº«åˆ° å¾®åš" data-sharer="weibo" data-url="https://siwei.io/data-lineage-oss-ref-solution/" data-title="åŸºäºå¼€æºæŠ€æœ¯æ ˆçš„æ•°æ®è¡€ç¼˜ã€æ²»ç†å‚è€ƒè§£å†³æ–¹æ¡ˆ" data-image="featured-image.webp" data-ralateuid="siweigu"><i class="fab fa-weibo fa-fw"></i></a><a href="#" onclick="return false;" title="åˆ†äº«åˆ° Myspace" data-sharer="myspace" data-url="https://siwei.io/data-lineage-oss-ref-solution/" data-title="åŸºäºå¼€æºæŠ€æœ¯æ ˆçš„æ•°æ®è¡€ç¼˜ã€æ²»ç†å‚è€ƒè§£å†³æ–¹æ¡ˆ" data-description="ä¹Ÿè®¸æˆ‘ä»¬æ²¡æœ‰å¿…è¦ä»å¤´åœ¨ NebulaGraph ä¸Šæ­å»ºè‡ªå·±çš„æ•°æ®è¡€ç¼˜é¡¹ç›®ï¼Œæœ¬æ–‡åˆ†äº«å¦‚ä½•ç”¨å¼€æºã€ç°ä»£çš„ DataOpsã€ETLã€Dashboardã€å…ƒæ•°æ®ã€æ•°æ®è¡€ç¼˜ç®¡ç†ç³»ç»Ÿæ„å»ºå¤§æ•°æ®æ²»ç†åŸºç¡€è®¾æ–½"><i data-svg-src="/lib/simple-icons/icons/myspace.min.svg"></i></a><a href="#" onclick="return false;" title="åˆ†äº«åˆ° Blogger" data-sharer="blogger" data-url="https://siwei.io/data-lineage-oss-ref-solution/" data-title="åŸºäºå¼€æºæŠ€æœ¯æ ˆçš„æ•°æ®è¡€ç¼˜ã€æ²»ç†å‚è€ƒè§£å†³æ–¹æ¡ˆ" data-description="ä¹Ÿè®¸æˆ‘ä»¬æ²¡æœ‰å¿…è¦ä»å¤´åœ¨ NebulaGraph ä¸Šæ­å»ºè‡ªå·±çš„æ•°æ®è¡€ç¼˜é¡¹ç›®ï¼Œæœ¬æ–‡åˆ†äº«å¦‚ä½•ç”¨å¼€æºã€ç°ä»£çš„ DataOpsã€ETLã€Dashboardã€å…ƒæ•°æ®ã€æ•°æ®è¡€ç¼˜ç®¡ç†ç³»ç»Ÿæ„å»ºå¤§æ•°æ®æ²»ç†åŸºç¡€è®¾æ–½"><i class="fab fa-blogger fa-fw"></i></a><a href="#" onclick="return false;" title="åˆ†äº«åˆ° Evernote" data-sharer="evernote" data-url="https://siwei.io/data-lineage-oss-ref-solution/" data-title="åŸºäºå¼€æºæŠ€æœ¯æ ˆçš„æ•°æ®è¡€ç¼˜ã€æ²»ç†å‚è€ƒè§£å†³æ–¹æ¡ˆ"><i class="fab fa-evernote fa-fw"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/nebula-graph/">Nebula Graph</a>,&nbsp;<a href="/tags/amundsen/">Amundsen</a>,&nbsp;<a href="/tags/%E6%95%B0%E6%8D%AE%E8%A1%80%E7%BC%98/">æ•°æ®è¡€ç¼˜</a>,&nbsp;<a href="/tags/%E6%95%B0%E6%8D%AE%E6%B2%BB%E7%90%86/">æ•°æ®æ²»ç†</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">è¿”å›</a></span>&nbsp;|&nbsp;<span><a href="/">ä¸»é¡µ</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/apisix-and-nebulagraph/" class="prev" rel="prev" title="NebulaGraph çš„äº‘åŸç”Ÿ API ç½‘å…³æœ€ä½³å®è·µ"><i class="fas fa-angle-left fa-fw"></i>NebulaGraph çš„äº‘åŸç”Ÿ API ç½‘å…³æœ€ä½³å®è·µ</a>
            <a href="/chatgpt-and-nebulagraph-predict-fifa-world-cup/" class="next" rel="next" title="chatGPT åŠ  NebulaGraph é¢„æµ‹ 2022 ä¸–ç•Œæ¯å† å†›çƒé˜Ÿ">chatGPT åŠ  NebulaGraph é¢„æµ‹ 2022 ä¸–ç•Œæ¯å† å†›çƒé˜Ÿ<i class="fas fa-angle-right fa-fw"></i></a></div>
</div>
<div id="comments"><div id="giscus"></div><noscript>
                Please enable JavaScript to view the comments powered by <a href="https://giscus.app/">giscus</a>.
            </noscript></div></article></div>
        </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">
                    ç”± <a href="https://gohugo.io/" target="_blank" rel="noopener noreferrer" title="Hugo 0.107.0">Hugo</a> å¼ºåŠ›é©±åŠ¨&nbsp;|&nbsp;ä¸»é¢˜ - <a href="https://github.com/HEIGE-PCloud/DoIt" target="_blank" rel="noopener noreferrer" title="DoIt 0.2.13"><i class="far fa-edit fa-fw"></i> DoIt</a>
                </div><div class="footer-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2018 - 2023</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="https://siwei.io" target="_blank" rel="noopener noreferrer">Wey Gu</a></span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
            <div class="footer-line"></div>
            <div class="footer-line">
            </div>
        </div><script>
                    if('serviceWorker' in navigator) {
                        navigator.serviceWorker
                            .register('/sw.min.js', { scope: '/' })
                            .then(function(registration) {
                            });
                
                        navigator.serviceWorker
                            .ready
                            .then(function(registration) {
                            });
                    }
                </script></footer></div>

    <div id="fixed-buttons"><a href="#back-to-top" id="back-to-top-button" class="fixed-button" title="å›åˆ°é¡¶éƒ¨">
            <i class="fas fa-arrow-up fa-fw"></i>
        </a><a href="#" id="view-comments" class="fixed-button" title="æŸ¥çœ‹è¯„è®º">
            <i class="fas fa-comment fa-fw"></i>
        </a>
    </div><div class="assets"><script type="text/javascript" src="/lib/autocomplete/autocomplete.min.js"></script><script type="text/javascript" src="/lib/fuse/fuse.min.js"></script><script type="text/javascript" src="/lib/lazysizes/lazysizes.min.js"></script><script type="text/javascript" src="/lib/tablesort/tablesort.min.js"></script><script type="text/javascript" src="/lib/topbar/topbar.min.js"></script><script type="text/javascript" src="/lib/pjax/pjax.min.js"></script><script type="text/javascript" src="/js/theme.min.js" defer></script><script type="text/javascript">
            window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());
            gtag('config', 'UA-659952-4', { 'anonymize_ip': true });
        </script><script type="text/javascript" src="https://www.googletagmanager.com/gtag/js?id=UA-659952-4" async></script></div>

<div class="pjax-assets"><script type="text/javascript">window.config={"code":{"copyTitle":"å¤åˆ¶åˆ°å‰ªè´´æ¿","maxShownLines":10},"comment":{"giscus":{"darkTheme":"dark","dataCategory":"Comments","dataCategoryId":"DIC_kwDOFhiy8c4CQeuu","dataEmitMetadata":"1","dataInputPosition":"bottom","dataLang":"en","dataMapping":"title","dataReactionsEnabled":"1","dataRepo":"siwei-io/siwei-io.github.io","dataRepoId":"MDEwOlJlcG9zaXRvcnkzNzA3MTc0MjU=","dataStrict":"1","lightTheme":"light"}},"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false},"search":{"distance":100,"findAllMatches":true,"fuseIndexURL":"/index.json","highlightTag":"em","ignoreFieldNorm":false,"ignoreLocation":false,"isCaseSensitive":false,"location":0,"maxResultLength":10,"minMatchCharLength":2,"noResultsFound":"æ²¡æœ‰æ‰¾åˆ°ç»“æœ","snippetLength":50,"threshold":0.3,"type":"fuse","useExtendedSearch":false},"sharerjs":true,"table":{"sort":true}};</script><script type="text/javascript" src="/js/giscus.min.js" defer></script><script type="text/javascript" src="/lib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="/lib/sharer/sharer.min.js"></script><script type="text/javascript" src="/lib/katex/katex.min.js" defer></script><script type="text/javascript" src="/lib/katex/auto-render.min.js" defer></script><script type="text/javascript" src="/lib/katex/copy-tex.min.js" defer></script><script type="text/javascript" src="/lib/katex/mhchem.min.js" defer></script><script type="text/javascript" src="/js/katex.min.js" defer></script><link rel="stylesheet" href="/lib/katex/katex.min.css"><link rel="preload" as="style" onload="this.onload=null;this.rel='stylesheet'" href="/lib/katex/copy-tex.min.css">
        <noscript><link rel="stylesheet" href="/lib/katex/copy-tex.min.css"></noscript></div>
</body>

</html>